{"ast":null,"code":"'use strict';\n\nconst Mixin = require('../../utils/mixin');\nclass PositionTrackingPreprocessorMixin extends Mixin {\n  constructor(preprocessor) {\n    super(preprocessor);\n    this.preprocessor = preprocessor;\n    this.isEol = false;\n    this.lineStartPos = 0;\n    this.droppedBufferSize = 0;\n    this.offset = 0;\n    this.col = 0;\n    this.line = 1;\n  }\n  _getOverriddenMethods(mxn, orig) {\n    return {\n      advance() {\n        const pos = this.pos + 1;\n        const ch = this.html[pos];\n\n        //NOTE: LF should be in the last column of the line\n        if (mxn.isEol) {\n          mxn.isEol = false;\n          mxn.line++;\n          mxn.lineStartPos = pos;\n        }\n        if (ch === '\\n' || ch === '\\r' && this.html[pos + 1] !== '\\n') {\n          mxn.isEol = true;\n        }\n        mxn.col = pos - mxn.lineStartPos + 1;\n        mxn.offset = mxn.droppedBufferSize + pos;\n        return orig.advance.call(this);\n      },\n      retreat() {\n        orig.retreat.call(this);\n        mxn.isEol = false;\n        mxn.col = this.pos - mxn.lineStartPos + 1;\n      },\n      dropParsedChunk() {\n        const prevPos = this.pos;\n        orig.dropParsedChunk.call(this);\n        const reduction = prevPos - this.pos;\n        mxn.lineStartPos -= reduction;\n        mxn.droppedBufferSize += reduction;\n        mxn.offset = mxn.droppedBufferSize + this.pos;\n      }\n    };\n  }\n}\nmodule.exports = PositionTrackingPreprocessorMixin;","map":{"version":3,"names":["Mixin","require","PositionTrackingPreprocessorMixin","constructor","preprocessor","isEol","lineStartPos","droppedBufferSize","offset","col","line","_getOverriddenMethods","mxn","orig","advance","pos","ch","html","call","retreat","dropParsedChunk","prevPos","reduction","module","exports"],"sources":["C:/Users/noodp/Documents/GitHub/Pensionsrechner/client/node_modules/parse5/lib/extensions/position-tracking/preprocessor-mixin.js"],"sourcesContent":["'use strict';\r\n\r\nconst Mixin = require('../../utils/mixin');\r\n\r\nclass PositionTrackingPreprocessorMixin extends Mixin {\r\n    constructor(preprocessor) {\r\n        super(preprocessor);\r\n\r\n        this.preprocessor = preprocessor;\r\n        this.isEol = false;\r\n        this.lineStartPos = 0;\r\n        this.droppedBufferSize = 0;\r\n\r\n        this.offset = 0;\r\n        this.col = 0;\r\n        this.line = 1;\r\n    }\r\n\r\n    _getOverriddenMethods(mxn, orig) {\r\n        return {\r\n            advance() {\r\n                const pos = this.pos + 1;\r\n                const ch = this.html[pos];\r\n\r\n                //NOTE: LF should be in the last column of the line\r\n                if (mxn.isEol) {\r\n                    mxn.isEol = false;\r\n                    mxn.line++;\r\n                    mxn.lineStartPos = pos;\r\n                }\r\n\r\n                if (ch === '\\n' || (ch === '\\r' && this.html[pos + 1] !== '\\n')) {\r\n                    mxn.isEol = true;\r\n                }\r\n\r\n                mxn.col = pos - mxn.lineStartPos + 1;\r\n                mxn.offset = mxn.droppedBufferSize + pos;\r\n\r\n                return orig.advance.call(this);\r\n            },\r\n\r\n            retreat() {\r\n                orig.retreat.call(this);\r\n\r\n                mxn.isEol = false;\r\n                mxn.col = this.pos - mxn.lineStartPos + 1;\r\n            },\r\n\r\n            dropParsedChunk() {\r\n                const prevPos = this.pos;\r\n\r\n                orig.dropParsedChunk.call(this);\r\n\r\n                const reduction = prevPos - this.pos;\r\n\r\n                mxn.lineStartPos -= reduction;\r\n                mxn.droppedBufferSize += reduction;\r\n                mxn.offset = mxn.droppedBufferSize + this.pos;\r\n            }\r\n        };\r\n    }\r\n}\r\n\r\nmodule.exports = PositionTrackingPreprocessorMixin;\r\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,KAAK,GAAGC,OAAO,CAAC,mBAAmB,CAAC;AAE1C,MAAMC,iCAAiC,SAASF,KAAK,CAAC;EAClDG,WAAWA,CAACC,YAAY,EAAE;IACtB,KAAK,CAACA,YAAY,CAAC;IAEnB,IAAI,CAACA,YAAY,GAAGA,YAAY;IAChC,IAAI,CAACC,KAAK,GAAG,KAAK;IAClB,IAAI,CAACC,YAAY,GAAG,CAAC;IACrB,IAAI,CAACC,iBAAiB,GAAG,CAAC;IAE1B,IAAI,CAACC,MAAM,GAAG,CAAC;IACf,IAAI,CAACC,GAAG,GAAG,CAAC;IACZ,IAAI,CAACC,IAAI,GAAG,CAAC;EACjB;EAEAC,qBAAqBA,CAACC,GAAG,EAAEC,IAAI,EAAE;IAC7B,OAAO;MACHC,OAAOA,CAAA,EAAG;QACN,MAAMC,GAAG,GAAG,IAAI,CAACA,GAAG,GAAG,CAAC;QACxB,MAAMC,EAAE,GAAG,IAAI,CAACC,IAAI,CAACF,GAAG,CAAC;;QAEzB;QACA,IAAIH,GAAG,CAACP,KAAK,EAAE;UACXO,GAAG,CAACP,KAAK,GAAG,KAAK;UACjBO,GAAG,CAACF,IAAI,EAAE;UACVE,GAAG,CAACN,YAAY,GAAGS,GAAG;QAC1B;QAEA,IAAIC,EAAE,KAAK,IAAI,IAAKA,EAAE,KAAK,IAAI,IAAI,IAAI,CAACC,IAAI,CAACF,GAAG,GAAG,CAAC,CAAC,KAAK,IAAK,EAAE;UAC7DH,GAAG,CAACP,KAAK,GAAG,IAAI;QACpB;QAEAO,GAAG,CAACH,GAAG,GAAGM,GAAG,GAAGH,GAAG,CAACN,YAAY,GAAG,CAAC;QACpCM,GAAG,CAACJ,MAAM,GAAGI,GAAG,CAACL,iBAAiB,GAAGQ,GAAG;QAExC,OAAOF,IAAI,CAACC,OAAO,CAACI,IAAI,CAAC,IAAI,CAAC;MAClC,CAAC;MAEDC,OAAOA,CAAA,EAAG;QACNN,IAAI,CAACM,OAAO,CAACD,IAAI,CAAC,IAAI,CAAC;QAEvBN,GAAG,CAACP,KAAK,GAAG,KAAK;QACjBO,GAAG,CAACH,GAAG,GAAG,IAAI,CAACM,GAAG,GAAGH,GAAG,CAACN,YAAY,GAAG,CAAC;MAC7C,CAAC;MAEDc,eAAeA,CAAA,EAAG;QACd,MAAMC,OAAO,GAAG,IAAI,CAACN,GAAG;QAExBF,IAAI,CAACO,eAAe,CAACF,IAAI,CAAC,IAAI,CAAC;QAE/B,MAAMI,SAAS,GAAGD,OAAO,GAAG,IAAI,CAACN,GAAG;QAEpCH,GAAG,CAACN,YAAY,IAAIgB,SAAS;QAC7BV,GAAG,CAACL,iBAAiB,IAAIe,SAAS;QAClCV,GAAG,CAACJ,MAAM,GAAGI,GAAG,CAACL,iBAAiB,GAAG,IAAI,CAACQ,GAAG;MACjD;IACJ,CAAC;EACL;AACJ;AAEAQ,MAAM,CAACC,OAAO,GAAGtB,iCAAiC"},"metadata":{},"sourceType":"script","externalDependencies":[]}