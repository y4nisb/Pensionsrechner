{"ast":null,"code":"\"use strict\";\n\nconst conversions = require(\"webidl-conversions\");\nconst {\n  isSummaryForParentDetails\n} = require(\"../helpers/details\");\nconst focusing = require(\"../helpers/focusing\");\nconst {\n  HTML_NS,\n  SVG_NS\n} = require(\"../helpers/namespaces\");\nconst DOMStringMap = require(\"../generated/DOMStringMap\");\nconst tabIndexReflectAllowedHTMLElements = new Set([\"a\", \"area\", \"button\", \"frame\", \"iframe\", \"input\", \"object\", \"select\", \"textarea\"]);\nclass HTMLOrSVGElementImpl {\n  _initHTMLOrSVGElement() {\n    this._tabIndex = 0;\n    this._dataset = DOMStringMap.createImpl(this._globalObject, [], {\n      element: this\n    });\n  }\n  get dataset() {\n    return this._dataset;\n  }\n\n  // TODO this should be [Reflect]able if we added default value support to webidl2js's [Reflect]\n  get tabIndex() {\n    if (!this.hasAttributeNS(null, \"tabindex\")) {\n      if (this.namespaceURI === HTML_NS && (tabIndexReflectAllowedHTMLElements.has(this._localName) || this._localName === \"summary\" && isSummaryForParentDetails(this)) || this.namespaceURI === SVG_NS && this._localName === \"a\") {\n        return 0;\n      }\n      return -1;\n    }\n    return conversions.long(this.getAttributeNS(null, \"tabindex\"));\n  }\n  set tabIndex(value) {\n    this.setAttributeNS(null, \"tabindex\", String(value));\n  }\n  focus() {\n    if (!focusing.isFocusableAreaElement(this)) {\n      return;\n    }\n    const ownerDocument = this._ownerDocument;\n    const previous = ownerDocument._lastFocusedElement;\n    if (previous === this) {\n      return;\n    }\n    ownerDocument._lastFocusedElement = null;\n    if (previous) {\n      focusing.fireFocusEventWithTargetAdjustment(\"blur\", previous, this);\n      focusing.fireFocusEventWithTargetAdjustment(\"focusout\", previous, this, {\n        bubbles: true\n      });\n    } else {\n      const frameElement = ownerDocument._defaultView._frameElement;\n      if (frameElement) {\n        const frameLastFocusedElement = frameElement.ownerDocument._lastFocusedElement;\n        frameElement.ownerDocument._lastFocusedElement = null;\n        focusing.fireFocusEventWithTargetAdjustment(\"blur\", frameLastFocusedElement, null);\n        focusing.fireFocusEventWithTargetAdjustment(\"focusout\", frameLastFocusedElement, null, {\n          bubbles: true\n        });\n        frameElement.ownerDocument._lastFocusedElement = frameElement;\n      }\n    }\n    ownerDocument._lastFocusedElement = this;\n    focusing.fireFocusEventWithTargetAdjustment(\"focus\", this, previous);\n    focusing.fireFocusEventWithTargetAdjustment(\"focusin\", this, previous, {\n      bubbles: true\n    });\n  }\n  blur() {\n    if (this._ownerDocument._lastFocusedElement !== this || !focusing.isFocusableAreaElement(this)) {\n      return;\n    }\n    this._ownerDocument._lastFocusedElement = null;\n    focusing.fireFocusEventWithTargetAdjustment(\"blur\", this, this._ownerDocument);\n    focusing.fireFocusEventWithTargetAdjustment(\"focusout\", this, this._ownerDocument, {\n      bubbles: true\n    });\n    focusing.fireFocusEventWithTargetAdjustment(\"focus\", this._ownerDocument, this);\n    focusing.fireFocusEventWithTargetAdjustment(\"focusin\", this._ownerDocument, this, {\n      bubbles: true\n    });\n  }\n}\nexports.implementation = HTMLOrSVGElementImpl;","map":{"version":3,"names":["conversions","require","isSummaryForParentDetails","focusing","HTML_NS","SVG_NS","DOMStringMap","tabIndexReflectAllowedHTMLElements","Set","HTMLOrSVGElementImpl","_initHTMLOrSVGElement","_tabIndex","_dataset","createImpl","_globalObject","element","dataset","tabIndex","hasAttributeNS","namespaceURI","has","_localName","long","getAttributeNS","value","setAttributeNS","String","focus","isFocusableAreaElement","ownerDocument","_ownerDocument","previous","_lastFocusedElement","fireFocusEventWithTargetAdjustment","bubbles","frameElement","_defaultView","_frameElement","frameLastFocusedElement","blur","exports","implementation"],"sources":["C:/Users/noodp/Documents/GitHub/Pensionsrechner/client/node_modules/jsdom/lib/jsdom/living/nodes/HTMLOrSVGElement-impl.js"],"sourcesContent":["\"use strict\";\r\n\r\nconst conversions = require(\"webidl-conversions\");\r\nconst { isSummaryForParentDetails } = require(\"../helpers/details\");\r\nconst focusing = require(\"../helpers/focusing\");\r\nconst { HTML_NS, SVG_NS } = require(\"../helpers/namespaces\");\r\nconst DOMStringMap = require(\"../generated/DOMStringMap\");\r\n\r\nconst tabIndexReflectAllowedHTMLElements = new Set([\r\n  \"a\", \"area\", \"button\", \"frame\", \"iframe\",\r\n  \"input\", \"object\", \"select\", \"textarea\"\r\n]);\r\n\r\nclass HTMLOrSVGElementImpl {\r\n  _initHTMLOrSVGElement() {\r\n    this._tabIndex = 0;\r\n    this._dataset = DOMStringMap.createImpl(this._globalObject, [], { element: this });\r\n  }\r\n\r\n  get dataset() {\r\n    return this._dataset;\r\n  }\r\n\r\n  // TODO this should be [Reflect]able if we added default value support to webidl2js's [Reflect]\r\n  get tabIndex() {\r\n    if (!this.hasAttributeNS(null, \"tabindex\")) {\r\n      if ((this.namespaceURI === HTML_NS && (tabIndexReflectAllowedHTMLElements.has(this._localName) ||\r\n                                             (this._localName === \"summary\" && isSummaryForParentDetails(this)))) ||\r\n          (this.namespaceURI === SVG_NS && this._localName === \"a\")) {\r\n        return 0;\r\n      }\r\n      return -1;\r\n    }\r\n    return conversions.long(this.getAttributeNS(null, \"tabindex\"));\r\n  }\r\n\r\n  set tabIndex(value) {\r\n    this.setAttributeNS(null, \"tabindex\", String(value));\r\n  }\r\n\r\n  focus() {\r\n    if (!focusing.isFocusableAreaElement(this)) {\r\n      return;\r\n    }\r\n    const ownerDocument = this._ownerDocument;\r\n    const previous = ownerDocument._lastFocusedElement;\r\n\r\n    if (previous === this) {\r\n      return;\r\n    }\r\n\r\n    ownerDocument._lastFocusedElement = null;\r\n    if (previous) {\r\n      focusing.fireFocusEventWithTargetAdjustment(\"blur\", previous, this);\r\n      focusing.fireFocusEventWithTargetAdjustment(\"focusout\", previous, this, { bubbles: true });\r\n    } else {\r\n      const frameElement = ownerDocument._defaultView._frameElement;\r\n      if (frameElement) {\r\n        const frameLastFocusedElement = frameElement.ownerDocument._lastFocusedElement;\r\n        frameElement.ownerDocument._lastFocusedElement = null;\r\n        focusing.fireFocusEventWithTargetAdjustment(\"blur\", frameLastFocusedElement, null);\r\n        focusing.fireFocusEventWithTargetAdjustment(\"focusout\", frameLastFocusedElement, null, { bubbles: true });\r\n        frameElement.ownerDocument._lastFocusedElement = frameElement;\r\n      }\r\n    }\r\n\r\n    ownerDocument._lastFocusedElement = this;\r\n    focusing.fireFocusEventWithTargetAdjustment(\"focus\", this, previous);\r\n    focusing.fireFocusEventWithTargetAdjustment(\"focusin\", this, previous, { bubbles: true });\r\n  }\r\n\r\n  blur() {\r\n    if (this._ownerDocument._lastFocusedElement !== this || !focusing.isFocusableAreaElement(this)) {\r\n      return;\r\n    }\r\n\r\n    this._ownerDocument._lastFocusedElement = null;\r\n    focusing.fireFocusEventWithTargetAdjustment(\"blur\", this, this._ownerDocument);\r\n    focusing.fireFocusEventWithTargetAdjustment(\"focusout\", this, this._ownerDocument, { bubbles: true });\r\n    focusing.fireFocusEventWithTargetAdjustment(\"focus\", this._ownerDocument, this);\r\n    focusing.fireFocusEventWithTargetAdjustment(\"focusin\", this._ownerDocument, this, { bubbles: true });\r\n  }\r\n}\r\n\r\nexports.implementation = HTMLOrSVGElementImpl;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}