{"ast":null,"code":"\"use strict\";\n\nconst DOMException = require(\"domexception/webidl2js-wrapper\");\nconst OrderedSet = require(\"../helpers/ordered-set.js\");\nconst {\n  asciiLowercase\n} = require(\"../helpers/strings.js\");\nconst idlUtils = require(\"../generated/utils.js\");\nconst {\n  getAttributeValue,\n  setAttributeValue,\n  hasAttributeByName\n} = require(\"../attributes.js\");\nfunction validateTokens(globalObject) {\n  for (var _len = arguments.length, tokens = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    tokens[_key - 1] = arguments[_key];\n  }\n  for (const token of tokens) {\n    if (token === \"\") {\n      throw DOMException.create(globalObject, [\"The token provided must not be empty.\", \"SyntaxError\"]);\n    }\n  }\n  for (const token of tokens) {\n    if (/[\\t\\n\\f\\r ]/.test(token)) {\n      throw DOMException.create(globalObject, [\"The token provided contains HTML space characters, which are not valid in tokens.\", \"InvalidCharacterError\"]);\n    }\n  }\n}\n\n// https://dom.spec.whatwg.org/#domtokenlist\nclass DOMTokenListImpl {\n  constructor(globalObject, args, privateData) {\n    this._globalObject = globalObject;\n\n    // _syncWithElement() must always be called before any _tokenSet access.\n    this._tokenSet = new OrderedSet();\n    this._element = privateData.element;\n    this._attributeLocalName = privateData.attributeLocalName;\n    this._supportedTokens = privateData.supportedTokens;\n\n    // Needs synchronization with element if token set is to be accessed.\n    this._dirty = true;\n  }\n  attrModified() {\n    this._dirty = true;\n  }\n  _syncWithElement() {\n    if (!this._dirty) {\n      return;\n    }\n    const val = getAttributeValue(this._element, this._attributeLocalName);\n    if (val === null) {\n      this._tokenSet.empty();\n    } else {\n      this._tokenSet = OrderedSet.parse(val);\n    }\n    this._dirty = false;\n  }\n  _validationSteps(token) {\n    if (!this._supportedTokens) {\n      throw new TypeError(`${this._attributeLocalName} attribute has no supported tokens`);\n    }\n    const lowerToken = asciiLowercase(token);\n    return this._supportedTokens.has(lowerToken);\n  }\n  _updateSteps() {\n    if (!hasAttributeByName(this._element, this._attributeLocalName) && this._tokenSet.isEmpty()) {\n      return;\n    }\n    setAttributeValue(this._element, this._attributeLocalName, this._tokenSet.serialize());\n  }\n  _serializeSteps() {\n    return getAttributeValue(this._element, this._attributeLocalName);\n  }\n\n  // Used by other parts of jsdom\n  get tokenSet() {\n    this._syncWithElement();\n    return this._tokenSet;\n  }\n  get length() {\n    this._syncWithElement();\n    return this._tokenSet.size;\n  }\n  get [idlUtils.supportedPropertyIndices]() {\n    this._syncWithElement();\n    return this._tokenSet.keys();\n  }\n  item(index) {\n    this._syncWithElement();\n    if (index >= this._tokenSet.size) {\n      return null;\n    }\n    return this._tokenSet.get(index);\n  }\n  contains(token) {\n    this._syncWithElement();\n    return this._tokenSet.contains(token);\n  }\n  add() {\n    for (var _len2 = arguments.length, tokens = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      tokens[_key2] = arguments[_key2];\n    }\n    for (const token of tokens) {\n      validateTokens(this._globalObject, token);\n    }\n    this._syncWithElement();\n    for (const token of tokens) {\n      this._tokenSet.append(token);\n    }\n    this._updateSteps();\n  }\n  remove() {\n    for (var _len3 = arguments.length, tokens = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      tokens[_key3] = arguments[_key3];\n    }\n    for (const token of tokens) {\n      validateTokens(this._globalObject, token);\n    }\n    this._syncWithElement();\n    this._tokenSet.remove(...tokens);\n    this._updateSteps();\n  }\n  toggle(token) {\n    let force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n    validateTokens(this._globalObject, token);\n    this._syncWithElement();\n    if (this._tokenSet.contains(token)) {\n      if (force === undefined || force === false) {\n        this._tokenSet.remove(token);\n        this._updateSteps();\n        return false;\n      }\n      return true;\n    }\n    if (force === undefined || force === true) {\n      this._tokenSet.append(token);\n      this._updateSteps();\n      return true;\n    }\n    return false;\n  }\n  replace(token, newToken) {\n    validateTokens(this._globalObject, token, newToken);\n    this._syncWithElement();\n    if (!this._tokenSet.contains(token)) {\n      return false;\n    }\n    this._tokenSet.replace(token, newToken);\n    this._updateSteps();\n    return true;\n  }\n  supports(token) {\n    return this._validationSteps(token);\n  }\n  get value() {\n    return this._serializeSteps();\n  }\n  set value(V) {\n    setAttributeValue(this._element, this._attributeLocalName, V);\n  }\n}\nexports.implementation = DOMTokenListImpl;","map":{"version":3,"names":["DOMException","require","OrderedSet","asciiLowercase","idlUtils","getAttributeValue","setAttributeValue","hasAttributeByName","validateTokens","globalObject","_len","arguments","length","tokens","Array","_key","token","create","test","DOMTokenListImpl","constructor","args","privateData","_globalObject","_tokenSet","_element","element","_attributeLocalName","attributeLocalName","_supportedTokens","supportedTokens","_dirty","attrModified","_syncWithElement","val","empty","parse","_validationSteps","TypeError","lowerToken","has","_updateSteps","isEmpty","serialize","_serializeSteps","tokenSet","size","supportedPropertyIndices","keys","item","index","get","contains","add","_len2","_key2","append","remove","_len3","_key3","toggle","force","undefined","replace","newToken","supports","value","V","exports","implementation"],"sources":["C:/Users/noodp/Documents/GitHub/Pensionsrechner/client/node_modules/jsdom/lib/jsdom/living/nodes/DOMTokenList-impl.js"],"sourcesContent":["\"use strict\";\r\n\r\nconst DOMException = require(\"domexception/webidl2js-wrapper\");\r\nconst OrderedSet = require(\"../helpers/ordered-set.js\");\r\nconst { asciiLowercase } = require(\"../helpers/strings.js\");\r\nconst idlUtils = require(\"../generated/utils.js\");\r\n\r\nconst { getAttributeValue, setAttributeValue, hasAttributeByName } = require(\"../attributes.js\");\r\n\r\nfunction validateTokens(globalObject, ...tokens) {\r\n  for (const token of tokens) {\r\n    if (token === \"\") {\r\n      throw DOMException.create(globalObject, [\"The token provided must not be empty.\", \"SyntaxError\"]);\r\n    }\r\n  }\r\n  for (const token of tokens) {\r\n    if (/[\\t\\n\\f\\r ]/.test(token)) {\r\n      throw DOMException.create(globalObject, [\r\n        \"The token provided contains HTML space characters, which are not valid in tokens.\",\r\n        \"InvalidCharacterError\"\r\n      ]);\r\n    }\r\n  }\r\n}\r\n\r\n// https://dom.spec.whatwg.org/#domtokenlist\r\nclass DOMTokenListImpl {\r\n  constructor(globalObject, args, privateData) {\r\n    this._globalObject = globalObject;\r\n\r\n    // _syncWithElement() must always be called before any _tokenSet access.\r\n    this._tokenSet = new OrderedSet();\r\n    this._element = privateData.element;\r\n    this._attributeLocalName = privateData.attributeLocalName;\r\n    this._supportedTokens = privateData.supportedTokens;\r\n\r\n    // Needs synchronization with element if token set is to be accessed.\r\n    this._dirty = true;\r\n  }\r\n\r\n  attrModified() {\r\n    this._dirty = true;\r\n  }\r\n\r\n  _syncWithElement() {\r\n    if (!this._dirty) {\r\n      return;\r\n    }\r\n\r\n    const val = getAttributeValue(this._element, this._attributeLocalName);\r\n    if (val === null) {\r\n      this._tokenSet.empty();\r\n    } else {\r\n      this._tokenSet = OrderedSet.parse(val);\r\n    }\r\n\r\n    this._dirty = false;\r\n  }\r\n\r\n  _validationSteps(token) {\r\n    if (!this._supportedTokens) {\r\n      throw new TypeError(`${this._attributeLocalName} attribute has no supported tokens`);\r\n    }\r\n    const lowerToken = asciiLowercase(token);\r\n    return this._supportedTokens.has(lowerToken);\r\n  }\r\n\r\n  _updateSteps() {\r\n    if (!hasAttributeByName(this._element, this._attributeLocalName) && this._tokenSet.isEmpty()) {\r\n      return;\r\n    }\r\n    setAttributeValue(this._element, this._attributeLocalName, this._tokenSet.serialize());\r\n  }\r\n\r\n  _serializeSteps() {\r\n    return getAttributeValue(this._element, this._attributeLocalName);\r\n  }\r\n\r\n  // Used by other parts of jsdom\r\n  get tokenSet() {\r\n    this._syncWithElement();\r\n    return this._tokenSet;\r\n  }\r\n\r\n  get length() {\r\n    this._syncWithElement();\r\n    return this._tokenSet.size;\r\n  }\r\n\r\n  get [idlUtils.supportedPropertyIndices]() {\r\n    this._syncWithElement();\r\n    return this._tokenSet.keys();\r\n  }\r\n\r\n  item(index) {\r\n    this._syncWithElement();\r\n    if (index >= this._tokenSet.size) {\r\n      return null;\r\n    }\r\n    return this._tokenSet.get(index);\r\n  }\r\n\r\n  contains(token) {\r\n    this._syncWithElement();\r\n    return this._tokenSet.contains(token);\r\n  }\r\n\r\n  add(...tokens) {\r\n    for (const token of tokens) {\r\n      validateTokens(this._globalObject, token);\r\n    }\r\n    this._syncWithElement();\r\n    for (const token of tokens) {\r\n      this._tokenSet.append(token);\r\n    }\r\n    this._updateSteps();\r\n  }\r\n\r\n  remove(...tokens) {\r\n    for (const token of tokens) {\r\n      validateTokens(this._globalObject, token);\r\n    }\r\n    this._syncWithElement();\r\n    this._tokenSet.remove(...tokens);\r\n    this._updateSteps();\r\n  }\r\n\r\n  toggle(token, force = undefined) {\r\n    validateTokens(this._globalObject, token);\r\n    this._syncWithElement();\r\n    if (this._tokenSet.contains(token)) {\r\n      if (force === undefined || force === false) {\r\n        this._tokenSet.remove(token);\r\n        this._updateSteps();\r\n        return false;\r\n      }\r\n      return true;\r\n    }\r\n    if (force === undefined || force === true) {\r\n      this._tokenSet.append(token);\r\n      this._updateSteps();\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  replace(token, newToken) {\r\n    validateTokens(this._globalObject, token, newToken);\r\n    this._syncWithElement();\r\n    if (!this._tokenSet.contains(token)) {\r\n      return false;\r\n    }\r\n    this._tokenSet.replace(token, newToken);\r\n    this._updateSteps();\r\n    return true;\r\n  }\r\n\r\n  supports(token) {\r\n    return this._validationSteps(token);\r\n  }\r\n\r\n  get value() {\r\n    return this._serializeSteps();\r\n  }\r\n\r\n  set value(V) {\r\n    setAttributeValue(this._element, this._attributeLocalName, V);\r\n  }\r\n}\r\n\r\nexports.implementation = DOMTokenListImpl;\r\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,YAAY,GAAGC,OAAO,CAAC,gCAAgC,CAAC;AAC9D,MAAMC,UAAU,GAAGD,OAAO,CAAC,2BAA2B,CAAC;AACvD,MAAM;EAAEE;AAAe,CAAC,GAAGF,OAAO,CAAC,uBAAuB,CAAC;AAC3D,MAAMG,QAAQ,GAAGH,OAAO,CAAC,uBAAuB,CAAC;AAEjD,MAAM;EAAEI,iBAAiB;EAAEC,iBAAiB;EAAEC;AAAmB,CAAC,GAAGN,OAAO,CAAC,kBAAkB,CAAC;AAEhG,SAASO,cAAcA,CAACC,YAAY,EAAa;EAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAARC,MAAM,OAAAC,KAAA,CAAAJ,IAAA,OAAAA,IAAA,WAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;IAANF,MAAM,CAAAE,IAAA,QAAAJ,SAAA,CAAAI,IAAA;EAAA;EAC7C,KAAK,MAAMC,KAAK,IAAIH,MAAM,EAAE;IAC1B,IAAIG,KAAK,KAAK,EAAE,EAAE;MAChB,MAAMhB,YAAY,CAACiB,MAAM,CAACR,YAAY,EAAE,CAAC,uCAAuC,EAAE,aAAa,CAAC,CAAC;IACnG;EACF;EACA,KAAK,MAAMO,KAAK,IAAIH,MAAM,EAAE;IAC1B,IAAI,aAAa,CAACK,IAAI,CAACF,KAAK,CAAC,EAAE;MAC7B,MAAMhB,YAAY,CAACiB,MAAM,CAACR,YAAY,EAAE,CACtC,mFAAmF,EACnF,uBAAuB,CACxB,CAAC;IACJ;EACF;AACF;;AAEA;AACA,MAAMU,gBAAgB,CAAC;EACrBC,WAAWA,CAACX,YAAY,EAAEY,IAAI,EAAEC,WAAW,EAAE;IAC3C,IAAI,CAACC,aAAa,GAAGd,YAAY;;IAEjC;IACA,IAAI,CAACe,SAAS,GAAG,IAAItB,UAAU,EAAE;IACjC,IAAI,CAACuB,QAAQ,GAAGH,WAAW,CAACI,OAAO;IACnC,IAAI,CAACC,mBAAmB,GAAGL,WAAW,CAACM,kBAAkB;IACzD,IAAI,CAACC,gBAAgB,GAAGP,WAAW,CAACQ,eAAe;;IAEnD;IACA,IAAI,CAACC,MAAM,GAAG,IAAI;EACpB;EAEAC,YAAYA,CAAA,EAAG;IACb,IAAI,CAACD,MAAM,GAAG,IAAI;EACpB;EAEAE,gBAAgBA,CAAA,EAAG;IACjB,IAAI,CAAC,IAAI,CAACF,MAAM,EAAE;MAChB;IACF;IAEA,MAAMG,GAAG,GAAG7B,iBAAiB,CAAC,IAAI,CAACoB,QAAQ,EAAE,IAAI,CAACE,mBAAmB,CAAC;IACtE,IAAIO,GAAG,KAAK,IAAI,EAAE;MAChB,IAAI,CAACV,SAAS,CAACW,KAAK,EAAE;IACxB,CAAC,MAAM;MACL,IAAI,CAACX,SAAS,GAAGtB,UAAU,CAACkC,KAAK,CAACF,GAAG,CAAC;IACxC;IAEA,IAAI,CAACH,MAAM,GAAG,KAAK;EACrB;EAEAM,gBAAgBA,CAACrB,KAAK,EAAE;IACtB,IAAI,CAAC,IAAI,CAACa,gBAAgB,EAAE;MAC1B,MAAM,IAAIS,SAAS,CAAE,GAAE,IAAI,CAACX,mBAAoB,oCAAmC,CAAC;IACtF;IACA,MAAMY,UAAU,GAAGpC,cAAc,CAACa,KAAK,CAAC;IACxC,OAAO,IAAI,CAACa,gBAAgB,CAACW,GAAG,CAACD,UAAU,CAAC;EAC9C;EAEAE,YAAYA,CAAA,EAAG;IACb,IAAI,CAAClC,kBAAkB,CAAC,IAAI,CAACkB,QAAQ,EAAE,IAAI,CAACE,mBAAmB,CAAC,IAAI,IAAI,CAACH,SAAS,CAACkB,OAAO,EAAE,EAAE;MAC5F;IACF;IACApC,iBAAiB,CAAC,IAAI,CAACmB,QAAQ,EAAE,IAAI,CAACE,mBAAmB,EAAE,IAAI,CAACH,SAAS,CAACmB,SAAS,EAAE,CAAC;EACxF;EAEAC,eAAeA,CAAA,EAAG;IAChB,OAAOvC,iBAAiB,CAAC,IAAI,CAACoB,QAAQ,EAAE,IAAI,CAACE,mBAAmB,CAAC;EACnE;;EAEA;EACA,IAAIkB,QAAQA,CAAA,EAAG;IACb,IAAI,CAACZ,gBAAgB,EAAE;IACvB,OAAO,IAAI,CAACT,SAAS;EACvB;EAEA,IAAIZ,MAAMA,CAAA,EAAG;IACX,IAAI,CAACqB,gBAAgB,EAAE;IACvB,OAAO,IAAI,CAACT,SAAS,CAACsB,IAAI;EAC5B;EAEA,KAAK1C,QAAQ,CAAC2C,wBAAwB,IAAI;IACxC,IAAI,CAACd,gBAAgB,EAAE;IACvB,OAAO,IAAI,CAACT,SAAS,CAACwB,IAAI,EAAE;EAC9B;EAEAC,IAAIA,CAACC,KAAK,EAAE;IACV,IAAI,CAACjB,gBAAgB,EAAE;IACvB,IAAIiB,KAAK,IAAI,IAAI,CAAC1B,SAAS,CAACsB,IAAI,EAAE;MAChC,OAAO,IAAI;IACb;IACA,OAAO,IAAI,CAACtB,SAAS,CAAC2B,GAAG,CAACD,KAAK,CAAC;EAClC;EAEAE,QAAQA,CAACpC,KAAK,EAAE;IACd,IAAI,CAACiB,gBAAgB,EAAE;IACvB,OAAO,IAAI,CAACT,SAAS,CAAC4B,QAAQ,CAACpC,KAAK,CAAC;EACvC;EAEAqC,GAAGA,CAAA,EAAY;IAAA,SAAAC,KAAA,GAAA3C,SAAA,CAAAC,MAAA,EAARC,MAAM,OAAAC,KAAA,CAAAwC,KAAA,GAAAC,KAAA,MAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA;MAAN1C,MAAM,CAAA0C,KAAA,IAAA5C,SAAA,CAAA4C,KAAA;IAAA;IACX,KAAK,MAAMvC,KAAK,IAAIH,MAAM,EAAE;MAC1BL,cAAc,CAAC,IAAI,CAACe,aAAa,EAAEP,KAAK,CAAC;IAC3C;IACA,IAAI,CAACiB,gBAAgB,EAAE;IACvB,KAAK,MAAMjB,KAAK,IAAIH,MAAM,EAAE;MAC1B,IAAI,CAACW,SAAS,CAACgC,MAAM,CAACxC,KAAK,CAAC;IAC9B;IACA,IAAI,CAACyB,YAAY,EAAE;EACrB;EAEAgB,MAAMA,CAAA,EAAY;IAAA,SAAAC,KAAA,GAAA/C,SAAA,CAAAC,MAAA,EAARC,MAAM,OAAAC,KAAA,CAAA4C,KAAA,GAAAC,KAAA,MAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA;MAAN9C,MAAM,CAAA8C,KAAA,IAAAhD,SAAA,CAAAgD,KAAA;IAAA;IACd,KAAK,MAAM3C,KAAK,IAAIH,MAAM,EAAE;MAC1BL,cAAc,CAAC,IAAI,CAACe,aAAa,EAAEP,KAAK,CAAC;IAC3C;IACA,IAAI,CAACiB,gBAAgB,EAAE;IACvB,IAAI,CAACT,SAAS,CAACiC,MAAM,CAAC,GAAG5C,MAAM,CAAC;IAChC,IAAI,CAAC4B,YAAY,EAAE;EACrB;EAEAmB,MAAMA,CAAC5C,KAAK,EAAqB;IAAA,IAAnB6C,KAAK,GAAAlD,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAmD,SAAA,GAAAnD,SAAA,MAAGmD,SAAS;IAC7BtD,cAAc,CAAC,IAAI,CAACe,aAAa,EAAEP,KAAK,CAAC;IACzC,IAAI,CAACiB,gBAAgB,EAAE;IACvB,IAAI,IAAI,CAACT,SAAS,CAAC4B,QAAQ,CAACpC,KAAK,CAAC,EAAE;MAClC,IAAI6C,KAAK,KAAKC,SAAS,IAAID,KAAK,KAAK,KAAK,EAAE;QAC1C,IAAI,CAACrC,SAAS,CAACiC,MAAM,CAACzC,KAAK,CAAC;QAC5B,IAAI,CAACyB,YAAY,EAAE;QACnB,OAAO,KAAK;MACd;MACA,OAAO,IAAI;IACb;IACA,IAAIoB,KAAK,KAAKC,SAAS,IAAID,KAAK,KAAK,IAAI,EAAE;MACzC,IAAI,CAACrC,SAAS,CAACgC,MAAM,CAACxC,KAAK,CAAC;MAC5B,IAAI,CAACyB,YAAY,EAAE;MACnB,OAAO,IAAI;IACb;IACA,OAAO,KAAK;EACd;EAEAsB,OAAOA,CAAC/C,KAAK,EAAEgD,QAAQ,EAAE;IACvBxD,cAAc,CAAC,IAAI,CAACe,aAAa,EAAEP,KAAK,EAAEgD,QAAQ,CAAC;IACnD,IAAI,CAAC/B,gBAAgB,EAAE;IACvB,IAAI,CAAC,IAAI,CAACT,SAAS,CAAC4B,QAAQ,CAACpC,KAAK,CAAC,EAAE;MACnC,OAAO,KAAK;IACd;IACA,IAAI,CAACQ,SAAS,CAACuC,OAAO,CAAC/C,KAAK,EAAEgD,QAAQ,CAAC;IACvC,IAAI,CAACvB,YAAY,EAAE;IACnB,OAAO,IAAI;EACb;EAEAwB,QAAQA,CAACjD,KAAK,EAAE;IACd,OAAO,IAAI,CAACqB,gBAAgB,CAACrB,KAAK,CAAC;EACrC;EAEA,IAAIkD,KAAKA,CAAA,EAAG;IACV,OAAO,IAAI,CAACtB,eAAe,EAAE;EAC/B;EAEA,IAAIsB,KAAKA,CAACC,CAAC,EAAE;IACX7D,iBAAiB,CAAC,IAAI,CAACmB,QAAQ,EAAE,IAAI,CAACE,mBAAmB,EAAEwC,CAAC,CAAC;EAC/D;AACF;AAEAC,OAAO,CAACC,cAAc,GAAGlD,gBAAgB"},"metadata":{},"sourceType":"script","externalDependencies":[]}