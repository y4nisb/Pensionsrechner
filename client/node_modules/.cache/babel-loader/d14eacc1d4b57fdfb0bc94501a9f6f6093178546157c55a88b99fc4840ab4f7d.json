{"ast":null,"code":"/*\r\n * Copyright (C) 2007-2019 Diego Perini\r\n * All rights reserved.\r\n *\r\n * nwsapi.js - Fast CSS Selectors API Engine\r\n *\r\n * Author: Diego Perini <diego.perini at gmail com>\r\n * Version: 2.2.0\r\n * Created: 20070722\r\n * Release: 20220901\r\n *\r\n * License:\r\n *  http://javascript.nwbox.com/nwsapi/MIT-LICENSE\r\n * Download:\r\n *  http://javascript.nwbox.com/nwsapi/nwsapi.js\r\n */\n\n(function Export(global, factory) {\n  'use strict';\n\n  if (typeof module == 'object' && typeof exports == 'object') {\n    module.exports = factory;\n  } else if (typeof define == 'function' && define['amd']) {\n    define(factory);\n  } else {\n    global.NW || (global.NW = {});\n    global.NW.Dom = factory(global, Export);\n  }\n})(this, function Factory(global, Export) {\n  var version = 'nwsapi-2.2.2',\n    doc = global.document,\n    root = doc.documentElement,\n    slice = Array.prototype.slice,\n    WSP = '[\\\\x20\\\\t\\\\r\\\\n\\\\f]',\n    CFG = {\n      // extensions\n      operators: '[~*^$|]=|=',\n      combinators: '[\\\\x20\\\\t>+~](?=[^>+~])'\n    },\n    NOT = {\n      // not enclosed in double/single/parens/square\n      double_enc: '(?=(?:[^\"]*[\"][^\"]*[\"])*[^\"]*$)',\n      single_enc: \"(?=(?:[^']*['][^']*['])*[^']*$)\",\n      parens_enc: '(?![^\\\\x28]*\\\\x29)',\n      square_enc: '(?![^\\\\x5b]*\\\\x5d)'\n    },\n    REX = {\n      // regular expressions\n      HasEscapes: RegExp('\\\\\\\\'),\n      HexNumbers: RegExp('^[0-9a-fA-F]'),\n      EscOrQuote: RegExp('^\\\\\\\\|[\\\\x22\\\\x27]'),\n      RegExpChar: RegExp('(?:(?!\\\\\\\\)[\\\\\\\\^$.*+?()[\\\\]{}|\\\\/])', 'g'),\n      TrimSpaces: RegExp('[\\\\r\\\\n\\\\f]|^' + WSP + '+|' + WSP + '+$', 'g'),\n      CommaGroup: RegExp('(\\\\s*,\\\\s*)' + NOT.square_enc + NOT.parens_enc, 'g'),\n      SplitGroup: RegExp('((?:\\\\x28[^\\\\x29]*\\\\x29|\\\\[[^\\\\]]*\\\\]|\\\\\\\\.|[^,])+)', 'g'),\n      FixEscapes: RegExp('\\\\\\\\([0-9a-fA-F]{1,6}' + WSP + '?|.)|([\\\\x22\\\\x27])', 'g'),\n      CombineWSP: RegExp('[\\\\n\\\\r\\\\f\\\\x20]+' + NOT.single_enc + NOT.double_enc, 'g'),\n      TabCharWSP: RegExp('(\\\\x20?\\\\t+\\\\x20?)' + NOT.single_enc + NOT.double_enc, 'g'),\n      PseudosWSP: RegExp('\\\\s+([-+])\\\\s+' + NOT.square_enc, 'g')\n    },\n    STD = {\n      combinator: RegExp('\\\\s?([>+~])\\\\s?', 'g'),\n      apimethods: RegExp('^(?:[a-z]+|\\\\*)\\\\|', 'i'),\n      namespaces: RegExp('(\\\\*|[a-z]+)\\\\|[-a-z]+', 'i')\n    },\n    GROUPS = {\n      // pseudo-classes requiring parameters\n      linguistic: '(dir|lang)\\\\x28\\\\s?([-\\\\w]{2,})\\\\s?(?:\\\\x29|$)',\n      logicalsel: '(is|where|matches|not)\\\\x28\\\\s?([^()]*|[^\\\\x28]*\\\\x28[^\\\\x29]*\\\\x29)\\\\s?(?:\\\\x29|$)',\n      treestruct: '(nth(?:-last)?(?:-child|-of-type))(?:\\\\x28\\\\s?(even|odd|(?:[-+]?\\\\d*)(?:n\\\\s?[-+]?\\\\s?\\\\d*)?)\\\\s?(?:\\\\x29|$))',\n      // pseudo-classes not requiring parameters\n      locationpc: '(any-link|link|visited|target)\\\\b',\n      useraction: '(hover|active|focus|focus-within)\\\\b',\n      structural: '(root|empty|(?:(?:first|last|only)(?:-child|-of-type)))\\\\b',\n      inputstate: '(enabled|disabled|read-only|read-write|placeholder-shown|default)\\\\b',\n      inputvalue: '(checked|indeterminate|required|optional|valid|invalid|in-range|out-of-range)\\\\b',\n      // pseudo-classes for parsing only selectors\n      pseudo_nop: '(autofill|-webkit-autofill)\\\\b',\n      // pseudo-elements starting with single colon (:)\n      pseudo_sng: '(after|before|first-letter|first-line)\\\\b',\n      // pseudo-elements starting with double colon (::)\n      pseudo_dbl: ':(after|before|first-letter|first-line|selection|placeholder|-webkit-[-a-zA-Z0-9]{2,})\\\\b'\n    },\n    Patterns = {\n      // pseudo-classes\n      treestruct: RegExp('^:(?:' + GROUPS.treestruct + ')(.*)', 'i'),\n      structural: RegExp('^:(?:' + GROUPS.structural + ')(.*)', 'i'),\n      linguistic: RegExp('^:(?:' + GROUPS.linguistic + ')(.*)', 'i'),\n      useraction: RegExp('^:(?:' + GROUPS.useraction + ')(.*)', 'i'),\n      inputstate: RegExp('^:(?:' + GROUPS.inputstate + ')(.*)', 'i'),\n      inputvalue: RegExp('^:(?:' + GROUPS.inputvalue + ')(.*)', 'i'),\n      locationpc: RegExp('^:(?:' + GROUPS.locationpc + ')(.*)', 'i'),\n      logicalsel: RegExp('^:(?:' + GROUPS.logicalsel + ')(.*)', 'i'),\n      pseudo_nop: RegExp('^:(?:' + GROUPS.pseudo_nop + ')(.*)', 'i'),\n      pseudo_sng: RegExp('^:(?:' + GROUPS.pseudo_sng + ')(.*)', 'i'),\n      pseudo_dbl: RegExp('^:(?:' + GROUPS.pseudo_dbl + ')(.*)', 'i'),\n      // combinator symbols\n      children: RegExp('^' + WSP + '?\\\\>' + WSP + '?(.*)'),\n      adjacent: RegExp('^' + WSP + '?\\\\+' + WSP + '?(.*)'),\n      relative: RegExp('^' + WSP + '?\\\\~' + WSP + '?(.*)'),\n      ancestor: RegExp('^' + WSP + '+(.*)'),\n      // universal & namespace\n      universal: RegExp('^\\\\*(.*)'),\n      namespace: RegExp('^(\\\\w+|\\\\*)?\\\\|(.*)')\n    },\n    // regexp to aproximate detection of RTL languages (Arabic)\n    RTL = RegExp('^[\\\\u0591-\\\\u08ff\\\\ufb1d-\\\\ufdfd\\\\ufe70-\\\\ufefc ]+$'),\n    // emulate firefox error strings\n    qsNotArgs = 'Not enough arguments',\n    qsInvalid = ' is not a valid selector',\n    // detect structural pseudo-classes in selectors\n    reNthElem = RegExp('(:nth(?:-last)?-child)', 'i'),\n    reNthType = RegExp('(:nth(?:-last)?-of-type)', 'i'),\n    // placeholder for global regexp\n    reOptimizer,\n    reValidator,\n    // special handling configuration flags\n    Config = {\n      IDS_DUPES: true,\n      MIXEDCASE: true,\n      LOGERRORS: true,\n      VERBOSITY: true\n    },\n    NAMESPACE,\n    QUIRKS_MODE,\n    HTML_DOCUMENT,\n    ATTR_STD_OPS = {\n      '=': 1,\n      '^=': 1,\n      '$=': 1,\n      '|=': 1,\n      '*=': 1,\n      '~=': 1\n    },\n    HTML_TABLE = {\n      'accept': 1,\n      'accept-charset': 1,\n      'align': 1,\n      'alink': 1,\n      'axis': 1,\n      'bgcolor': 1,\n      'charset': 1,\n      'checked': 1,\n      'clear': 1,\n      'codetype': 1,\n      'color': 1,\n      'compact': 1,\n      'declare': 1,\n      'defer': 1,\n      'dir': 1,\n      'direction': 1,\n      'disabled': 1,\n      'enctype': 1,\n      'face': 1,\n      'frame': 1,\n      'hreflang': 1,\n      'http-equiv': 1,\n      'lang': 1,\n      'language': 1,\n      'link': 1,\n      'media': 1,\n      'method': 1,\n      'multiple': 1,\n      'nohref': 1,\n      'noresize': 1,\n      'noshade': 1,\n      'nowrap': 1,\n      'readonly': 1,\n      'rel': 1,\n      'rev': 1,\n      'rules': 1,\n      'scope': 1,\n      'scrolling': 1,\n      'selected': 1,\n      'shape': 1,\n      'target': 1,\n      'text': 1,\n      'type': 1,\n      'valign': 1,\n      'valuetype': 1,\n      'vlink': 1\n    },\n    Combinators = {},\n    Selectors = {},\n    Operators = {\n      '=': {\n        p1: '^',\n        p2: '$',\n        p3: 'true'\n      },\n      '^=': {\n        p1: '^',\n        p2: '',\n        p3: 'true'\n      },\n      '$=': {\n        p1: '',\n        p2: '$',\n        p3: 'true'\n      },\n      '*=': {\n        p1: '',\n        p2: '',\n        p3: 'true'\n      },\n      '|=': {\n        p1: '^',\n        p2: '(-|$)',\n        p3: 'true'\n      },\n      '~=': {\n        p1: '(^|\\\\s)',\n        p2: '(\\\\s|$)',\n        p3: 'true'\n      }\n    },\n    concatCall = function (nodes, callback) {\n      var i = 0,\n        l = nodes.length,\n        list = Array(l);\n      while (l > i) {\n        if (false === callback(list[i] = nodes[i])) break;\n        ++i;\n      }\n      return list;\n    },\n    concatList = function (list, nodes) {\n      var i = -1,\n        l = nodes.length;\n      while (l--) {\n        list[list.length] = nodes[++i];\n      }\n      return list;\n    },\n    documentOrder = function (a, b) {\n      if (!hasDupes && a === b) {\n        hasDupes = true;\n        return 0;\n      }\n      return a.compareDocumentPosition(b) & 4 ? -1 : 1;\n    },\n    hasDupes = false,\n    unique = function (nodes) {\n      var i = 0,\n        j = -1,\n        l = nodes.length + 1,\n        list = [];\n      while (--l) {\n        if (nodes[i++] === nodes[i]) continue;\n        list[++j] = nodes[i - 1];\n      }\n      hasDupes = false;\n      return list;\n    },\n    // check context for mixed content\n    hasMixedCaseTagNames = function (context) {\n      var ns,\n        api = 'getElementsByTagNameNS';\n\n      // current host context (ownerDocument)\n      context = context.ownerDocument || context;\n\n      // documentElement (root) element namespace or default html/xhtml namespace\n      ns = context.documentElement.namespaceURI || 'http://www.w3.org/1999/xhtml';\n\n      // checking the number of non HTML nodes in the document\n      return context[api]('*', '*').length - context[api](ns, '*').length > 0;\n    },\n    switchContext = function (context, force) {\n      var oldDoc = doc;\n      doc = context.ownerDocument || context;\n      if (force || oldDoc !== doc) {\n        // force a new check for each document change\n        // performed before the next select operation\n        root = doc.documentElement;\n        HTML_DOCUMENT = isHTML(doc);\n        QUIRKS_MODE = HTML_DOCUMENT && doc.compatMode.indexOf('CSS') < 0;\n        NAMESPACE = root && root.namespaceURI;\n        Snapshot.doc = doc;\n        Snapshot.root = root;\n      }\n      return Snapshot.from = context;\n    },\n    // convert single codepoint to UTF-16 encoding\n    codePointToUTF16 = function (codePoint) {\n      // out of range, use replacement character\n      if (codePoint < 1 || codePoint > 0x10ffff || codePoint > 0xd7ff && codePoint < 0xe000) {\n        return '\\\\ufffd';\n      }\n      // javascript strings are UTF-16 encoded\n      if (codePoint < 0x10000) {\n        var lowHex = '000' + codePoint.toString(16);\n        return '\\\\u' + lowHex.substr(lowHex.length - 4);\n      }\n      // supplementary high + low surrogates\n      return '\\\\u' + ((codePoint - 0x10000 >> 0x0a) + 0xd800).toString(16) + '\\\\u' + ((codePoint - 0x10000) % 0x400 + 0xdc00).toString(16);\n    },\n    // convert single codepoint to string\n    stringFromCodePoint = function (codePoint) {\n      // out of range, use replacement character\n      if (codePoint < 1 || codePoint > 0x10ffff || codePoint > 0xd7ff && codePoint < 0xe000) {\n        return '\\ufffd';\n      }\n      if (codePoint < 0x10000) {\n        return String.fromCharCode(codePoint);\n      }\n      return String.fromCodePoint ? String.fromCodePoint(codePoint) : String.fromCharCode((codePoint - 0x10000 >> 0x0a) + 0xd800, (codePoint - 0x10000) % 0x400 + 0xdc00);\n    },\n    // convert escape sequence in a CSS string or identifier\n    // to javascript string with javascript escape sequences\n    convertEscapes = function (str) {\n      return REX.HasEscapes.test(str) ? str.replace(REX.FixEscapes, function (substring, p1, p2) {\n        // unescaped \" or '\n        return p2 ? '\\\\' + p2 :\n        // javascript strings are UTF-16 encoded\n        REX.HexNumbers.test(p1) ? codePointToUTF16(parseInt(p1, 16)) :\n        // \\' \\\"\n        REX.EscOrQuote.test(p1) ? substring :\n        // \\g \\h \\. \\# etc\n        p1;\n      }) : str;\n    },\n    // convert escape sequence in a CSS string or identifier\n    // to javascript string with characters representations\n    unescapeIdentifier = function (str) {\n      return REX.HasEscapes.test(str) ? str.replace(REX.FixEscapes, function (substring, p1, p2) {\n        // unescaped \" or '\n        return p2 ? p2 :\n        // javascript strings are UTF-16 encoded\n        REX.HexNumbers.test(p1) ? stringFromCodePoint(parseInt(p1, 16)) :\n        // \\' \\\"\n        REX.EscOrQuote.test(p1) ? substring :\n        // \\g \\h \\. \\# etc\n        p1;\n      }) : str;\n    },\n    method = {\n      '#': 'getElementById',\n      '*': 'getElementsByTagName',\n      '|': 'getElementsByTagNameNS',\n      '.': 'getElementsByClassName'\n    },\n    compat = {\n      '#': function (c, n) {\n        REX.HasEscapes.test(n) && (n = unescapeIdentifier(n));\n        return function (e, f) {\n          return byId(n, c);\n        };\n      },\n      '*': function (c, n) {\n        REX.HasEscapes.test(n) && (n = unescapeIdentifier(n));\n        return function (e, f) {\n          return byTag(n, c);\n        };\n      },\n      '|': function (c, n) {\n        REX.HasEscapes.test(n) && (n = unescapeIdentifier(n));\n        return function (e, f) {\n          return byTag(n, c);\n        };\n      },\n      '.': function (c, n) {\n        REX.HasEscapes.test(n) && (n = unescapeIdentifier(n));\n        return function (e, f) {\n          return byClass(n, c);\n        };\n      }\n    },\n    // find duplicate ids using iterative walk\n    byIdRaw = function (id, context) {\n      var node = context,\n        nodes = [],\n        next = node.firstElementChild;\n      while (node = next) {\n        node.id == id && (nodes[nodes.length] = node);\n        if (next = node.firstElementChild || node.nextElementSibling) continue;\n        while (!next && (node = node.parentElement) && node !== context) {\n          next = node.nextElementSibling;\n        }\n      }\n      return nodes;\n    },\n    // context agnostic getElementById\n    byId = function (id, context) {\n      var e,\n        nodes,\n        api = method['#'];\n\n      // duplicates id allowed\n      if (Config.IDS_DUPES === false) {\n        if (api in context) {\n          return (e = context[api](id)) ? [e] : none;\n        }\n      } else {\n        if ('all' in context) {\n          if (e = context.all[id]) {\n            if (e.nodeType == 1) return e.getAttribute('id') != id ? [] : [e];else if (id == 'length') return (e = context[api](id)) ? [e] : none;\n            for (i = 0, l = e.length, nodes = []; l > i; ++i) {\n              if (e[i].id == id) nodes[nodes.length] = e[i];\n            }\n            return nodes && nodes.length ? nodes : [nodes];\n          } else return none;\n        }\n      }\n      return byIdRaw(id, context);\n    },\n    // context agnostic getElementsByTagName\n    byTag = function (tag, context) {\n      var e,\n        nodes,\n        api = method['*'];\n      // DOCUMENT_NODE (9) & ELEMENT_NODE (1)\n      if (api in context) {\n        return slice.call(context[api](tag));\n      } else {\n        tag = tag.toLowerCase();\n        // DOCUMENT_FRAGMENT_NODE (11)\n        if (e = context.firstElementChild) {\n          if (!(e.nextElementSibling || tag == '*' || e.localName == tag)) {\n            return slice.call(e[api](tag));\n          } else {\n            nodes = [];\n            do {\n              if (tag == '*' || e.localName == tag) nodes[nodes.length] = e;\n              concatList(nodes, e[api](tag));\n            } while (e = e.nextElementSibling);\n          }\n        } else nodes = none;\n      }\n      return nodes;\n    },\n    // context agnostic getElementsByClassName\n    byClass = function (cls, context) {\n      var e,\n        nodes,\n        api = method['.'],\n        reCls;\n      // DOCUMENT_NODE (9) & ELEMENT_NODE (1)\n      if (api in context) {\n        return slice.call(context[api](cls));\n      } else {\n        // DOCUMENT_FRAGMENT_NODE (11)\n        if (e = context.firstElementChild) {\n          reCls = RegExp('(^|\\\\s)' + cls + '(\\\\s|$)', QUIRKS_MODE ? 'i' : '');\n          if (!(e.nextElementSibling || reCls.test(e.className))) {\n            return slice.call(e[api](cls));\n          } else {\n            nodes = [];\n            do {\n              if (reCls.test(e.className)) nodes[nodes.length] = e;\n              concatList(nodes, e[api](cls));\n            } while (e = e.nextElementSibling);\n          }\n        } else nodes = none;\n      }\n      return nodes;\n    },\n    // namespace aware hasAttribute\n    // helper for XML/XHTML documents\n    hasAttributeNS = function (e, name) {\n      var i,\n        l,\n        attr = e.getAttributeNames();\n      name = RegExp(':?' + name + '$', HTML_DOCUMENT ? 'i' : '');\n      for (i = 0, l = attr.length; l > i; ++i) {\n        if (name.test(attr[i])) return true;\n      }\n      return false;\n    },\n    // fast resolver for the :nth-child() and :nth-last-child() pseudo-classes\n    nthElement = function () {\n      var idx = 0,\n        len = 0,\n        set = 0,\n        parent = undefined,\n        parents = Array(),\n        nodes = Array();\n      return function (element, dir) {\n        // ensure caches are emptied after each run, invoking with dir = 2\n        if (dir == 2) {\n          idx = 0;\n          len = 0;\n          set = 0;\n          nodes.length = 0;\n          parents.length = 0;\n          parent = undefined;\n          return -1;\n        }\n        var e, i, j, k, l;\n        if (parent === element.parentElement) {\n          i = set;\n          j = idx;\n          l = len;\n        } else {\n          l = parents.length;\n          parent = element.parentElement;\n          for (i = -1, j = 0, k = l - 1; l > j; ++j, --k) {\n            if (parents[j] === parent) {\n              i = j;\n              break;\n            }\n            if (parents[k] === parent) {\n              i = k;\n              break;\n            }\n          }\n          if (i < 0) {\n            parents[i = l] = parent;\n            l = 0;\n            nodes[i] = Array();\n            e = parent && parent.firstElementChild || element;\n            while (e) {\n              nodes[i][l] = e;\n              if (e === element) j = l;\n              e = e.nextElementSibling;\n              ++l;\n            }\n            set = i;\n            idx = 0;\n            len = l;\n            if (l < 2) return l;\n          } else {\n            l = nodes[i].length;\n            set = i;\n          }\n        }\n        if (element !== nodes[i][j] && element !== nodes[i][j = 0]) {\n          for (j = 0, e = nodes[i], k = l - 1; l > j; ++j, --k) {\n            if (e[j] === element) {\n              break;\n            }\n            if (e[k] === element) {\n              j = k;\n              break;\n            }\n          }\n        }\n        idx = j + 1;\n        len = l;\n        return dir ? l - j : idx;\n      };\n    }(),\n    // fast resolver for the :nth-of-type() and :nth-last-of-type() pseudo-classes\n    nthOfType = function () {\n      var idx = 0,\n        len = 0,\n        set = 0,\n        parent = undefined,\n        parents = Array(),\n        nodes = Array();\n      return function (element, dir) {\n        // ensure caches are emptied after each run, invoking with dir = 2\n        if (dir == 2) {\n          idx = 0;\n          len = 0;\n          set = 0;\n          nodes.length = 0;\n          parents.length = 0;\n          parent = undefined;\n          return -1;\n        }\n        var e,\n          i,\n          j,\n          k,\n          l,\n          name = element.localName;\n        if (nodes[set] && nodes[set][name] && parent === element.parentElement) {\n          i = set;\n          j = idx;\n          l = len;\n        } else {\n          l = parents.length;\n          parent = element.parentElement;\n          for (i = -1, j = 0, k = l - 1; l > j; ++j, --k) {\n            if (parents[j] === parent) {\n              i = j;\n              break;\n            }\n            if (parents[k] === parent) {\n              i = k;\n              break;\n            }\n          }\n          if (i < 0 || !nodes[i][name]) {\n            parents[i = l] = parent;\n            nodes[i] || (nodes[i] = Object());\n            l = 0;\n            nodes[i][name] = Array();\n            e = parent && parent.firstElementChild || element;\n            while (e) {\n              if (e === element) j = l;\n              if (e.localName == name) {\n                nodes[i][name][l] = e;\n                ++l;\n              }\n              e = e.nextElementSibling;\n            }\n            set = i;\n            idx = j;\n            len = l;\n            if (l < 2) return l;\n          } else {\n            l = nodes[i][name].length;\n            set = i;\n          }\n        }\n        if (element !== nodes[i][name][j] && element !== nodes[i][name][j = 0]) {\n          for (j = 0, e = nodes[i][name], k = l - 1; l > j; ++j, --k) {\n            if (e[j] === element) {\n              break;\n            }\n            if (e[k] === element) {\n              j = k;\n              break;\n            }\n          }\n        }\n        idx = j + 1;\n        len = l;\n        return dir ? l - j : idx;\n      };\n    }(),\n    // check if the document type is HTML\n    isHTML = function (node) {\n      var doc = node.ownerDocument || node;\n      return doc.nodeType == 9 &&\n      // contentType not in IE <= 11\n      'contentType' in doc ? doc.contentType.indexOf('/html') > 0 : doc.createElement('DiV').localName == 'div';\n    },\n    // configure the engine to use special handling\n    configure = function (option, clear) {\n      if (typeof option == 'string') {\n        return !!Config[option];\n      }\n      if (typeof option != 'object') {\n        return Config;\n      }\n      for (var i in option) {\n        Config[i] = !!option[i];\n      }\n      // clear lambda cache\n      if (clear) {\n        matchResolvers = {};\n        selectResolvers = {};\n      }\n      setIdentifierSyntax();\n      return true;\n    },\n    // centralized error and exceptions handling\n    emit = function (message, proto) {\n      var err;\n      if (Config.VERBOSITY) {\n        if (proto) {\n          err = new proto(message);\n        } else {\n          err = new global.DOMException(message, 'SyntaxError');\n        }\n        throw err;\n      }\n      if (Config.LOGERRORS && console && console.log) {\n        console.log(message);\n      }\n    },\n    // execute the engine initialization code\n    initialize = function (doc) {\n      setIdentifierSyntax();\n      lastContext = switchContext(doc, true);\n    },\n    // build validation regexps used by the engine\n    setIdentifierSyntax = function () {\n      //\n      // NOTE: SPECIAL CASES IN CSS SYNTAX PARSING RULES\n      //\n      // The <EOF-token> https://drafts.csswg.org/css-syntax/#typedef-eof-token\n      // allow mangled|unclosed selector syntax at the end of selectors strings\n      //\n      // Literal equivalent hex representations of the characters: \" ' ` ] )\n      //\n      //     \\\\x22 = \" - double quotes    \\\\x5b = [ - open square bracket\n      //     \\\\x27 = ' - single quote     \\\\x5d = ] - closed square bracket\n      //     \\\\x60 = ` - back tick        \\\\x28 = ( - open round parens\n      //     \\\\x5c = \\ - back slash       \\\\x29 = ) - closed round parens\n      //\n      // using hex format prevents false matches of opened/closed instances\n      // pairs, coloring breakage and other editors highlightning problems.\n      //\n\n      var identifier =\n        // doesn't start with a digit\n        '(?=[^0-9])' +\n        // can start with double dash\n        '(?:-{2}' +\n        // may include ascii chars\n        '|[a-zA-Z0-9-_]' +\n        // non-ascii chars\n        '|[^\\\\x00-\\\\x9f]' +\n        // escaped chars\n        '|\\\\\\\\[^\\\\r\\\\n\\\\f0-9a-fA-F]' +\n        // unicode chars\n        '|\\\\\\\\[0-9a-fA-F]{1,6}(?:\\\\r\\\\n|\\\\s)?' +\n        // any escaped chars\n        '|\\\\\\\\.' + ')+',\n        pseudonames = '[-\\\\w]+',\n        pseudoparms = '(?:[-+]?\\\\d*)(?:n\\\\s?[-+]?\\\\s?\\\\d*)',\n        doublequote = '\"[^\"\\\\\\\\]*(?:\\\\\\\\.[^\"\\\\\\\\]*)*(?:\"|$)',\n        singlequote = \"'[^'\\\\\\\\]*(?:\\\\\\\\.[^'\\\\\\\\]*)*(?:'|$)\",\n        attrparser = identifier + '|' + doublequote + '|' + singlequote,\n        attrvalues = '([\\\\x22\\\\x27]?)((?!\\\\3)*|(?:\\\\\\\\?.)*?)(?:\\\\3|$)',\n        attributes = '\\\\[' +\n        // attribute presence\n        '(?:\\\\*\\\\|)?' + WSP + '?' + '(' + identifier + '(?::' + identifier + ')?)' + WSP + '?' + '(?:' + '(' + CFG.operators + ')' + WSP + '?' + '(?:' + attrparser + ')' + ')?' +\n        // attribute case sensitivity\n        '(?:' + WSP + '?\\\\b(i))?' + WSP + '?' + '(?:\\\\]|$)',\n        attrmatcher = attributes.replace(attrparser, attrvalues),\n        pseudoclass = '(?:\\\\x28' + WSP + '*' + '(?:' + pseudoparms + '?)?|' +\n        // universal * &\n        // namespace *|*\n        '(?:\\\\*|\\\\|)|' + '(?:' + '(?::' + pseudonames + '(?:\\\\x28' + pseudoparms + '?(?:\\\\x29|$))?|' + ')|' + '(?:[.#]?' + identifier + ')|' + '(?:' + attributes + ')' + ')+|' + '(?:' + WSP + '?,' + WSP + '?)|' + '(?:' + WSP + '?)|' + '(?:\\\\x29|$))*',\n        standardValidator = '(?=' + WSP + '?[^>+~(){}<>])' + '(?:' +\n        // universal * &\n        // namespace *|*\n        '(?:\\\\*|\\\\|)|' + '(?:[.#]?' + identifier + ')+|' + '(?:' + attributes + ')+|' + '(?:::?' + pseudonames + pseudoclass + ')|' + '(?:' + WSP + '?' + CFG.combinators + WSP + '?)|' + '(?:' + WSP + '?,' + WSP + '?)|' + '(?:' + WSP + '?)' + ')+';\n\n      // the following global RE is used to return the\n      // deepest localName in selector strings and then\n      // use it to retrieve all possible matching nodes\n      // that will be filtered by compiled resolvers\n      reOptimizer = RegExp('(?:([.:#*]?)' + '(' + identifier + ')' + '(?:' + ':[-\\\\w]+|' + '\\\\[[^\\\\]]+(?:\\\\]|$)|' + '\\\\x28[^\\\\x29]+(?:\\\\x29|$)' + ')*)$');\n\n      // global\n      reValidator = RegExp(standardValidator, 'g');\n      Patterns.id = RegExp('^#(' + identifier + ')(.*)');\n      Patterns.tagName = RegExp('^(' + identifier + ')(.*)');\n      Patterns.className = RegExp('^\\\\.(' + identifier + ')(.*)');\n      Patterns.attribute = RegExp('^(?:' + attrmatcher + ')(.*)');\n    },\n    F_INIT = '\"use strict\";return function Resolver(c,f,x,r)',\n    S_HEAD = 'var e,n,o,j=r.length-1,k=-1',\n    M_HEAD = 'var e,n,o',\n    S_LOOP = 'main:while((e=c[++k]))',\n    N_LOOP = 'main:while((e=c.item(++k)))',\n    M_LOOP = 'e=c;',\n    S_BODY = 'r[++j]=c[k];',\n    N_BODY = 'r[++j]=c.item(k);',\n    M_BODY = '',\n    S_TAIL = 'continue main;',\n    M_TAIL = 'r=true;',\n    S_TEST = 'if(f(c[k])){break main;}',\n    N_TEST = 'if(f(c.item(k))){break main;}',\n    M_TEST = 'f(c);',\n    S_VARS = [],\n    M_VARS = [],\n    // compile groups or single selector strings into\n    // executable functions for matching or selecting\n    compile = function (selector, mode, callback) {\n      var factory,\n        token,\n        head = '',\n        loop = '',\n        macro = '',\n        source = '',\n        vars = '';\n\n      // 'mode' can be boolean or null\n      // true = select / false = match\n      // null to use collection.item()\n      switch (mode) {\n        case true:\n          if (selectLambdas[selector]) {\n            return selectLambdas[selector];\n          }\n          macro = S_BODY + (callback ? S_TEST : '') + S_TAIL;\n          head = S_HEAD;\n          loop = S_LOOP;\n          break;\n        case false:\n          if (matchLambdas[selector]) {\n            return matchLambdas[selector];\n          }\n          macro = M_BODY + (callback ? M_TEST : '') + M_TAIL;\n          head = M_HEAD;\n          loop = M_LOOP;\n          break;\n        case null:\n          if (selectLambdas[selector]) {\n            return selectLambdas[selector];\n          }\n          macro = N_BODY + (callback ? N_TEST : '') + S_TAIL;\n          head = S_HEAD;\n          loop = N_LOOP;\n          break;\n        default:\n          break;\n      }\n      source = compileSelector(selector, macro, mode, callback);\n      loop += mode || mode === null ? '{' + source + '}' : source;\n      if (mode || mode === null && selector.includes(':nth')) {\n        loop += reNthElem.test(selector) ? 's.nthElement(null, 2);' : '';\n        loop += reNthType.test(selector) ? 's.nthOfType(null, 2);' : '';\n      }\n      if (S_VARS[0] || M_VARS[0]) {\n        vars = ',' + (S_VARS.join(',') || M_VARS.join(','));\n        S_VARS.length = 0;\n        M_VARS.length = 0;\n      }\n      factory = Function('s', F_INIT + '{' + head + vars + ';' + loop + 'return r;}')(Snapshot);\n      return mode || mode === null ? selectLambdas[selector] = factory : matchLambdas[selector] = factory;\n    },\n    // build conditional code to check components of selector strings\n    compileSelector = function (expression, source, mode, callback) {\n      // N is the negation pseudo-class flag\n      // D is the default inverted negation flag\n      var a,\n        b,\n        n,\n        f,\n        i,\n        l,\n        name,\n        NS,\n        N = '',\n        D = '!',\n        compat,\n        expr,\n        match,\n        result,\n        status,\n        symbol,\n        test,\n        type,\n        selector = expression,\n        selector_string,\n        vars;\n\n      // original 'select' or 'match' selector string before normalization\n      selector_string = mode ? lastSelected : lastMatched;\n\n      // isolate selector combinators/components and normalize whitespace\n      selector = selector.replace(STD.combinator, '$1'); //.replace(STD.whitespace, ' ');\n\n      // javascript needs a label to break\n      // out of the while loops processing\n      selector_recursion_label: while (selector) {\n        // get namespace prefix if present or get first char of selector\n        symbol = STD.apimethods.test(selector) ? '|' : selector[0];\n        switch (symbol) {\n          // universal resolver\n          case '*':\n            match = selector.match(Patterns.universal);\n            if (N == '!') {\n              source = 'if(' + N + 'true' + '){' + source + '}';\n            }\n            break;\n\n          // id resolver\n          case '#':\n            match = selector.match(Patterns.id);\n            source = 'if(' + N + '(/^' + match[1] + '$/.test(e.getAttribute(\"id\"))' + ')){' + source + '}';\n            break;\n\n          // class name resolver\n          case '.':\n            match = selector.match(Patterns.className);\n            compat = (QUIRKS_MODE ? 'i' : '') + '.test(e.getAttribute(\"class\"))';\n            source = 'if(' + N + '(/(^|\\\\s)' + match[1] + '(\\\\s|$)/' + compat + ')){' + source + '}';\n            break;\n\n          // tag name resolver\n          case /[_a-z]/i.test(symbol) ? symbol : undefined:\n            match = selector.match(Patterns.tagName);\n            source = 'if(' + N + '(e.localName' + (Config.MIXEDCASE || hasMixedCaseTagNames(doc) ? '==\"' + match[1].toLowerCase() + '\"' : '==\"' + match[1].toUpperCase() + '\"') + ')){' + source + '}';\n            break;\n\n          // namespace resolver\n          case '|':\n            match = selector.match(Patterns.namespace);\n            if (match[1] == '*') {\n              source = 'if(' + N + 'true){' + source + '}';\n            } else if (!match[1]) {\n              source = 'if(' + N + '(!e.namespaceURI)){' + source + '}';\n            } else if (typeof match[1] == 'string' && root.prefix == match[1]) {\n              source = 'if(' + N + '(e.namespaceURI==\"' + NAMESPACE + '\")){' + source + '}';\n            } else {\n              emit('\\'' + selector_string + '\\'' + qsInvalid);\n            }\n            break;\n\n          // attributes resolver\n          case '[':\n            match = selector.match(Patterns.attribute);\n            NS = match[0].match(STD.namespaces);\n            name = match[1];\n            expr = name.split(':');\n            expr = expr.length == 2 ? expr[1] : expr[0];\n            if (match[2] && !(test = Operators[match[2]])) {\n              emit('\\'' + selector_string + '\\'' + qsInvalid);\n              return '';\n            }\n            if (match[4] === '') {\n              test = match[2] == '~=' ? {\n                p1: '^\\\\s',\n                p2: '+$',\n                p3: 'true'\n              } : match[2] in ATTR_STD_OPS && match[2] != '~=' ? {\n                p1: '^',\n                p2: '$',\n                p3: 'true'\n              } : test;\n            } else if (match[2] == '~=' && match[4].includes(' ')) {\n              // whitespace separated list but value contains space\n              source = 'if(' + N + 'false){' + source + '}';\n              break;\n            } else if (match[4]) {\n              match[4] = convertEscapes(match[4]).replace(REX.RegExpChar, '\\\\$&');\n            }\n            type = match[5] == 'i' || HTML_DOCUMENT && HTML_TABLE[expr.toLowerCase()] ? 'i' : '';\n            source = 'if(' + N + '(' + (!match[2] ? NS ? 's.hasAttributeNS(e,\"' + name + '\")' : 'e.hasAttribute&&e.hasAttribute(\"' + name + '\")' : !match[4] && ATTR_STD_OPS[match[2]] && match[2] != '~=' ? 'e.getAttribute&&e.getAttribute(\"' + name + '\")==\"\"' : '(/' + test.p1 + match[4] + test.p2 + '/' + type + ').test(e.getAttribute&&e.getAttribute(\"' + name + '\"))==' + test.p3) + ')){' + source + '}';\n            break;\n\n          // *** General sibling combinator\n          // E ~ F (F relative sibling of E)\n          case '~':\n            match = selector.match(Patterns.relative);\n            source = 'n=e;while((e=e.previousElementSibling)){' + source + '}e=n;';\n            break;\n          // *** Adjacent sibling combinator\n          // E + F (F adiacent sibling of E)\n          case '+':\n            match = selector.match(Patterns.adjacent);\n            source = 'n=e;if((e=e.previousElementSibling)){' + source + '}e=n;';\n            break;\n          // *** Descendant combinator\n          // E F (E ancestor of F)\n          case '\\x09':\n          case '\\x20':\n            match = selector.match(Patterns.ancestor);\n            source = 'n=e;while((e=e.parentElement)){' + source + '}e=n;';\n            break;\n          // *** Child combinator\n          // E > F (F children of E)\n          case '>':\n            match = selector.match(Patterns.children);\n            source = 'n=e;if((e=e.parentElement)){' + source + '}e=n;';\n            break;\n\n          // *** user supplied combinators extensions\n          case symbol in Combinators ? symbol : undefined:\n            // for other registered combinators extensions\n            match[match.length - 1] = '*';\n            source = Combinators[symbol](match) + source;\n            break;\n\n          // *** tree-structural pseudo-classes\n          // :root, :empty, :first-child, :last-child, :only-child, :first-of-type, :last-of-type, :only-of-type\n          case ':':\n            if (match = selector.match(Patterns.structural)) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'root':\n                  // there can only be one :root element, so exit the loop once found\n                  source = 'if(' + N + '(e===s.root)){' + source + (mode ? 'break main;' : '') + '}';\n                  break;\n                case 'empty':\n                  // matches elements that don't contain elements or text nodes\n                  source = 'n=e.firstChild;while(n&&!(/1|3/).test(n.nodeType)){n=n.nextSibling}if(' + D + 'n){' + source + '}';\n                  break;\n\n                // *** child-indexed pseudo-classes\n                // :first-child, :last-child, :only-child\n                case 'only-child':\n                  source = 'if(' + N + '(!e.nextElementSibling&&!e.previousElementSibling)){' + source + '}';\n                  break;\n                case 'last-child':\n                  source = 'if(' + N + '(!e.nextElementSibling)){' + source + '}';\n                  break;\n                case 'first-child':\n                  source = 'if(' + N + '(!e.previousElementSibling)){' + source + '}';\n                  break;\n\n                // *** typed child-indexed pseudo-classes\n                // :only-of-type, :last-of-type, :first-of-type\n                case 'only-of-type':\n                  source = 'o=e.localName;' + 'n=e;while((n=n.nextElementSibling)&&n.localName!=o);if(!n){' + 'n=e;while((n=n.previousElementSibling)&&n.localName!=o);}if(' + D + 'n){' + source + '}';\n                  break;\n                case 'last-of-type':\n                  source = 'n=e;o=e.localName;while((n=n.nextElementSibling)&&n.localName!=o);if(' + D + 'n){' + source + '}';\n                  break;\n                case 'first-of-type':\n                  source = 'n=e;o=e.localName;while((n=n.previousElementSibling)&&n.localName!=o);if(' + D + 'n){' + source + '}';\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // *** child-indexed & typed child-indexed pseudo-classes\n            // :nth-child, :nth-of-type, :nth-last-child, :nth-last-of-type\n            else if (match = selector.match(Patterns.treestruct)) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'nth-child':\n                case 'nth-of-type':\n                case 'nth-last-child':\n                case 'nth-last-of-type':\n                  expr = /-of-type/i.test(match[1]);\n                  if (match[1] && match[2]) {\n                    type = /last/i.test(match[1]);\n                    if (match[2] == 'n') {\n                      source = 'if(' + N + 'true){' + source + '}';\n                      break;\n                    } else if (match[2] == '1') {\n                      test = type ? 'next' : 'previous';\n                      source = expr ? 'n=e;o=e.localName;' + 'while((n=n.' + test + 'ElementSibling)&&n.localName!=o);if(' + D + 'n){' + source + '}' : 'if(' + N + '!e.' + test + 'ElementSibling){' + source + '}';\n                      break;\n                    } else if (match[2] == 'even' || match[2] == '2n0' || match[2] == '2n+0' || match[2] == '2n') {\n                      test = 'n%2==0';\n                    } else if (match[2] == 'odd' || match[2] == '2n1' || match[2] == '2n+1') {\n                      test = 'n%2==1';\n                    } else {\n                      f = /n/i.test(match[2]);\n                      n = match[2].split('n');\n                      a = parseInt(n[0], 10) || 0;\n                      b = parseInt(n[1], 10) || 0;\n                      if (n[0] == '-') {\n                        a = -1;\n                      }\n                      if (n[0] == '+') {\n                        a = +1;\n                      }\n                      test = (b ? '(n' + (b > 0 ? '-' : '+') + Math.abs(b) + ')' : 'n') + '%' + a + '==0';\n                      test = a >= +1 ? f ? 'n>' + (b - 1) + (Math.abs(a) != 1 ? '&&' + test : '') : 'n==' + a : a <= -1 ? f ? 'n<' + (b + 1) + (Math.abs(a) != 1 ? '&&' + test : '') : 'n==' + a : a === 0 ? n[0] ? 'n==' + b : 'n>' + (b - 1) : 'false';\n                    }\n                    expr = expr ? 'OfType' : 'Element';\n                    type = type ? 'true' : 'false';\n                    source = 'n=s.nth' + expr + '(e,' + type + ');if(' + N + '(' + test + ')){' + source + '}';\n                  } else {\n                    emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  }\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // *** logical combination pseudo-classes\n            // :is( s1, [ s2, ... ]), :not( s1, [ s2, ... ])\n            else if (match = selector.match(Patterns.logicalsel)) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'is':\n                case 'where':\n                case 'matches':\n                  expr = match[2].replace(REX.CommaGroup, ',').replace(REX.TrimSpaces, '');\n                  source = 'if(s.match(\"' + expr.replace(/\\x22/g, '\\\\\"') + '\",e)){' + source + '}';\n                  break;\n                case 'not':\n                  expr = match[2].replace(REX.CommaGroup, ',').replace(REX.TrimSpaces, '');\n                  source = 'if(!s.match(\"' + expr.replace(/\\x22/g, '\\\\\"') + '\",e)){' + source + '}';\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // *** linguistic pseudo-classes\n            // :dir( ltr / rtl ), :lang( en )\n            else if (match = selector.match(Patterns.linguistic)) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'dir':\n                  source = 'var p;if(' + N + '(' + '(/' + match[2] + '/i.test(e.dir))||(p=s.ancestor(\"[dir]\", e))&&' + '(/' + match[2] + '/i.test(p.dir))||(e.dir==\"\"||e.dir==\"auto\")&&' + '(' + (match[2] == 'ltr' ? '!' : '') + RTL + '.test(e.textContent)))' + '){' + source + '};';\n                  break;\n                case 'lang':\n                  expr = '(?:^|-)' + match[2] + '(?:-|$)';\n                  source = 'var p;if(' + N + '(' + '(e.isConnected&&(e.lang==\"\"&&(p=s.ancestor(\"[lang]\",e)))&&' + '(p.lang==\"' + match[2] + '\")||/' + expr + '/i.test(e.lang)))' + '){' + source + '};';\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // *** location pseudo-classes\n            // :any-link, :link, :visited, :target\n            else if (match = selector.match(Patterns.locationpc)) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'any-link':\n                  source = 'if(' + N + '(/^a|area$/i.test(e.localName)&&e.hasAttribute(\"href\")||e.visited)){' + source + '}';\n                  break;\n                case 'link':\n                  source = 'if(' + N + '(/^a|area$/i.test(e.localName)&&e.hasAttribute(\"href\"))){' + source + '}';\n                  break;\n                case 'visited':\n                  source = 'if(' + N + '(/^a|area$/i.test(e.localName)&&e.hasAttribute(\"href\")&&e.visited)){' + source + '}';\n                  break;\n                case 'target':\n                  source = 'if(' + N + '((s.doc.compareDocumentPosition(e)&16)&&s.doc.location.hash&&e.id==s.doc.location.hash.slice(1))){' + source + '}';\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // *** user actions pseudo-classes\n            // :hover, :active, :focus\n            else if (match = selector.match(Patterns.useraction)) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'hover':\n                  source = 'hasFocus' in doc && doc.hasFocus() ? 'if(' + N + '(e===s.doc.hoverElement)){' + source + '}' : 'if(' + D + 'true){' + source + '}';\n                  break;\n                case 'active':\n                  source = 'hasFocus' in doc && doc.hasFocus() ? 'if(' + N + '(e===s.doc.activeElement)){' + source + '}' : 'if(' + D + 'true){' + source + '}';\n                  break;\n                case 'focus':\n                  source = 'hasFocus' in doc ? 'if(' + N + '(e===s.doc.activeElement&&s.doc.hasFocus()&&(e.type||e.href||typeof e.tabIndex==\"number\"))){' + source + '}' : 'if(' + N + '(e===s.doc.activeElement&&(e.type||e.href))){' + source + '}';\n                  break;\n                case 'focus-within':\n                  source = 'hasFocus' in doc ? 'n=s.doc.activeElement;while(e){if(e===n||e.parentNode===n)break;}' + 'if(' + N + '(e===n&&s.doc.hasFocus()&&(e.type||e.href||typeof e.tabIndex==\"number\"))){' + source + '}' : source;\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // *** user interface and form pseudo-classes\n            // :enabled, :disabled, :read-only, :read-write, :placeholder-shown, :default\n            else if (match = selector.match(Patterns.inputstate)) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'enabled':\n                  source = 'if(' + N + '((\"form\" in e||/^optgroup$/i.test(e.localName))&&\"disabled\" in e &&e.disabled===false' + ')){' + source + '}';\n                  break;\n                case 'disabled':\n                  // https://www.w3.org/TR/html5/forms.html#enabling-and-disabling-form-controls:-the-disabled-attribute\n                  source = 'if(' + N + '((\"form\" in e||/^optgroup$/i.test(e.localName))&&\"disabled\" in e&&' + '(e.disabled===true||(n=s.ancestor(\"fieldset\",e))&&(n=s.first(\"legend\",n))&&!n.contains(e))' + ')){' + source + '}';\n                  break;\n                case 'read-only':\n                  source = 'if(' + N + '(' + '(/^textarea$/i.test(e.localName)&&(e.readOnly||e.disabled))||' + '(\"|password|text|\".includes(\"|\"+e.type+\"|\")&&e.readOnly)' + ')){' + source + '}';\n                  break;\n                case 'read-write':\n                  source = 'if(' + N + '(' + '((/^textarea$/i.test(e.localName)&&!e.readOnly&&!e.disabled)||' + '(\"|password|text|\".includes(\"|\"+e.type+\"|\")&&!e.readOnly&&!e.disabled))||' + '(e.hasAttribute(\"contenteditable\")||(s.doc.designMode==\"on\"))' + ')){' + source + '}';\n                  break;\n                case 'placeholder-shown':\n                  source = 'if(' + N + '(' + '(/^input|textarea$/i.test(e.localName))&&e.hasAttribute(\"placeholder\")&&' + '(\"|textarea|password|number|search|email|text|tel|url|\".includes(\"|\"+e.type+\"|\"))&&' + '(!s.match(\":focus\",e))' + ')){' + source + '}';\n                  break;\n                case 'default':\n                  source = 'if(' + N + '(\"form\" in e && e.form)){' + 'var x=0;n=[];' + 'if(e.type==\"image\")n=e.form.getElementsByTagName(\"input\");' + 'if(e.type==\"submit\")n=e.form.elements;' + 'while(n[x]&&e!==n[x]){' + 'if(n[x].type==\"image\")break;' + 'if(n[x].type==\"submit\")break;' + 'x++;' + '}' + '}' + 'if(' + N + '(e.form&&(e===n[x]&&\"|image|submit|\".includes(\"|\"+e.type+\"|\"))||' + '((/^option$/i.test(e.localName))&&e.defaultSelected)||' + '((\"|radio|checkbox|\".includes(\"|\"+e.type+\"|\"))&&e.defaultChecked)' + ')){' + source + '}';\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // *** input pseudo-classes (for form validation)\n            // :checked, :indeterminate, :valid, :invalid, :in-range, :out-of-range, :required, :optional\n            else if (match = selector.match(Patterns.inputvalue)) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'checked':\n                  source = 'if(' + N + '(/^input$/i.test(e.localName)&&' + '(\"|radio|checkbox|\".includes(\"|\"+e.type+\"|\")&&e.checked)||' + '(/^option$/i.test(e.localName)&&(e.selected||e.checked))' + ')){' + source + '}';\n                  break;\n                case 'indeterminate':\n                  source = 'if(' + N + '(/^progress$/i.test(e.localName)&&!e.hasAttribute(\"value\"))||' + '(/^input$/i.test(e.localName)&&(\"checkbox\"==e.type&&e.indeterminate)||' + '(\"radio\"==e.type&&e.name&&!s.first(\"input[name=\"+e.name+\"]:checked\",e.form))' + ')){' + source + '}';\n                  break;\n                case 'required':\n                  source = 'if(' + N + '(/^input|select|textarea$/i.test(e.localName)&&e.required)' + '){' + source + '}';\n                  break;\n                case 'optional':\n                  source = 'if(' + N + '(/^input|select|textarea$/i.test(e.localName)&&!e.required)' + '){' + source + '}';\n                  break;\n                case 'invalid':\n                  source = 'if(' + N + '((' + '(/^form$/i.test(e.localName)&&!e.noValidate)||' + '(e.willValidate&&!e.formNoValidate))&&!e.checkValidity())||' + '(/^fieldset$/i.test(e.localName)&&s.first(\":invalid\",e))' + '){' + source + '}';\n                  break;\n                case 'valid':\n                  source = 'if(' + N + '((' + '(/^form$/i.test(e.localName)&&!e.noValidate)||' + '(e.willValidate&&!e.formNoValidate))&&e.checkValidity())||' + '(/^fieldset$/i.test(e.localName)&&s.first(\":valid\",e))' + '){' + source + '}';\n                  break;\n                case 'in-range':\n                  source = 'if(' + N + '(/^input$/i.test(e.localName))&&' + '(e.willValidate&&!e.formNoValidate)&&' + '(!e.validity.rangeUnderflow&&!e.validity.rangeOverflow)&&' + '(\"|date|datetime-local|month|number|range|time|week|\".includes(\"|\"+e.type+\"|\"))&&' + '(\"range\"==e.type||e.getAttribute(\"min\")||e.getAttribute(\"max\"))' + '){' + source + '}';\n                  break;\n                case 'out-of-range':\n                  source = 'if(' + N + '(/^input$/i.test(e.localName))&&' + '(e.willValidate&&!e.formNoValidate)&&' + '(e.validity.rangeUnderflow||e.validity.rangeOverflow)&&' + '(\"|date|datetime-local|month|number|range|time|week|\".includes(\"|\"+e.type+\"|\"))&&' + '(\"range\"==e.type||e.getAttribute(\"min\")||e.getAttribute(\"max\"))' + '){' + source + '}';\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // allow pseudo-elements starting with single colon (:)\n            // :after, :before, :first-letter, :first-line\n            // assert: e.type is in double-colon format, like ::after\n            else if (match = selector.match(Patterns.pseudo_sng)) {\n              source = 'if(e.element&&e.type.toLowerCase()==\"' + ':' + match[0].toLowerCase() + '\"){e=e.element;' + source + '}';\n            }\n\n            // allow pseudo-elements starting with double colon (::)\n            // ::after, ::before, ::marker, ::placeholder, ::inactive-selection, ::selection, ::-webkit-<foo-bar>\n            // assert: e.type is in double-colon format, like ::after\n            else if (match = selector.match(Patterns.pseudo_dbl)) {\n              source = 'if(e.element&&e.type.toLowerCase()==\"' + match[0].toLowerCase() + '\"){e=e.element;' + source + '}';\n            }\n\n            // placeholder for parsed only no-op selectors\n            else if (match = selector.match(Patterns.pseudo_nop)) {\n              source = 'if(' + N + 'false' + '){' + source + '}';\n            } else {\n              // reset\n              expr = false;\n              status = false;\n\n              // process registered selector extensions\n              for (expr in Selectors) {\n                if (match = selector.match(Selectors[expr].Expression)) {\n                  result = Selectors[expr].Callback(match, source, mode, callback);\n                  if ('match' in result) {\n                    match = result.match;\n                  }\n                  vars = result.modvar;\n                  if (mode) {\n                    // add extra select() vars\n                    vars && S_VARS.indexOf(vars) < 0 && (S_VARS[S_VARS.length] = vars);\n                  } else {\n                    // add extra match() vars\n                    vars && M_VARS.indexOf(vars) < 0 && (M_VARS[M_VARS.length] = vars);\n                  }\n                  // extension source code\n                  source = result.source;\n                  // extension status code\n                  status = result.status;\n                  // break on status error\n                  if (status) {\n                    break;\n                  }\n                }\n              }\n              if (!status) {\n                emit('unknown pseudo-class selector \\'' + selector + '\\'');\n                return '';\n              }\n              if (!expr) {\n                emit('unknown token in selector \\'' + selector + '\\'');\n                return '';\n              }\n            }\n            break;\n          default:\n            emit('\\'' + selector_string + '\\'' + qsInvalid);\n            break selector_recursion_label;\n        }\n        // end of switch symbol\n\n        if (!match) {\n          emit('\\'' + selector_string + '\\'' + qsInvalid);\n          return '';\n        }\n\n        // pop last component\n        selector = match.pop();\n      }\n      // end of while selector\n\n      return source;\n    },\n    // replace ':scope' pseudo-class with element references\n    makeref = function (selectors, element) {\n      return selectors.replace(/:scope/ig, element.localName + (element.id ? '#' + element.id : '') + (element.className ? '.' + element.classList[0] : ''));\n    },\n    // equivalent of w3c 'closest' method\n    ancestor = function _closest(selectors, element, callback) {\n      if (/:scope/i.test(selectors)) {\n        selectors = makeref(selectors, element);\n      }\n      while (element) {\n        if (match(selectors, element, callback)) break;\n        element = element.parentElement;\n      }\n      return element;\n    },\n    match_assert = function (f, element, callback) {\n      for (var i = 0, l = f.length, r = false; l > i; ++i) f[i](element, callback, null, false) && (r = true);\n      return r;\n    },\n    match_collect = function (selectors, callback) {\n      for (var i = 0, l = selectors.length, f = []; l > i; ++i) f[i] = compile(selectors[i], false, callback);\n      return {\n        factory: f\n      };\n    },\n    // equivalent of w3c 'matches' method\n    match = function _matches(selectors, element, callback) {\n      var expressions, parsed;\n      if (element && matchResolvers[selectors]) {\n        return match_assert(matchResolvers[selectors].factory, element, callback);\n      }\n      lastMatched = selectors;\n\n      // arguments validation\n      if (arguments.length === 0) {\n        emit(qsNotArgs, TypeError);\n        return Config.VERBOSITY ? undefined : false;\n      } else if (arguments[0] === '') {\n        emit('\\'\\'' + qsInvalid);\n        return Config.VERBOSITY ? undefined : false;\n      }\n\n      // input NULL or UNDEFINED\n      if (typeof selectors != 'string') {\n        selectors = '' + selectors;\n      }\n      if (/:scope/i.test(selectors)) {\n        selectors = makeref(selectors, element);\n      }\n\n      // normalize input string\n      parsed = selectors.replace(/\\x00|\\\\$/g, '\\ufffd').replace(REX.CombineWSP, '\\x20').replace(REX.PseudosWSP, '$1').replace(REX.TabCharWSP, '\\t').replace(REX.CommaGroup, ',').replace(REX.TrimSpaces, '');\n\n      // parse, validate and split possible compound selectors\n      if ((expressions = parsed.match(reValidator)) && expressions.join('') == parsed) {\n        expressions = parsed.match(REX.SplitGroup);\n        if (parsed[parsed.length - 1] == ',') {\n          emit(qsInvalid);\n          return Config.VERBOSITY ? undefined : false;\n        }\n      } else {\n        emit('\\'' + selectors + '\\'' + qsInvalid);\n        return Config.VERBOSITY ? undefined : false;\n      }\n      matchResolvers[selectors] = match_collect(expressions, callback);\n      return match_assert(matchResolvers[selectors].factory, element, callback);\n    },\n    // equivalent of w3c 'querySelector' method\n    first = function _querySelector(selectors, context, callback) {\n      if (arguments.length === 0) {\n        emit(qsNotArgs, TypeError);\n      }\n      return select(selectors, context, typeof callback == 'function' ? function firstMatch(element) {\n        callback(element);\n        return false;\n      } : function firstMatch() {\n        return false;\n      })[0] || null;\n    },\n    // equivalent of w3c 'querySelectorAll' method\n    select = function _querySelectorAll(selectors, context, callback) {\n      var expressions,\n        nodes = [],\n        parsed,\n        resolver;\n      context || (context = doc);\n      if (selectors) {\n        if (resolver = selectResolvers[selectors]) {\n          if (resolver.context === context && resolver.callback === callback) {\n            var f = resolver.factory,\n              h = resolver.htmlset,\n              n = resolver.nodeset;\n            if (n.length > 1) {\n              for (var i = 0, l = n.length, list; l > i; ++i) {\n                list = compat[n[i][0]](context, n[i].slice(1))();\n                if (f[i] !== null) {\n                  f[i](list, callback, context, nodes);\n                } else {\n                  nodes = nodes.concat(list);\n                }\n              }\n              if (l > 1 && nodes.length > 1) {\n                nodes.sort(documentOrder);\n                hasDupes && (nodes = unique(nodes));\n              }\n            } else {\n              if (f[0]) {\n                nodes = f[0](h[0](), callback, context, nodes);\n              } else {\n                nodes = h[0]();\n              }\n            }\n            return typeof callback == 'function' ? concatCall(nodes, callback) : nodes;\n          }\n        }\n      }\n      lastSelected = selectors;\n\n      // arguments validation\n      if (arguments.length === 0) {\n        emit(qsNotArgs, TypeError);\n        return Config.VERBOSITY ? undefined : none;\n      } else if (arguments[0] === '') {\n        emit('\\'\\'' + qsInvalid);\n        return Config.VERBOSITY ? undefined : none;\n      } else if (lastContext !== context) {\n        lastContext = switchContext(context);\n      }\n\n      // input NULL or UNDEFINED\n      if (typeof selectors != 'string') {\n        selectors = '' + selectors;\n      }\n      if (/:scope/i.test(selectors)) {\n        selectors = makeref(selectors, context);\n      }\n\n      // normalize input string\n      parsed = selectors.replace(/\\x00|\\\\$/g, '\\ufffd').replace(REX.CombineWSP, '\\x20').replace(REX.PseudosWSP, '$1').replace(REX.TabCharWSP, '\\t').replace(REX.CommaGroup, ',').replace(REX.TrimSpaces, '');\n\n      // parse, validate and split possible compound selectors\n      if ((expressions = parsed.match(reValidator)) && expressions.join('') == parsed) {\n        expressions = parsed.match(REX.SplitGroup);\n        if (parsed[parsed.length - 1] == ',') {\n          emit(qsInvalid);\n          return Config.VERBOSITY ? undefined : false;\n        }\n      } else {\n        emit('\\'' + selectors + '\\'' + qsInvalid);\n        return Config.VERBOSITY ? undefined : false;\n      }\n\n      // save/reuse factory and closure collection\n      selectResolvers[selectors] = collect(expressions, context, callback);\n      nodes = selectResolvers[selectors].results;\n      return typeof callback == 'function' ? concatCall(nodes, callback) : nodes;\n    },\n    // optimize selectors avoiding duplicated checks\n    optimize = function (selector, token) {\n      var index = token.index,\n        length = token[1].length + token[2].length;\n      return selector.slice(0, index) + (' >+~'.indexOf(selector.charAt(index - 1)) > -1 ? ':['.indexOf(selector.charAt(index + length + 1)) > -1 ? '*' : '' : '') + selector.slice(index + length - (token[1] == '*' ? 1 : 0));\n    },\n    // prepare factory resolvers and closure collections\n    collect = function (selectors, context, callback) {\n      var i,\n        l,\n        seen = {},\n        token = ['', '*', '*'],\n        optimized = selectors,\n        factory = [],\n        htmlset = [],\n        nodeset = [],\n        results = [],\n        type;\n      for (i = 0, l = selectors.length; l > i; ++i) {\n        if (!seen[selectors[i]] && (seen[selectors[i]] = true)) {\n          type = selectors[i].match(reOptimizer);\n          if (type && type[1] != ':' && (token = type)) {\n            token[1] || (token[1] = '*');\n            optimized[i] = optimize(optimized[i], token);\n          } else {\n            token = ['', '*', '*'];\n          }\n        }\n        nodeset[i] = token[1] + token[2];\n        htmlset[i] = compat[token[1]](context, token[2]);\n        factory[i] = compile(optimized[i], true, null);\n        factory[i] ? factory[i](htmlset[i](), callback, context, results) : result.concat(htmlset[i]());\n      }\n      if (l > 1) {\n        results.sort(documentOrder);\n        hasDupes && (results = unique(results));\n      }\n      return {\n        callback: callback,\n        context: context,\n        factory: factory,\n        htmlset: htmlset,\n        nodeset: nodeset,\n        results: results\n      };\n    },\n    // QSA placeholders to native references\n    _closest,\n    _matches,\n    _querySelector,\n    _querySelectorAll,\n    // overrides QSA methods (only for browsers)\n    install = function (all) {\n      // save native QSA references\n      _closest = Element.prototype.closest;\n      _matches = Element.prototype.matches;\n      _querySelector = Document.prototype.querySelector;\n      _querySelectorAll = Document.prototype.querySelectorAll;\n      Element.prototype.closest = function closest() {\n        var ctor = Object.getPrototypeOf(this).__proto__.__proto__.constructor.name;\n        if (!('nodeType' in this)) {\n          emit('\\'closest\\' called on an object that does not implement interface ' + ctor + '.', TypeError);\n        }\n        return arguments.length < 1 ? ancestor.apply(this, []) : arguments.length < 2 ? ancestor.apply(this, [arguments[0], this]) : ancestor.apply(this, [arguments[0], this, typeof arguments[1] == 'function' ? arguments[1] : undefined]);\n      };\n      Element.prototype.matches = function matches() {\n        var ctor = Object.getPrototypeOf(this).__proto__.__proto__.constructor.name;\n        if (!('nodeType' in this)) {\n          emit('\\'matches\\' called on an object that does not implement interface ' + ctor + '.', TypeError);\n        }\n        return arguments.length < 1 ? match.apply(this, []) : arguments.length < 2 ? match.apply(this, [arguments[0], this]) : match.apply(this, [arguments[0], this, typeof arguments[1] == 'function' ? arguments[1] : undefined]);\n      };\n      Element.prototype.querySelector = Document.prototype.querySelector = DocumentFragment.prototype.querySelector = function querySelector() {\n        var ctor = Object.getPrototypeOf(this).__proto__.__proto__.constructor.name;\n        if (!('nodeType' in this)) {\n          emit('\\'querySelector\\' called on an object that does not implement interface ' + ctor + '.', TypeError);\n        }\n        return arguments.length < 1 ? first.apply(this, []) : arguments.length < 2 ? first.apply(this, [arguments[0], this]) : first.apply(this, [arguments[0], this, typeof arguments[1] == 'function' ? arguments[1] : undefined]);\n      };\n      Element.prototype.querySelectorAll = Document.prototype.querySelectorAll = DocumentFragment.prototype.querySelectorAll = function querySelectorAll() {\n        var ctor = Object.getPrototypeOf(this).__proto__.__proto__.constructor.name;\n        if (!('nodeType' in this)) {\n          emit('\\'querySelectorAll\\' called on an object that does not implement interface ' + ctor + '.', TypeError);\n        }\n        return arguments.length < 1 ? select.apply(this, []) : arguments.length < 2 ? select.apply(this, [arguments[0], this]) : select.apply(this, [arguments[0], this, typeof arguments[1] == 'function' ? arguments[1] : undefined]);\n      };\n      if (all) {\n        document.addEventListener('load', function (e) {\n          var c,\n            d,\n            r,\n            s,\n            t = e.target;\n          if (/iframe/i.test(t.localName)) {\n            c = '(' + Export + ')(this, ' + Factory + ');';\n            d = t.contentDocument;\n            s = d.createElement('script');\n            s.textContent = c + 'NW.Dom.install()';\n            r = d.documentElement;\n            r.removeChild(r.insertBefore(s, r.firstChild));\n          }\n        }, true);\n      }\n    },\n    // restore QSA methods (only for browsers)\n    uninstall = function () {\n      // reinstates QSA native references\n      Element.prototype.closest = _closest;\n      Element.prototype.matches = _matches;\n      Element.prototype.querySelector = Document.prototype.querySelector = DocumentFragment.prototype.querySelector = _querySelector;\n      Element.prototype.querySelectorAll = Document.prototype.querySelectorAll = DocumentFragment.prototype.querySelectorAll = _querySelectorAll;\n    },\n    // empty set\n    none = Array(),\n    // context\n    lastContext,\n    // selector\n    lastMatched,\n    lastSelected,\n    // cached lambdas\n    matchLambdas = {},\n    selectLambdas = {},\n    // cached resolvers\n    matchResolvers = {},\n    selectResolvers = {},\n    // passed to resolvers\n    Snapshot = {\n      doc: doc,\n      from: doc,\n      root: root,\n      byTag: byTag,\n      first: first,\n      match: match,\n      ancestor: ancestor,\n      nthOfType: nthOfType,\n      nthElement: nthElement,\n      hasAttributeNS: hasAttributeNS\n    },\n    // public exported methods/objects\n    Dom = {\n      // exported cache objects\n\n      lastMatched: lastMatched,\n      lastSelected: lastSelected,\n      matchLambdas: matchLambdas,\n      selectLambdas: selectLambdas,\n      matchResolvers: matchResolvers,\n      selectResolvers: selectResolvers,\n      // exported compiler macros\n\n      CFG: CFG,\n      M_BODY: M_BODY,\n      S_BODY: S_BODY,\n      M_TEST: M_TEST,\n      S_TEST: S_TEST,\n      // exported engine methods\n\n      byId: byId,\n      byTag: byTag,\n      byClass: byClass,\n      match: match,\n      first: first,\n      select: select,\n      closest: ancestor,\n      compile: compile,\n      configure: configure,\n      emit: emit,\n      Config: Config,\n      Snapshot: Snapshot,\n      Version: version,\n      install: install,\n      uninstall: uninstall,\n      Operators: Operators,\n      Selectors: Selectors,\n      // register a new selector combinator symbol and its related function resolver\n      registerCombinator: function (combinator, resolver) {\n        var i = 0,\n          l = combinator.length,\n          symbol;\n        for (; l > i; ++i) {\n          if (combinator[i] != '=') {\n            symbol = combinator[i];\n            break;\n          }\n        }\n        if (CFG.combinators.indexOf(symbol) < 0) {\n          CFG.combinators = CFG.combinators.replace('](', symbol + '](');\n          CFG.combinators = CFG.combinators.replace('])', symbol + '])');\n          Combinators[combinator] = resolver;\n          setIdentifierSyntax();\n        } else {\n          console.warn('Warning: the \\'' + combinator + '\\' combinator is already registered.');\n        }\n      },\n      // register a new attribute operator symbol and its related function resolver\n      registerOperator: function (operator, resolver) {\n        var i = 0,\n          l = operator.length,\n          symbol;\n        for (; l > i; ++i) {\n          if (operator[i] != '=') {\n            symbol = operator[i];\n            break;\n          }\n        }\n        if (CFG.operators.indexOf(symbol) < 0 && !Operators[operator]) {\n          CFG.operators = CFG.operators.replace(']=', symbol + ']=');\n          Operators[operator] = resolver;\n          setIdentifierSyntax();\n        } else {\n          console.warn('Warning: the \\'' + operator + '\\' operator is already registered.');\n        }\n      },\n      // register a new selector symbol and its related function resolver\n      registerSelector: function (name, rexp, func) {\n        Selectors[name] || (Selectors[name] = {\n          Expression: rexp,\n          Callback: func\n        });\n      }\n    };\n  initialize(doc);\n  return Dom;\n});","map":{"version":3,"names":["Export","global","factory","module","exports","define","NW","Dom","Factory","version","doc","document","root","documentElement","slice","Array","prototype","WSP","CFG","operators","combinators","NOT","double_enc","single_enc","parens_enc","square_enc","REX","HasEscapes","RegExp","HexNumbers","EscOrQuote","RegExpChar","TrimSpaces","CommaGroup","SplitGroup","FixEscapes","CombineWSP","TabCharWSP","PseudosWSP","STD","combinator","apimethods","namespaces","GROUPS","linguistic","logicalsel","treestruct","locationpc","useraction","structural","inputstate","inputvalue","pseudo_nop","pseudo_sng","pseudo_dbl","Patterns","children","adjacent","relative","ancestor","universal","namespace","RTL","qsNotArgs","qsInvalid","reNthElem","reNthType","reOptimizer","reValidator","Config","IDS_DUPES","MIXEDCASE","LOGERRORS","VERBOSITY","NAMESPACE","QUIRKS_MODE","HTML_DOCUMENT","ATTR_STD_OPS","HTML_TABLE","Combinators","Selectors","Operators","p1","p2","p3","concatCall","nodes","callback","i","l","length","list","concatList","documentOrder","a","b","hasDupes","compareDocumentPosition","unique","j","hasMixedCaseTagNames","context","ns","api","ownerDocument","namespaceURI","switchContext","force","oldDoc","isHTML","compatMode","indexOf","Snapshot","from","codePointToUTF16","codePoint","lowHex","toString","substr","stringFromCodePoint","String","fromCharCode","fromCodePoint","convertEscapes","str","test","replace","substring","parseInt","unescapeIdentifier","method","compat","#","c","n","e","f","byId","*","byTag","|",".","byClass","byIdRaw","id","node","next","firstElementChild","nextElementSibling","parentElement","none","all","nodeType","getAttribute","tag","call","toLowerCase","localName","cls","reCls","className","hasAttributeNS","name","attr","getAttributeNames","nthElement","idx","len","set","parent","undefined","parents","element","dir","k","nthOfType","Object","contentType","createElement","configure","option","clear","matchResolvers","selectResolvers","setIdentifierSyntax","emit","message","proto","err","DOMException","console","log","initialize","lastContext","identifier","pseudonames","pseudoparms","doublequote","singlequote","attrparser","attrvalues","attributes","attrmatcher","pseudoclass","standardValidator","tagName","attribute","F_INIT","S_HEAD","M_HEAD","S_LOOP","N_LOOP","M_LOOP","S_BODY","N_BODY","M_BODY","S_TAIL","M_TAIL","S_TEST","N_TEST","M_TEST","S_VARS","M_VARS","compile","selector","mode","token","head","loop","macro","source","vars","selectLambdas","matchLambdas","compileSelector","includes","join","Function","expression","NS","N","D","expr","match","result","status","symbol","type","selector_string","lastSelected","lastMatched","selector_recursion_label","toUpperCase","prefix","split","Math","abs","hasFocus","Expression","Callback","modvar","pop","makeref","selectors","classList","_closest","match_assert","r","match_collect","_matches","expressions","parsed","arguments","TypeError","first","_querySelector","select","firstMatch","_querySelectorAll","resolver","h","htmlset","nodeset","concat","sort","collect","results","optimize","index","charAt","seen","optimized","install","Element","closest","matches","Document","querySelector","querySelectorAll","ctor","getPrototypeOf","__proto__","constructor","apply","DocumentFragment","addEventListener","d","s","t","target","contentDocument","textContent","removeChild","insertBefore","firstChild","uninstall","Version","registerCombinator","warn","registerOperator","operator","registerSelector","rexp","func"],"sources":["C:/Users/noodp/Documents/GitHub/Pensionsrechner/client/node_modules/nwsapi/src/nwsapi.js"],"sourcesContent":["/*\r\n * Copyright (C) 2007-2019 Diego Perini\r\n * All rights reserved.\r\n *\r\n * nwsapi.js - Fast CSS Selectors API Engine\r\n *\r\n * Author: Diego Perini <diego.perini at gmail com>\r\n * Version: 2.2.0\r\n * Created: 20070722\r\n * Release: 20220901\r\n *\r\n * License:\r\n *  http://javascript.nwbox.com/nwsapi/MIT-LICENSE\r\n * Download:\r\n *  http://javascript.nwbox.com/nwsapi/nwsapi.js\r\n */\r\n\r\n(function Export(global, factory) {\r\n\r\n  'use strict';\r\n\r\n  if (typeof module == 'object' && typeof exports == 'object') {\r\n    module.exports = factory;\r\n  } else if (typeof define == 'function' && define['amd']) {\r\n    define(factory);\r\n  } else {\r\n    global.NW || (global.NW = { });\r\n    global.NW.Dom = factory(global, Export);\r\n  }\r\n\r\n})(this, function Factory(global, Export) {\r\n\r\n  var version = 'nwsapi-2.2.2',\r\n\r\n  doc = global.document,\r\n  root = doc.documentElement,\r\n  slice = Array.prototype.slice,\r\n\r\n  WSP = '[\\\\x20\\\\t\\\\r\\\\n\\\\f]',\r\n\r\n  CFG = {\r\n    // extensions\r\n    operators: '[~*^$|]=|=',\r\n    combinators: '[\\\\x20\\\\t>+~](?=[^>+~])'\r\n  },\r\n\r\n  NOT = {\r\n    // not enclosed in double/single/parens/square\r\n    double_enc: '(?=(?:[^\"]*[\"][^\"]*[\"])*[^\"]*$)',\r\n    single_enc: \"(?=(?:[^']*['][^']*['])*[^']*$)\",\r\n    parens_enc: '(?![^\\\\x28]*\\\\x29)',\r\n    square_enc: '(?![^\\\\x5b]*\\\\x5d)'\r\n  },\r\n\r\n  REX = {\r\n    // regular expressions\r\n    HasEscapes: RegExp('\\\\\\\\'),\r\n    HexNumbers: RegExp('^[0-9a-fA-F]'),\r\n    EscOrQuote: RegExp('^\\\\\\\\|[\\\\x22\\\\x27]'),\r\n    RegExpChar: RegExp('(?:(?!\\\\\\\\)[\\\\\\\\^$.*+?()[\\\\]{}|\\\\/])', 'g'),\r\n    TrimSpaces: RegExp('[\\\\r\\\\n\\\\f]|^' + WSP + '+|' + WSP + '+$', 'g'),\r\n    CommaGroup: RegExp('(\\\\s*,\\\\s*)' + NOT.square_enc + NOT.parens_enc, 'g'),\r\n    SplitGroup: RegExp('((?:\\\\x28[^\\\\x29]*\\\\x29|\\\\[[^\\\\]]*\\\\]|\\\\\\\\.|[^,])+)', 'g'),\r\n    FixEscapes: RegExp('\\\\\\\\([0-9a-fA-F]{1,6}' + WSP + '?|.)|([\\\\x22\\\\x27])', 'g'),\r\n    CombineWSP: RegExp('[\\\\n\\\\r\\\\f\\\\x20]+' + NOT.single_enc + NOT.double_enc, 'g'),\r\n    TabCharWSP: RegExp('(\\\\x20?\\\\t+\\\\x20?)' + NOT.single_enc + NOT.double_enc, 'g'),\r\n    PseudosWSP: RegExp('\\\\s+([-+])\\\\s+' + NOT.square_enc, 'g')\r\n  },\r\n\r\n  STD = {\r\n    combinator: RegExp('\\\\s?([>+~])\\\\s?', 'g'),\r\n    apimethods: RegExp('^(?:[a-z]+|\\\\*)\\\\|', 'i'),\r\n    namespaces: RegExp('(\\\\*|[a-z]+)\\\\|[-a-z]+', 'i')\r\n  },\r\n\r\n  GROUPS = {\r\n    // pseudo-classes requiring parameters\r\n    linguistic: '(dir|lang)\\\\x28\\\\s?([-\\\\w]{2,})\\\\s?(?:\\\\x29|$)',\r\n    logicalsel: '(is|where|matches|not)\\\\x28\\\\s?([^()]*|[^\\\\x28]*\\\\x28[^\\\\x29]*\\\\x29)\\\\s?(?:\\\\x29|$)',\r\n    treestruct: '(nth(?:-last)?(?:-child|-of-type))(?:\\\\x28\\\\s?(even|odd|(?:[-+]?\\\\d*)(?:n\\\\s?[-+]?\\\\s?\\\\d*)?)\\\\s?(?:\\\\x29|$))',\r\n    // pseudo-classes not requiring parameters\r\n    locationpc: '(any-link|link|visited|target)\\\\b',\r\n    useraction: '(hover|active|focus|focus-within)\\\\b',\r\n    structural: '(root|empty|(?:(?:first|last|only)(?:-child|-of-type)))\\\\b',\r\n    inputstate: '(enabled|disabled|read-only|read-write|placeholder-shown|default)\\\\b',\r\n    inputvalue: '(checked|indeterminate|required|optional|valid|invalid|in-range|out-of-range)\\\\b',\r\n    // pseudo-classes for parsing only selectors\r\n    pseudo_nop: '(autofill|-webkit-autofill)\\\\b',\r\n    // pseudo-elements starting with single colon (:)\r\n    pseudo_sng: '(after|before|first-letter|first-line)\\\\b',\r\n    // pseudo-elements starting with double colon (::)\r\n    pseudo_dbl: ':(after|before|first-letter|first-line|selection|placeholder|-webkit-[-a-zA-Z0-9]{2,})\\\\b'\r\n  },\r\n\r\n  Patterns = {\r\n    // pseudo-classes\r\n    treestruct: RegExp('^:(?:' + GROUPS.treestruct + ')(.*)', 'i'),\r\n    structural: RegExp('^:(?:' + GROUPS.structural + ')(.*)', 'i'),\r\n    linguistic: RegExp('^:(?:' + GROUPS.linguistic + ')(.*)', 'i'),\r\n    useraction: RegExp('^:(?:' + GROUPS.useraction + ')(.*)', 'i'),\r\n    inputstate: RegExp('^:(?:' + GROUPS.inputstate + ')(.*)', 'i'),\r\n    inputvalue: RegExp('^:(?:' + GROUPS.inputvalue + ')(.*)', 'i'),\r\n    locationpc: RegExp('^:(?:' + GROUPS.locationpc + ')(.*)', 'i'),\r\n    logicalsel: RegExp('^:(?:' + GROUPS.logicalsel + ')(.*)', 'i'),\r\n    pseudo_nop: RegExp('^:(?:' + GROUPS.pseudo_nop + ')(.*)', 'i'),\r\n    pseudo_sng: RegExp('^:(?:' + GROUPS.pseudo_sng + ')(.*)', 'i'),\r\n    pseudo_dbl: RegExp('^:(?:' + GROUPS.pseudo_dbl + ')(.*)', 'i'),\r\n    // combinator symbols\r\n    children: RegExp('^' + WSP + '?\\\\>' + WSP + '?(.*)'),\r\n    adjacent: RegExp('^' + WSP + '?\\\\+' + WSP + '?(.*)'),\r\n    relative: RegExp('^' + WSP + '?\\\\~' + WSP + '?(.*)'),\r\n    ancestor: RegExp('^' + WSP + '+(.*)'),\r\n   // universal & namespace\r\n   universal: RegExp('^\\\\*(.*)'),\r\n   namespace: RegExp('^(\\\\w+|\\\\*)?\\\\|(.*)')\r\n  },\r\n\r\n  // regexp to aproximate detection of RTL languages (Arabic)\r\n  RTL = RegExp('^[\\\\u0591-\\\\u08ff\\\\ufb1d-\\\\ufdfd\\\\ufe70-\\\\ufefc ]+$'),\r\n\r\n  // emulate firefox error strings\r\n  qsNotArgs = 'Not enough arguments',\r\n  qsInvalid = ' is not a valid selector',\r\n\r\n  // detect structural pseudo-classes in selectors\r\n  reNthElem = RegExp('(:nth(?:-last)?-child)', 'i'),\r\n  reNthType = RegExp('(:nth(?:-last)?-of-type)', 'i'),\r\n\r\n  // placeholder for global regexp\r\n  reOptimizer,\r\n  reValidator,\r\n\r\n  // special handling configuration flags\r\n  Config = {\r\n    IDS_DUPES: true,\r\n    MIXEDCASE: true,\r\n    LOGERRORS: true,\r\n    VERBOSITY: true\r\n  },\r\n\r\n  NAMESPACE,\r\n  QUIRKS_MODE,\r\n  HTML_DOCUMENT,\r\n\r\n  ATTR_STD_OPS = {\r\n    '=': 1, '^=': 1, '$=': 1, '|=': 1, '*=': 1, '~=': 1\r\n  },\r\n\r\n  HTML_TABLE = {\r\n    'accept': 1, 'accept-charset': 1, 'align': 1, 'alink': 1, 'axis': 1,\r\n    'bgcolor': 1, 'charset': 1, 'checked': 1, 'clear': 1, 'codetype': 1, 'color': 1,\r\n    'compact': 1, 'declare': 1, 'defer': 1, 'dir': 1, 'direction': 1, 'disabled': 1,\r\n    'enctype': 1, 'face': 1, 'frame': 1, 'hreflang': 1, 'http-equiv': 1, 'lang': 1,\r\n    'language': 1, 'link': 1, 'media': 1, 'method': 1, 'multiple': 1, 'nohref': 1,\r\n    'noresize': 1, 'noshade': 1, 'nowrap': 1, 'readonly': 1, 'rel': 1, 'rev': 1,\r\n    'rules': 1, 'scope': 1, 'scrolling': 1, 'selected': 1, 'shape': 1, 'target': 1,\r\n    'text': 1, 'type': 1, 'valign': 1, 'valuetype': 1, 'vlink': 1\r\n  },\r\n\r\n  Combinators = { },\r\n\r\n  Selectors = { },\r\n\r\n  Operators = {\r\n     '=': { p1: '^',\r\n            p2: '$',\r\n            p3: 'true' },\r\n    '^=': { p1: '^',\r\n            p2: '',\r\n            p3: 'true' },\r\n    '$=': { p1: '',\r\n            p2: '$',\r\n            p3: 'true' },\r\n    '*=': { p1: '',\r\n            p2: '',\r\n            p3: 'true' },\r\n    '|=': { p1: '^',\r\n            p2: '(-|$)',\r\n            p3: 'true' },\r\n    '~=': { p1: '(^|\\\\s)',\r\n            p2: '(\\\\s|$)',\r\n            p3: 'true' }\r\n  },\r\n\r\n  concatCall =\r\n    function(nodes, callback) {\r\n      var i = 0, l = nodes.length, list = Array(l);\r\n      while (l > i) {\r\n        if (false === callback(list[i] = nodes[i])) break;\r\n        ++i;\r\n      }\r\n      return list;\r\n    },\r\n\r\n  concatList =\r\n    function(list, nodes) {\r\n      var i = -1, l = nodes.length;\r\n      while (l--) { list[list.length] = nodes[++i]; }\r\n      return list;\r\n    },\r\n\r\n  documentOrder =\r\n    function(a, b) {\r\n      if (!hasDupes && a === b) {\r\n        hasDupes = true;\r\n        return 0;\r\n      }\r\n      return a.compareDocumentPosition(b) & 4 ? -1 : 1;\r\n    },\r\n\r\n  hasDupes = false,\r\n\r\n  unique =\r\n    function(nodes) {\r\n      var i = 0, j = -1, l = nodes.length + 1, list = [ ];\r\n      while (--l) {\r\n        if (nodes[i++] === nodes[i]) continue;\r\n        list[++j] = nodes[i - 1];\r\n      }\r\n      hasDupes = false;\r\n      return list;\r\n    },\r\n\r\n  // check context for mixed content\r\n  hasMixedCaseTagNames =\r\n    function(context) {\r\n      var ns, api = 'getElementsByTagNameNS';\r\n\r\n      // current host context (ownerDocument)\r\n      context = context.ownerDocument || context;\r\n\r\n      // documentElement (root) element namespace or default html/xhtml namespace\r\n      ns = context.documentElement.namespaceURI || 'http://www.w3.org/1999/xhtml';\r\n\r\n      // checking the number of non HTML nodes in the document\r\n      return (context[api]('*', '*').length - context[api](ns, '*').length) > 0;\r\n    },\r\n\r\n  switchContext =\r\n    function(context, force) {\r\n      var oldDoc = doc;\r\n      doc = context.ownerDocument || context;\r\n      if (force || oldDoc !== doc) {\r\n        // force a new check for each document change\r\n        // performed before the next select operation\r\n        root = doc.documentElement;\r\n        HTML_DOCUMENT = isHTML(doc);\r\n        QUIRKS_MODE = HTML_DOCUMENT &&\r\n          doc.compatMode.indexOf('CSS') < 0;\r\n        NAMESPACE = root && root.namespaceURI;\r\n        Snapshot.doc = doc;\r\n        Snapshot.root = root;\r\n      }\r\n      return (Snapshot.from = context);\r\n    },\r\n\r\n  // convert single codepoint to UTF-16 encoding\r\n  codePointToUTF16 =\r\n    function(codePoint) {\r\n      // out of range, use replacement character\r\n      if (codePoint < 1 || codePoint > 0x10ffff ||\r\n        (codePoint > 0xd7ff && codePoint < 0xe000)) {\r\n        return '\\\\ufffd';\r\n      }\r\n      // javascript strings are UTF-16 encoded\r\n      if (codePoint < 0x10000) {\r\n        var lowHex = '000' + codePoint.toString(16);\r\n        return '\\\\u' + lowHex.substr(lowHex.length - 4);\r\n      }\r\n      // supplementary high + low surrogates\r\n      return '\\\\u' + (((codePoint - 0x10000) >> 0x0a) + 0xd800).toString(16) +\r\n             '\\\\u' + (((codePoint - 0x10000) % 0x400) + 0xdc00).toString(16);\r\n    },\r\n\r\n  // convert single codepoint to string\r\n  stringFromCodePoint =\r\n    function(codePoint) {\r\n      // out of range, use replacement character\r\n      if (codePoint < 1 || codePoint > 0x10ffff ||\r\n        (codePoint > 0xd7ff && codePoint < 0xe000)) {\r\n        return '\\ufffd';\r\n      }\r\n      if (codePoint < 0x10000) {\r\n        return String.fromCharCode(codePoint);\r\n      }\r\n      return String.fromCodePoint ?\r\n        String.fromCodePoint(codePoint) :\r\n        String.fromCharCode(\r\n          ((codePoint - 0x10000) >> 0x0a) + 0xd800,\r\n          ((codePoint - 0x10000) % 0x400) + 0xdc00);\r\n    },\r\n\r\n  // convert escape sequence in a CSS string or identifier\r\n  // to javascript string with javascript escape sequences\r\n  convertEscapes =\r\n    function(str) {\r\n      return REX.HasEscapes.test(str) ?\r\n        str.replace(REX.FixEscapes,\r\n          function(substring, p1, p2) {\r\n            // unescaped \" or '\r\n            return p2 ? '\\\\' + p2 :\r\n              // javascript strings are UTF-16 encoded\r\n              REX.HexNumbers.test(p1) ? codePointToUTF16(parseInt(p1, 16)) :\r\n              // \\' \\\"\r\n              REX.EscOrQuote.test(p1) ? substring :\r\n              // \\g \\h \\. \\# etc\r\n              p1;\r\n          }\r\n        ) : str;\r\n    },\r\n\r\n  // convert escape sequence in a CSS string or identifier\r\n  // to javascript string with characters representations\r\n  unescapeIdentifier =\r\n    function(str) {\r\n      return REX.HasEscapes.test(str) ?\r\n        str.replace(REX.FixEscapes,\r\n          function(substring, p1, p2) {\r\n            // unescaped \" or '\r\n            return p2 ? p2 :\r\n              // javascript strings are UTF-16 encoded\r\n              REX.HexNumbers.test(p1) ? stringFromCodePoint(parseInt(p1, 16)) :\r\n              // \\' \\\"\r\n              REX.EscOrQuote.test(p1) ? substring :\r\n              // \\g \\h \\. \\# etc\r\n              p1;\r\n          }\r\n        ) : str;\r\n    },\r\n\r\n  method = {\r\n    '#': 'getElementById',\r\n    '*': 'getElementsByTagName',\r\n    '|': 'getElementsByTagNameNS',\r\n    '.': 'getElementsByClassName'\r\n    },\r\n\r\n  compat = {\r\n    '#': function(c, n) { REX.HasEscapes.test(n) && (n = unescapeIdentifier(n)); return function(e, f) { return byId(n, c); }; },\r\n    '*': function(c, n) { REX.HasEscapes.test(n) && (n = unescapeIdentifier(n)); return function(e, f) { return byTag(n, c); }; },\r\n    '|': function(c, n) { REX.HasEscapes.test(n) && (n = unescapeIdentifier(n)); return function(e, f) { return byTag(n, c); }; },\r\n    '.': function(c, n) { REX.HasEscapes.test(n) && (n = unescapeIdentifier(n)); return function(e, f) { return byClass(n, c); }; }\r\n    },\r\n\r\n  // find duplicate ids using iterative walk\r\n  byIdRaw =\r\n    function(id, context) {\r\n      var node = context, nodes = [ ], next = node.firstElementChild;\r\n      while ((node = next)) {\r\n        node.id == id && (nodes[nodes.length] = node);\r\n        if ((next = node.firstElementChild || node.nextElementSibling)) continue;\r\n        while (!next && (node = node.parentElement) && node !== context) {\r\n          next = node.nextElementSibling;\r\n        }\r\n      }\r\n      return nodes;\r\n    },\r\n\r\n  // context agnostic getElementById\r\n  byId =\r\n    function(id, context) {\r\n      var e, nodes, api = method['#'];\r\n\r\n      // duplicates id allowed\r\n      if (Config.IDS_DUPES === false) {\r\n        if (api in context) {\r\n          return (e = context[api](id)) ? [ e ] : none;\r\n        }\r\n      } else {\r\n        if ('all' in context) {\r\n          if ((e = context.all[id])) {\r\n            if (e.nodeType == 1) return e.getAttribute('id') != id ? [ ] : [ e ];\r\n            else if (id == 'length') return (e = context[api](id)) ? [ e ] : none;\r\n            for (i = 0, l = e.length, nodes = [ ]; l > i; ++i) {\r\n              if (e[i].id == id) nodes[nodes.length] = e[i];\r\n            }\r\n            return nodes && nodes.length ? nodes : [ nodes ];\r\n          } else return none;\r\n        }\r\n      }\r\n\r\n      return byIdRaw(id, context);\r\n    },\r\n\r\n  // context agnostic getElementsByTagName\r\n  byTag =\r\n    function(tag, context) {\r\n      var e, nodes, api = method['*'];\r\n      // DOCUMENT_NODE (9) & ELEMENT_NODE (1)\r\n      if (api in context) {\r\n        return slice.call(context[api](tag));\r\n      } else {\r\n        tag = tag.toLowerCase();\r\n        // DOCUMENT_FRAGMENT_NODE (11)\r\n        if ((e = context.firstElementChild)) {\r\n          if (!(e.nextElementSibling || tag == '*' || e.localName == tag)) {\r\n            return slice.call(e[api](tag));\r\n          } else {\r\n            nodes = [ ];\r\n            do {\r\n              if (tag == '*' || e.localName == tag) nodes[nodes.length] = e;\r\n              concatList(nodes, e[api](tag));\r\n            } while ((e = e.nextElementSibling));\r\n          }\r\n        } else nodes = none;\r\n      }\r\n      return nodes;\r\n    },\r\n\r\n  // context agnostic getElementsByClassName\r\n  byClass =\r\n    function(cls, context) {\r\n      var e, nodes, api = method['.'], reCls;\r\n      // DOCUMENT_NODE (9) & ELEMENT_NODE (1)\r\n      if (api in context) {\r\n        return slice.call(context[api](cls));\r\n      } else {\r\n        // DOCUMENT_FRAGMENT_NODE (11)\r\n        if ((e = context.firstElementChild)) {\r\n          reCls = RegExp('(^|\\\\s)' + cls + '(\\\\s|$)', QUIRKS_MODE ? 'i' : '');\r\n          if (!(e.nextElementSibling || reCls.test(e.className))) {\r\n            return slice.call(e[api](cls));\r\n          } else {\r\n            nodes = [ ];\r\n            do {\r\n              if (reCls.test(e.className)) nodes[nodes.length] = e;\r\n              concatList(nodes, e[api](cls));\r\n            } while ((e = e.nextElementSibling));\r\n          }\r\n        } else nodes = none;\r\n      }\r\n      return nodes;\r\n    },\r\n\r\n  // namespace aware hasAttribute\r\n  // helper for XML/XHTML documents\r\n  hasAttributeNS =\r\n    function(e, name) {\r\n      var i, l, attr = e.getAttributeNames();\r\n      name = RegExp(':?' + name + '$', HTML_DOCUMENT ? 'i' : '');\r\n      for (i = 0, l = attr.length; l > i; ++i) {\r\n        if (name.test(attr[i])) return true;\r\n      }\r\n      return false;\r\n    },\r\n\r\n  // fast resolver for the :nth-child() and :nth-last-child() pseudo-classes\r\n  nthElement = (function() {\r\n    var idx = 0, len = 0, set = 0, parent = undefined, parents = Array(), nodes = Array();\r\n    return function(element, dir) {\r\n      // ensure caches are emptied after each run, invoking with dir = 2\r\n      if (dir == 2) {\r\n        idx = 0; len = 0; set = 0; nodes.length = 0;\r\n        parents.length = 0; parent = undefined;\r\n        return -1;\r\n      }\r\n      var e, i, j, k, l;\r\n      if (parent === element.parentElement) {\r\n        i = set; j = idx; l = len;\r\n      } else {\r\n        l = parents.length;\r\n        parent = element.parentElement;\r\n        for (i = -1, j = 0, k = l - 1; l > j; ++j, --k) {\r\n          if (parents[j] === parent) { i = j; break; }\r\n          if (parents[k] === parent) { i = k; break; }\r\n        }\r\n        if (i < 0) {\r\n          parents[i = l] = parent;\r\n          l = 0; nodes[i] = Array();\r\n          e = parent && parent.firstElementChild || element;\r\n          while (e) { nodes[i][l] = e; if (e === element) j = l; e = e.nextElementSibling; ++l; }\r\n          set = i; idx = 0; len = l;\r\n          if (l < 2) return l;\r\n        } else {\r\n          l = nodes[i].length;\r\n          set = i;\r\n        }\r\n      }\r\n      if (element !== nodes[i][j] && element !== nodes[i][j = 0]) {\r\n        for (j = 0, e = nodes[i], k = l - 1; l > j; ++j, --k) {\r\n          if (e[j] === element) { break; }\r\n          if (e[k] === element) { j = k; break; }\r\n        }\r\n      }\r\n      idx = j + 1; len = l;\r\n      return dir ? l - j : idx;\r\n    };\r\n  })(),\r\n\r\n  // fast resolver for the :nth-of-type() and :nth-last-of-type() pseudo-classes\r\n  nthOfType = (function() {\r\n    var idx = 0, len = 0, set = 0, parent = undefined, parents = Array(), nodes = Array();\r\n    return function(element, dir) {\r\n      // ensure caches are emptied after each run, invoking with dir = 2\r\n      if (dir == 2) {\r\n        idx = 0; len = 0; set = 0; nodes.length = 0;\r\n        parents.length = 0; parent = undefined;\r\n        return -1;\r\n      }\r\n      var e, i, j, k, l, name = element.localName;\r\n      if (nodes[set] && nodes[set][name] && parent === element.parentElement) {\r\n        i = set; j = idx; l = len;\r\n      } else {\r\n        l = parents.length;\r\n        parent = element.parentElement;\r\n        for (i = -1, j = 0, k = l - 1; l > j; ++j, --k) {\r\n          if (parents[j] === parent) { i = j; break; }\r\n          if (parents[k] === parent) { i = k; break; }\r\n        }\r\n        if (i < 0 || !nodes[i][name]) {\r\n          parents[i = l] = parent;\r\n          nodes[i] || (nodes[i] = Object());\r\n          l = 0; nodes[i][name] = Array();\r\n          e = parent && parent.firstElementChild || element;\r\n          while (e) { if (e === element) j = l; if (e.localName == name) { nodes[i][name][l] = e; ++l; } e = e.nextElementSibling; }\r\n          set = i; idx = j; len = l;\r\n          if (l < 2) return l;\r\n        } else {\r\n          l = nodes[i][name].length;\r\n          set = i;\r\n        }\r\n      }\r\n      if (element !== nodes[i][name][j] && element !== nodes[i][name][j = 0]) {\r\n        for (j = 0, e = nodes[i][name], k = l - 1; l > j; ++j, --k) {\r\n          if (e[j] === element) { break; }\r\n          if (e[k] === element) { j = k; break; }\r\n        }\r\n      }\r\n      idx = j + 1; len = l;\r\n      return dir ? l - j : idx;\r\n    };\r\n  })(),\r\n\r\n  // check if the document type is HTML\r\n  isHTML =\r\n    function(node) {\r\n      var doc = node.ownerDocument || node;\r\n      return doc.nodeType == 9 &&\r\n        // contentType not in IE <= 11\r\n        'contentType' in doc ?\r\n          doc.contentType.indexOf('/html') > 0 :\r\n          doc.createElement('DiV').localName == 'div';\r\n    },\r\n\r\n  // configure the engine to use special handling\r\n  configure =\r\n    function(option, clear) {\r\n      if (typeof option == 'string') { return !!Config[option]; }\r\n      if (typeof option != 'object') { return Config; }\r\n      for (var i in option) {\r\n        Config[i] = !!option[i];\r\n      }\r\n      // clear lambda cache\r\n      if (clear) {\r\n        matchResolvers = { };\r\n        selectResolvers = { };\r\n      }\r\n      setIdentifierSyntax();\r\n      return true;\r\n    },\r\n\r\n  // centralized error and exceptions handling\r\n  emit =\r\n    function(message, proto) {\r\n      var err;\r\n      if (Config.VERBOSITY) {\r\n        if (proto) {\r\n          err = new proto(message);\r\n        } else {\r\n          err = new global.DOMException(message, 'SyntaxError');\r\n        }\r\n        throw err;\r\n      }\r\n      if (Config.LOGERRORS && console && console.log) {\r\n        console.log(message);\r\n      }\r\n    },\r\n\r\n  // execute the engine initialization code\r\n  initialize =\r\n    function(doc) {\r\n      setIdentifierSyntax();\r\n      lastContext = switchContext(doc, true);\r\n    },\r\n\r\n  // build validation regexps used by the engine\r\n  setIdentifierSyntax =\r\n    function() {\r\n\r\n      //\r\n      // NOTE: SPECIAL CASES IN CSS SYNTAX PARSING RULES\r\n      //\r\n      // The <EOF-token> https://drafts.csswg.org/css-syntax/#typedef-eof-token\r\n      // allow mangled|unclosed selector syntax at the end of selectors strings\r\n      //\r\n      // Literal equivalent hex representations of the characters: \" ' ` ] )\r\n      //\r\n      //     \\\\x22 = \" - double quotes    \\\\x5b = [ - open square bracket\r\n      //     \\\\x27 = ' - single quote     \\\\x5d = ] - closed square bracket\r\n      //     \\\\x60 = ` - back tick        \\\\x28 = ( - open round parens\r\n      //     \\\\x5c = \\ - back slash       \\\\x29 = ) - closed round parens\r\n      //\r\n      // using hex format prevents false matches of opened/closed instances\r\n      // pairs, coloring breakage and other editors highlightning problems.\r\n      //\r\n\r\n      var identifier =\r\n        // doesn't start with a digit\r\n        '(?=[^0-9])' +\r\n        // can start with double dash\r\n        '(?:-{2}' +\r\n          // may include ascii chars\r\n          '|[a-zA-Z0-9-_]' +\r\n          // non-ascii chars\r\n          '|[^\\\\x00-\\\\x9f]' +\r\n          // escaped chars\r\n          '|\\\\\\\\[^\\\\r\\\\n\\\\f0-9a-fA-F]' +\r\n          // unicode chars\r\n          '|\\\\\\\\[0-9a-fA-F]{1,6}(?:\\\\r\\\\n|\\\\s)?' +\r\n          // any escaped chars\r\n          '|\\\\\\\\.' +\r\n        ')+',\r\n\r\n      pseudonames = '[-\\\\w]+',\r\n      pseudoparms = '(?:[-+]?\\\\d*)(?:n\\\\s?[-+]?\\\\s?\\\\d*)',\r\n      doublequote = '\"[^\"\\\\\\\\]*(?:\\\\\\\\.[^\"\\\\\\\\]*)*(?:\"|$)',\r\n      singlequote = \"'[^'\\\\\\\\]*(?:\\\\\\\\.[^'\\\\\\\\]*)*(?:'|$)\",\r\n\r\n      attrparser = identifier + '|' + doublequote + '|' + singlequote,\r\n\r\n      attrvalues = '([\\\\x22\\\\x27]?)((?!\\\\3)*|(?:\\\\\\\\?.)*?)(?:\\\\3|$)',\r\n\r\n      attributes =\r\n        '\\\\[' +\r\n          // attribute presence\r\n          '(?:\\\\*\\\\|)?' +\r\n          WSP + '?' +\r\n          '(' + identifier + '(?::' + identifier + ')?)' +\r\n          WSP + '?' +\r\n          '(?:' +\r\n            '(' + CFG.operators + ')' + WSP + '?' +\r\n            '(?:' + attrparser + ')' +\r\n          ')?' +\r\n          // attribute case sensitivity\r\n          '(?:' + WSP + '?\\\\b(i))?' + WSP + '?' +\r\n        '(?:\\\\]|$)',\r\n\r\n      attrmatcher = attributes.replace(attrparser, attrvalues),\r\n\r\n      pseudoclass =\r\n        '(?:\\\\x28' + WSP + '*' +\r\n          '(?:' + pseudoparms + '?)?|' +\r\n          // universal * &\r\n          // namespace *|*\r\n          '(?:\\\\*|\\\\|)|' +\r\n          '(?:' +\r\n            '(?::' + pseudonames +\r\n            '(?:\\\\x28' + pseudoparms + '?(?:\\\\x29|$))?|' +\r\n          ')|' +\r\n          '(?:[.#]?' + identifier + ')|' +\r\n          '(?:' + attributes + ')' +\r\n          ')+|' +\r\n          '(?:' + WSP + '?,' + WSP + '?)|' +\r\n          '(?:' + WSP + '?)|' +\r\n          '(?:\\\\x29|$))*',\r\n\r\n      standardValidator =\r\n        '(?=' + WSP + '?[^>+~(){}<>])' +\r\n        '(?:' +\r\n          // universal * &\r\n          // namespace *|*\r\n          '(?:\\\\*|\\\\|)|' +\r\n          '(?:[.#]?' + identifier + ')+|' +\r\n          '(?:' + attributes + ')+|' +\r\n          '(?:::?' + pseudonames + pseudoclass + ')|' +\r\n          '(?:' + WSP + '?' + CFG.combinators + WSP + '?)|' +\r\n          '(?:' + WSP + '?,' + WSP + '?)|' +\r\n          '(?:' + WSP + '?)' +\r\n        ')+';\r\n\r\n      // the following global RE is used to return the\r\n      // deepest localName in selector strings and then\r\n      // use it to retrieve all possible matching nodes\r\n      // that will be filtered by compiled resolvers\r\n      reOptimizer = RegExp(\r\n        '(?:([.:#*]?)' +\r\n        '(' + identifier + ')' +\r\n        '(?:' +\r\n          ':[-\\\\w]+|' +\r\n          '\\\\[[^\\\\]]+(?:\\\\]|$)|' +\r\n          '\\\\x28[^\\\\x29]+(?:\\\\x29|$)' +\r\n        ')*)$');\r\n\r\n      // global\r\n      reValidator = RegExp(standardValidator, 'g');\r\n\r\n      Patterns.id = RegExp('^#(' + identifier + ')(.*)');\r\n      Patterns.tagName = RegExp('^(' + identifier + ')(.*)');\r\n      Patterns.className = RegExp('^\\\\.(' + identifier + ')(.*)');\r\n      Patterns.attribute = RegExp('^(?:' + attrmatcher + ')(.*)');\r\n    },\r\n\r\n  F_INIT = '\"use strict\";return function Resolver(c,f,x,r)',\r\n\r\n  S_HEAD = 'var e,n,o,j=r.length-1,k=-1',\r\n  M_HEAD = 'var e,n,o',\r\n\r\n  S_LOOP = 'main:while((e=c[++k]))',\r\n  N_LOOP = 'main:while((e=c.item(++k)))',\r\n  M_LOOP = 'e=c;',\r\n\r\n  S_BODY = 'r[++j]=c[k];',\r\n  N_BODY = 'r[++j]=c.item(k);',\r\n  M_BODY = '',\r\n\r\n  S_TAIL = 'continue main;',\r\n  M_TAIL = 'r=true;',\r\n\r\n  S_TEST = 'if(f(c[k])){break main;}',\r\n  N_TEST = 'if(f(c.item(k))){break main;}',\r\n  M_TEST = 'f(c);',\r\n\r\n  S_VARS = [ ],\r\n  M_VARS = [ ],\r\n\r\n  // compile groups or single selector strings into\r\n  // executable functions for matching or selecting\r\n  compile =\r\n    function(selector, mode, callback) {\r\n      var factory, token, head = '', loop = '', macro = '', source = '', vars = '';\r\n\r\n      // 'mode' can be boolean or null\r\n      // true = select / false = match\r\n      // null to use collection.item()\r\n      switch (mode) {\r\n        case true:\r\n          if (selectLambdas[selector]) { return selectLambdas[selector]; }\r\n          macro = S_BODY + (callback ? S_TEST : '') + S_TAIL;\r\n          head = S_HEAD;\r\n          loop = S_LOOP;\r\n          break;\r\n        case false:\r\n          if (matchLambdas[selector]) { return matchLambdas[selector]; }\r\n          macro = M_BODY + (callback ? M_TEST : '') + M_TAIL;\r\n          head = M_HEAD;\r\n          loop = M_LOOP;\r\n          break;\r\n        case null:\r\n          if (selectLambdas[selector]) { return selectLambdas[selector]; }\r\n          macro = N_BODY + (callback ? N_TEST : '') + S_TAIL;\r\n          head = S_HEAD;\r\n          loop = N_LOOP;\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n\r\n      source = compileSelector(selector, macro, mode, callback);\r\n\r\n      loop += mode || mode === null ? '{' + source + '}' : source;\r\n\r\n      if (mode || mode === null && selector.includes(':nth')) {\r\n        loop += reNthElem.test(selector) ? 's.nthElement(null, 2);' : '';\r\n        loop += reNthType.test(selector) ? 's.nthOfType(null, 2);' : '';\r\n      }\r\n\r\n      if (S_VARS[0] || M_VARS[0]) {\r\n        vars = ',' + (S_VARS.join(',') || M_VARS.join(','));\r\n        S_VARS.length = 0;\r\n        M_VARS.length = 0;\r\n      }\r\n\r\n      factory = Function('s', F_INIT + '{' + head + vars + ';' + loop + 'return r;}')(Snapshot);\r\n\r\n      return mode || mode === null ? (selectLambdas[selector] = factory) : (matchLambdas[selector] = factory);\r\n    },\r\n\r\n  // build conditional code to check components of selector strings\r\n  compileSelector =\r\n    function(expression, source, mode, callback) {\r\n\r\n      // N is the negation pseudo-class flag\r\n      // D is the default inverted negation flag\r\n      var a, b, n, f, i, l, name, NS, N = '', D = '!',\r\n      compat, expr, match, result, status, symbol, test,\r\n      type, selector = expression, selector_string, vars;\r\n\r\n      // original 'select' or 'match' selector string before normalization\r\n      selector_string = mode ? lastSelected : lastMatched;\r\n\r\n      // isolate selector combinators/components and normalize whitespace\r\n      selector = selector.replace(STD.combinator, '$1');//.replace(STD.whitespace, ' ');\r\n\r\n      // javascript needs a label to break\r\n      // out of the while loops processing\r\n      selector_recursion_label:\r\n\r\n      while (selector) {\r\n\r\n        // get namespace prefix if present or get first char of selector\r\n        symbol = STD.apimethods.test(selector) ? '|' : selector[0];\r\n\r\n        switch (symbol) {\r\n\r\n          // universal resolver\r\n          case '*':\r\n            match = selector.match(Patterns.universal);\r\n            if (N == '!') {\r\n              source = 'if(' + N + 'true' +\r\n                '){' + source + '}';\r\n            }\r\n            break;\r\n\r\n          // id resolver\r\n          case '#':\r\n            match = selector.match(Patterns.id);\r\n            source = 'if(' + N + '(/^' + match[1] + '$/.test(e.getAttribute(\"id\"))' +\r\n              ')){' + source + '}';\r\n            break;\r\n\r\n          // class name resolver\r\n          case '.':\r\n            match = selector.match(Patterns.className);\r\n            compat = (QUIRKS_MODE ? 'i' : '') + '.test(e.getAttribute(\"class\"))';\r\n            source = 'if(' + N + '(/(^|\\\\s)' + match[1] + '(\\\\s|$)/' + compat +\r\n              ')){' + source + '}';\r\n            break;\r\n\r\n          // tag name resolver\r\n          case (/[_a-z]/i.test(symbol) ? symbol : undefined):\r\n            match = selector.match(Patterns.tagName);\r\n            source = 'if(' + N + '(e.localName' +\r\n              (Config.MIXEDCASE || hasMixedCaseTagNames(doc) ?\r\n                '==\"' + match[1].toLowerCase() + '\"' :\r\n                '==\"' + match[1].toUpperCase() + '\"') +\r\n              ')){' + source + '}';\r\n            break;\r\n\r\n          // namespace resolver\r\n          case '|':\r\n            match = selector.match(Patterns.namespace);\r\n            if (match[1] == '*') {\r\n              source = 'if(' + N + 'true){' + source + '}';\r\n            } else if (!match[1]) {\r\n              source = 'if(' + N + '(!e.namespaceURI)){' + source + '}';\r\n            } else if (typeof match[1] == 'string' && root.prefix == match[1]) {\r\n              source = 'if(' + N + '(e.namespaceURI==\"' + NAMESPACE + '\")){' + source + '}';\r\n            } else {\r\n              emit('\\'' + selector_string + '\\'' + qsInvalid);\r\n            }\r\n            break;\r\n\r\n          // attributes resolver\r\n          case '[':\r\n            match = selector.match(Patterns.attribute);\r\n            NS = match[0].match(STD.namespaces);\r\n            name = match[1];\r\n            expr = name.split(':');\r\n            expr = expr.length == 2 ? expr[1] : expr[0];\r\n            if (match[2] && !(test = Operators[match[2]])) {\r\n              emit('\\'' + selector_string + '\\'' + qsInvalid);\r\n              return '';\r\n            }\r\n            if (match[4] === '') {\r\n              test = match[2] == '~=' ?\r\n                { p1: '^\\\\s', p2: '+$', p3: 'true' } :\r\n                  match[2] in ATTR_STD_OPS && match[2] != '~=' ?\r\n                { p1: '^',    p2: '$',  p3: 'true' } : test;\r\n            } else if (match[2] == '~=' && match[4].includes(' ')) {\r\n              // whitespace separated list but value contains space\r\n              source = 'if(' + N + 'false){' + source + '}';\r\n              break;\r\n            } else if (match[4]) {\r\n              match[4] = convertEscapes(match[4]).replace(REX.RegExpChar, '\\\\$&');\r\n            }\r\n            type = match[5] == 'i' || (HTML_DOCUMENT && HTML_TABLE[expr.toLowerCase()]) ? 'i' : '';\r\n            source = 'if(' + N + '(' +\r\n              (!match[2] ? (NS ? 's.hasAttributeNS(e,\"' + name + '\")' : 'e.hasAttribute&&e.hasAttribute(\"' + name + '\")') :\r\n              !match[4] && ATTR_STD_OPS[match[2]] && match[2] != '~=' ? 'e.getAttribute&&e.getAttribute(\"' + name + '\")==\"\"' :\r\n              '(/' + test.p1 + match[4] + test.p2 + '/' + type + ').test(e.getAttribute&&e.getAttribute(\"' + name + '\"))==' + test.p3) +\r\n              ')){' + source + '}';\r\n            break;\r\n\r\n          // *** General sibling combinator\r\n          // E ~ F (F relative sibling of E)\r\n          case '~':\r\n            match = selector.match(Patterns.relative);\r\n            source = 'n=e;while((e=e.previousElementSibling)){' + source + '}e=n;';\r\n            break;\r\n          // *** Adjacent sibling combinator\r\n          // E + F (F adiacent sibling of E)\r\n          case '+':\r\n            match = selector.match(Patterns.adjacent);\r\n            source = 'n=e;if((e=e.previousElementSibling)){' + source + '}e=n;';\r\n            break;\r\n          // *** Descendant combinator\r\n          // E F (E ancestor of F)\r\n          case '\\x09':\r\n          case '\\x20':\r\n            match = selector.match(Patterns.ancestor);\r\n            source = 'n=e;while((e=e.parentElement)){' + source + '}e=n;';\r\n            break;\r\n          // *** Child combinator\r\n          // E > F (F children of E)\r\n          case '>':\r\n            match = selector.match(Patterns.children);\r\n            source = 'n=e;if((e=e.parentElement)){' + source + '}e=n;';\r\n            break;\r\n\r\n          // *** user supplied combinators extensions\r\n          case (symbol in Combinators ? symbol : undefined):\r\n            // for other registered combinators extensions\r\n            match[match.length - 1] = '*';\r\n            source = Combinators[symbol](match) + source;\r\n            break;\r\n\r\n          // *** tree-structural pseudo-classes\r\n          // :root, :empty, :first-child, :last-child, :only-child, :first-of-type, :last-of-type, :only-of-type\r\n          case ':':\r\n            if ((match = selector.match(Patterns.structural))) {\r\n              match[1] = match[1].toLowerCase();\r\n              switch (match[1]) {\r\n                case 'root':\r\n                  // there can only be one :root element, so exit the loop once found\r\n                  source = 'if(' + N + '(e===s.root)){' + source + (mode ? 'break main;' : '') + '}';\r\n                  break;\r\n                case 'empty':\r\n                  // matches elements that don't contain elements or text nodes\r\n                  source = 'n=e.firstChild;while(n&&!(/1|3/).test(n.nodeType)){n=n.nextSibling}if(' + D + 'n){' + source + '}';\r\n                  break;\r\n\r\n                // *** child-indexed pseudo-classes\r\n                // :first-child, :last-child, :only-child\r\n                case 'only-child':\r\n                  source = 'if(' + N + '(!e.nextElementSibling&&!e.previousElementSibling)){' + source + '}';\r\n                  break;\r\n                case 'last-child':\r\n                  source = 'if(' + N + '(!e.nextElementSibling)){' + source + '}';\r\n                  break;\r\n                case 'first-child':\r\n                  source = 'if(' + N + '(!e.previousElementSibling)){' + source + '}';\r\n                  break;\r\n\r\n                // *** typed child-indexed pseudo-classes\r\n                // :only-of-type, :last-of-type, :first-of-type\r\n                case 'only-of-type':\r\n                  source = 'o=e.localName;' +\r\n                    'n=e;while((n=n.nextElementSibling)&&n.localName!=o);if(!n){' +\r\n                    'n=e;while((n=n.previousElementSibling)&&n.localName!=o);}if(' + D + 'n){' + source + '}';\r\n                  break;\r\n                case 'last-of-type':\r\n                  source = 'n=e;o=e.localName;while((n=n.nextElementSibling)&&n.localName!=o);if(' + D + 'n){' + source + '}';\r\n                  break;\r\n                case 'first-of-type':\r\n                  source = 'n=e;o=e.localName;while((n=n.previousElementSibling)&&n.localName!=o);if(' + D + 'n){' + source + '}';\r\n                  break;\r\n                default:\r\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\r\n                  break;\r\n              }\r\n            }\r\n\r\n            // *** child-indexed & typed child-indexed pseudo-classes\r\n            // :nth-child, :nth-of-type, :nth-last-child, :nth-last-of-type\r\n            else if ((match = selector.match(Patterns.treestruct))) {\r\n              match[1] = match[1].toLowerCase();\r\n              switch (match[1]) {\r\n                case 'nth-child':\r\n                case 'nth-of-type':\r\n                case 'nth-last-child':\r\n                case 'nth-last-of-type':\r\n                  expr = /-of-type/i.test(match[1]);\r\n                  if (match[1] && match[2]) {\r\n                    type = /last/i.test(match[1]);\r\n                    if (match[2] == 'n') {\r\n                      source = 'if(' + N + 'true){' + source + '}';\r\n                      break;\r\n                    } else if (match[2] == '1') {\r\n                      test = type ? 'next' : 'previous';\r\n                      source = expr ? 'n=e;o=e.localName;' +\r\n                        'while((n=n.' + test + 'ElementSibling)&&n.localName!=o);if(' + D + 'n){' + source + '}' :\r\n                        'if(' + N + '!e.' + test + 'ElementSibling){' + source + '}';\r\n                      break;\r\n                    } else if (match[2] == 'even' || match[2] == '2n0' || match[2] == '2n+0' || match[2] == '2n') {\r\n                      test = 'n%2==0';\r\n                    } else if (match[2] == 'odd'  || match[2] == '2n1' || match[2] == '2n+1') {\r\n                      test = 'n%2==1';\r\n                    } else {\r\n                      f = /n/i.test(match[2]);\r\n                      n = match[2].split('n');\r\n                      a = parseInt(n[0], 10) || 0;\r\n                      b = parseInt(n[1], 10) || 0;\r\n                      if (n[0] == '-') { a = -1; }\r\n                      if (n[0] == '+') { a = +1; }\r\n                      test = (b ? '(n' + (b > 0 ? '-' : '+') + Math.abs(b) + ')' : 'n') + '%' + a + '==0' ;\r\n                      test =\r\n                        a >= +1 ? (f ? 'n>' + (b - 1) + (Math.abs(a) != 1 ? '&&' + test : '') : 'n==' + a) :\r\n                        a <= -1 ? (f ? 'n<' + (b + 1) + (Math.abs(a) != 1 ? '&&' + test : '') : 'n==' + a) :\r\n                        a === 0 ? (n[0] ? 'n==' + b : 'n>' + (b - 1)) : 'false';\r\n                    }\r\n                    expr = expr ? 'OfType' : 'Element';\r\n                    type = type ? 'true' : 'false';\r\n                    source = 'n=s.nth' + expr + '(e,' + type + ');if(' + N + '(' + test + ')){' + source + '}';\r\n                  } else {\r\n                    emit('\\'' + selector_string + '\\'' + qsInvalid);\r\n                  }\r\n                  break;\r\n                default:\r\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\r\n                  break;\r\n              }\r\n            }\r\n\r\n            // *** logical combination pseudo-classes\r\n            // :is( s1, [ s2, ... ]), :not( s1, [ s2, ... ])\r\n            else if ((match = selector.match(Patterns.logicalsel))) {\r\n              match[1] = match[1].toLowerCase();\r\n              switch (match[1]) {\r\n                case 'is':\r\n                case 'where':\r\n                case 'matches':\r\n                  expr = match[2].replace(REX.CommaGroup, ',').replace(REX.TrimSpaces, '');\r\n                  source = 'if(s.match(\"' + expr.replace(/\\x22/g, '\\\\\"') + '\",e)){' + source + '}';\r\n                  break;\r\n                case 'not':\r\n                  expr = match[2].replace(REX.CommaGroup, ',').replace(REX.TrimSpaces, '');\r\n                  source = 'if(!s.match(\"' + expr.replace(/\\x22/g, '\\\\\"') + '\",e)){' + source + '}';\r\n                  break;\r\n                default:\r\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\r\n                  break;\r\n              }\r\n            }\r\n\r\n            // *** linguistic pseudo-classes\r\n            // :dir( ltr / rtl ), :lang( en )\r\n            else if ((match = selector.match(Patterns.linguistic))) {\r\n              match[1] = match[1].toLowerCase();\r\n              switch (match[1]) {\r\n                case 'dir':\r\n                  source = 'var p;if(' + N + '(' +\r\n                    '(/' + match[2] + '/i.test(e.dir))||(p=s.ancestor(\"[dir]\", e))&&' +\r\n                    '(/' + match[2] + '/i.test(p.dir))||(e.dir==\"\"||e.dir==\"auto\")&&' +\r\n                    '(' + (match[2] == 'ltr' ? '!':'')+ RTL +'.test(e.textContent)))' +\r\n                    '){' + source + '};';\r\n                  break;\r\n                case 'lang':\r\n                  expr = '(?:^|-)' + match[2] + '(?:-|$)';\r\n                  source = 'var p;if(' + N + '(' +\r\n                    '(e.isConnected&&(e.lang==\"\"&&(p=s.ancestor(\"[lang]\",e)))&&' +\r\n                    '(p.lang==\"' + match[2] + '\")||/'+ expr +'/i.test(e.lang)))' +\r\n                    '){' + source + '};';\r\n                  break;\r\n                default:\r\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\r\n                  break;\r\n              }\r\n            }\r\n\r\n            // *** location pseudo-classes\r\n            // :any-link, :link, :visited, :target\r\n            else if ((match = selector.match(Patterns.locationpc))) {\r\n              match[1] = match[1].toLowerCase();\r\n              switch (match[1]) {\r\n                case 'any-link':\r\n                  source = 'if(' + N + '(/^a|area$/i.test(e.localName)&&e.hasAttribute(\"href\")||e.visited)){' + source + '}';\r\n                  break;\r\n                case 'link':\r\n                  source = 'if(' + N + '(/^a|area$/i.test(e.localName)&&e.hasAttribute(\"href\"))){' + source + '}';\r\n                  break;\r\n                case 'visited':\r\n                  source = 'if(' + N + '(/^a|area$/i.test(e.localName)&&e.hasAttribute(\"href\")&&e.visited)){' + source + '}';\r\n                  break;\r\n                case 'target':\r\n                  source = 'if(' + N + '((s.doc.compareDocumentPosition(e)&16)&&s.doc.location.hash&&e.id==s.doc.location.hash.slice(1))){' + source + '}';\r\n                  break;\r\n                default:\r\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\r\n                  break;\r\n              }\r\n            }\r\n\r\n            // *** user actions pseudo-classes\r\n            // :hover, :active, :focus\r\n            else if ((match = selector.match(Patterns.useraction))) {\r\n              match[1] = match[1].toLowerCase();\r\n              switch (match[1]) {\r\n                case 'hover':\r\n                  source = 'hasFocus' in doc && doc.hasFocus() ?\r\n                    'if(' + N + '(e===s.doc.hoverElement)){' + source + '}' :\r\n                    'if(' + D + 'true){' + source + '}';\r\n                  break;\r\n                case 'active':\r\n                  source = 'hasFocus' in doc && doc.hasFocus() ?\r\n                    'if(' + N + '(e===s.doc.activeElement)){' + source + '}' :\r\n                    'if(' + D + 'true){' + source + '}';\r\n                  break;\r\n                case 'focus':\r\n                  source = 'hasFocus' in doc ?\r\n                    'if(' + N + '(e===s.doc.activeElement&&s.doc.hasFocus()&&(e.type||e.href||typeof e.tabIndex==\"number\"))){' + source + '}' :\r\n                    'if(' + N + '(e===s.doc.activeElement&&(e.type||e.href))){' + source + '}';\r\n                  break;\r\n                case 'focus-within':\r\n                  source = 'hasFocus' in doc ?\r\n                    'n=s.doc.activeElement;while(e){if(e===n||e.parentNode===n)break;}' +\r\n                    'if(' + N + '(e===n&&s.doc.hasFocus()&&(e.type||e.href||typeof e.tabIndex==\"number\"))){' + source + '}' : source;\r\n                  break;\r\n                default:\r\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\r\n                  break;\r\n              }\r\n            }\r\n\r\n            // *** user interface and form pseudo-classes\r\n            // :enabled, :disabled, :read-only, :read-write, :placeholder-shown, :default\r\n            else if ((match = selector.match(Patterns.inputstate))) {\r\n              match[1] = match[1].toLowerCase();\r\n              switch (match[1]) {\r\n                case 'enabled':\r\n                  source = 'if(' + N + '((\"form\" in e||/^optgroup$/i.test(e.localName))&&\"disabled\" in e &&e.disabled===false' +\r\n                    ')){' + source + '}';\r\n                  break;\r\n                case 'disabled':\r\n                  // https://www.w3.org/TR/html5/forms.html#enabling-and-disabling-form-controls:-the-disabled-attribute\r\n                  source = 'if(' + N + '((\"form\" in e||/^optgroup$/i.test(e.localName))&&\"disabled\" in e&&' +\r\n                    '(e.disabled===true||(n=s.ancestor(\"fieldset\",e))&&(n=s.first(\"legend\",n))&&!n.contains(e))' +\r\n                    ')){' + source + '}';\r\n                  break;\r\n                case 'read-only':\r\n                  source =\r\n                    'if(' + N + '(' +\r\n                      '(/^textarea$/i.test(e.localName)&&(e.readOnly||e.disabled))||' +\r\n                      '(\"|password|text|\".includes(\"|\"+e.type+\"|\")&&e.readOnly)' +\r\n                    ')){' + source + '}';\r\n                  break;\r\n                case 'read-write':\r\n                  source =\r\n                    'if(' + N + '(' +\r\n                      '((/^textarea$/i.test(e.localName)&&!e.readOnly&&!e.disabled)||' +\r\n                      '(\"|password|text|\".includes(\"|\"+e.type+\"|\")&&!e.readOnly&&!e.disabled))||' +\r\n                      '(e.hasAttribute(\"contenteditable\")||(s.doc.designMode==\"on\"))' +\r\n                    ')){' + source + '}';\r\n                  break;\r\n                case 'placeholder-shown':\r\n                  source =\r\n                    'if(' + N + '(' +\r\n                      '(/^input|textarea$/i.test(e.localName))&&e.hasAttribute(\"placeholder\")&&' +\r\n                      '(\"|textarea|password|number|search|email|text|tel|url|\".includes(\"|\"+e.type+\"|\"))&&' +\r\n                      '(!s.match(\":focus\",e))' +\r\n                    ')){' + source + '}';\r\n                  break;\r\n                case 'default':\r\n                  source =\r\n                    'if(' + N + '(\"form\" in e && e.form)){' +\r\n                      'var x=0;n=[];' +\r\n                      'if(e.type==\"image\")n=e.form.getElementsByTagName(\"input\");' +\r\n                      'if(e.type==\"submit\")n=e.form.elements;' +\r\n                      'while(n[x]&&e!==n[x]){' +\r\n                        'if(n[x].type==\"image\")break;' +\r\n                        'if(n[x].type==\"submit\")break;' +\r\n                        'x++;' +\r\n                      '}' +\r\n                    '}' +\r\n                    'if(' + N + '(e.form&&(e===n[x]&&\"|image|submit|\".includes(\"|\"+e.type+\"|\"))||' +\r\n                      '((/^option$/i.test(e.localName))&&e.defaultSelected)||' +\r\n                      '((\"|radio|checkbox|\".includes(\"|\"+e.type+\"|\"))&&e.defaultChecked)' +\r\n                    ')){' + source + '}';\r\n                  break;\r\n                default:\r\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\r\n                  break;\r\n              }\r\n            }\r\n\r\n            // *** input pseudo-classes (for form validation)\r\n            // :checked, :indeterminate, :valid, :invalid, :in-range, :out-of-range, :required, :optional\r\n            else if ((match = selector.match(Patterns.inputvalue))) {\r\n              match[1] = match[1].toLowerCase();\r\n              switch (match[1]) {\r\n                case 'checked':\r\n                  source = 'if(' + N + '(/^input$/i.test(e.localName)&&' +\r\n                    '(\"|radio|checkbox|\".includes(\"|\"+e.type+\"|\")&&e.checked)||' +\r\n                    '(/^option$/i.test(e.localName)&&(e.selected||e.checked))' +\r\n                    ')){' + source + '}';\r\n                  break;\r\n                case 'indeterminate':\r\n                  source =\r\n                    'if(' + N + '(/^progress$/i.test(e.localName)&&!e.hasAttribute(\"value\"))||' +\r\n                      '(/^input$/i.test(e.localName)&&(\"checkbox\"==e.type&&e.indeterminate)||' +\r\n                      '(\"radio\"==e.type&&e.name&&!s.first(\"input[name=\"+e.name+\"]:checked\",e.form))' +\r\n                    ')){' + source + '}';\r\n                  break;\r\n                case 'required':\r\n                  source =\r\n                    'if(' + N +\r\n                      '(/^input|select|textarea$/i.test(e.localName)&&e.required)' +\r\n                    '){' + source + '}';\r\n                  break;\r\n                case 'optional':\r\n                  source =\r\n                    'if(' + N +\r\n                      '(/^input|select|textarea$/i.test(e.localName)&&!e.required)' +\r\n                    '){' + source + '}';\r\n                  break;\r\n                case 'invalid':\r\n                  source =\r\n                    'if(' + N + '((' +\r\n                      '(/^form$/i.test(e.localName)&&!e.noValidate)||' +\r\n                      '(e.willValidate&&!e.formNoValidate))&&!e.checkValidity())||' +\r\n                      '(/^fieldset$/i.test(e.localName)&&s.first(\":invalid\",e))' +\r\n                    '){' + source + '}';\r\n                  break;\r\n                case 'valid':\r\n                  source =\r\n                    'if(' + N + '((' +\r\n                      '(/^form$/i.test(e.localName)&&!e.noValidate)||' +\r\n                      '(e.willValidate&&!e.formNoValidate))&&e.checkValidity())||' +\r\n                      '(/^fieldset$/i.test(e.localName)&&s.first(\":valid\",e))' +\r\n                    '){' + source + '}';\r\n                  break;\r\n                case 'in-range':\r\n                  source =\r\n                    'if(' + N +\r\n                      '(/^input$/i.test(e.localName))&&' +\r\n                      '(e.willValidate&&!e.formNoValidate)&&' +\r\n                      '(!e.validity.rangeUnderflow&&!e.validity.rangeOverflow)&&' +\r\n                      '(\"|date|datetime-local|month|number|range|time|week|\".includes(\"|\"+e.type+\"|\"))&&' +\r\n                      '(\"range\"==e.type||e.getAttribute(\"min\")||e.getAttribute(\"max\"))' +\r\n                    '){' + source + '}';\r\n                  break;\r\n                case 'out-of-range':\r\n                  source =\r\n                    'if(' + N +\r\n                      '(/^input$/i.test(e.localName))&&' +\r\n                      '(e.willValidate&&!e.formNoValidate)&&' +\r\n                      '(e.validity.rangeUnderflow||e.validity.rangeOverflow)&&' +\r\n                      '(\"|date|datetime-local|month|number|range|time|week|\".includes(\"|\"+e.type+\"|\"))&&' +\r\n                      '(\"range\"==e.type||e.getAttribute(\"min\")||e.getAttribute(\"max\"))' +\r\n                    '){' + source + '}';\r\n                  break;\r\n                default:\r\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\r\n                  break;\r\n              }\r\n            }\r\n\r\n            // allow pseudo-elements starting with single colon (:)\r\n            // :after, :before, :first-letter, :first-line\r\n            // assert: e.type is in double-colon format, like ::after\r\n            else if ((match = selector.match(Patterns.pseudo_sng))) {\r\n              source = 'if(e.element&&e.type.toLowerCase()==\"' +\r\n                ':' + match[0].toLowerCase() + '\"){e=e.element;' + source + '}';\r\n            }\r\n\r\n            // allow pseudo-elements starting with double colon (::)\r\n            // ::after, ::before, ::marker, ::placeholder, ::inactive-selection, ::selection, ::-webkit-<foo-bar>\r\n            // assert: e.type is in double-colon format, like ::after\r\n            else if ((match = selector.match(Patterns.pseudo_dbl))) {\r\n              source = 'if(e.element&&e.type.toLowerCase()==\"' +\r\n                match[0].toLowerCase() + '\"){e=e.element;' + source + '}';\r\n            }\r\n\r\n            // placeholder for parsed only no-op selectors\r\n            else if ((match = selector.match(Patterns.pseudo_nop))) {\r\n              source = 'if(' + N + 'false' + '){' + source + '}';\r\n            }\r\n\r\n            else {\r\n\r\n              // reset\r\n              expr = false;\r\n              status = false;\r\n\r\n              // process registered selector extensions\r\n              for (expr in Selectors) {\r\n                if ((match = selector.match(Selectors[expr].Expression))) {\r\n                  result = Selectors[expr].Callback(match, source, mode, callback);\r\n                  if ('match' in result) { match = result.match; }\r\n                  vars = result.modvar;\r\n                  if (mode) {\r\n                     // add extra select() vars\r\n                     vars && S_VARS.indexOf(vars) < 0 && (S_VARS[S_VARS.length] = vars);\r\n                  } else {\r\n                     // add extra match() vars\r\n                     vars && M_VARS.indexOf(vars) < 0 && (M_VARS[M_VARS.length] = vars);\r\n                  }\r\n                  // extension source code\r\n                  source = result.source;\r\n                  // extension status code\r\n                  status = result.status;\r\n                  // break on status error\r\n                  if (status) { break; }\r\n                }\r\n              }\r\n\r\n              if (!status) {\r\n                emit('unknown pseudo-class selector \\'' + selector + '\\'');\r\n                return '';\r\n              }\r\n\r\n              if (!expr) {\r\n                emit('unknown token in selector \\'' + selector + '\\'');\r\n                return '';\r\n              }\r\n\r\n            }\r\n            break;\r\n\r\n        default:\r\n          emit('\\'' + selector_string + '\\'' + qsInvalid);\r\n          break selector_recursion_label;\r\n\r\n        }\r\n        // end of switch symbol\r\n\r\n        if (!match) {\r\n          emit('\\'' + selector_string + '\\'' + qsInvalid);\r\n          return '';\r\n        }\r\n\r\n        // pop last component\r\n        selector = match.pop();\r\n      }\r\n      // end of while selector\r\n\r\n      return source;\r\n    },\r\n\r\n  // replace ':scope' pseudo-class with element references\r\n  makeref =\r\n    function(selectors, element) {\r\n      return selectors.replace(/:scope/ig,\r\n        element.localName +\r\n        (element.id ? '#' + element.id : '') +\r\n        (element.className ? '.' + element.classList[0] : ''));\r\n    },\r\n\r\n  // equivalent of w3c 'closest' method\r\n  ancestor =\r\n    function _closest(selectors, element, callback) {\r\n\r\n      if ((/:scope/i).test(selectors)) {\r\n        selectors = makeref(selectors, element);\r\n      }\r\n\r\n      while (element) {\r\n        if (match(selectors, element, callback)) break;\r\n        element = element.parentElement;\r\n      }\r\n      return element;\r\n    },\r\n\r\n  match_assert =\r\n    function(f, element, callback) {\r\n      for (var i = 0, l = f.length, r = false; l > i; ++i)\r\n        f[i](element, callback, null, false) && (r = true);\r\n      return r;\r\n    },\r\n\r\n  match_collect =\r\n    function(selectors, callback) {\r\n      for (var i = 0, l = selectors.length, f = [ ]; l > i; ++i)\r\n        f[i] = compile(selectors[i], false, callback);\r\n      return { factory: f };\r\n    },\r\n\r\n  // equivalent of w3c 'matches' method\r\n  match =\r\n    function _matches(selectors, element, callback) {\r\n\r\n      var expressions, parsed;\r\n\r\n      if (element && matchResolvers[selectors]) {\r\n        return match_assert(matchResolvers[selectors].factory, element, callback);\r\n      }\r\n\r\n      lastMatched = selectors;\r\n\r\n      // arguments validation\r\n      if (arguments.length === 0) {\r\n        emit(qsNotArgs, TypeError);\r\n        return Config.VERBOSITY ? undefined : false;\r\n      } else if (arguments[0] === '') {\r\n        emit('\\'\\'' + qsInvalid);\r\n        return Config.VERBOSITY ? undefined : false;\r\n      }\r\n\r\n      // input NULL or UNDEFINED\r\n      if (typeof selectors != 'string') {\r\n        selectors = '' + selectors;\r\n      }\r\n\r\n      if ((/:scope/i).test(selectors)) {\r\n        selectors = makeref(selectors, element);\r\n      }\r\n\r\n      // normalize input string\r\n      parsed = selectors.\r\n        replace(/\\x00|\\\\$/g, '\\ufffd').\r\n        replace(REX.CombineWSP, '\\x20').\r\n        replace(REX.PseudosWSP, '$1').\r\n        replace(REX.TabCharWSP, '\\t').\r\n        replace(REX.CommaGroup, ',').\r\n        replace(REX.TrimSpaces, '');\r\n\r\n      // parse, validate and split possible compound selectors\r\n      if ((expressions = parsed.match(reValidator)) && expressions.join('') == parsed) {\r\n        expressions = parsed.match(REX.SplitGroup);\r\n        if (parsed[parsed.length - 1] == ',') {\r\n          emit(qsInvalid);\r\n          return Config.VERBOSITY ? undefined : false;\r\n        }\r\n      } else {\r\n        emit('\\'' + selectors + '\\'' + qsInvalid);\r\n        return Config.VERBOSITY ? undefined : false;\r\n      }\r\n\r\n      matchResolvers[selectors] = match_collect(expressions, callback);\r\n\r\n      return match_assert(matchResolvers[selectors].factory, element, callback);\r\n    },\r\n\r\n  // equivalent of w3c 'querySelector' method\r\n  first =\r\n    function _querySelector(selectors, context, callback) {\r\n      if (arguments.length === 0) {\r\n        emit(qsNotArgs, TypeError);\r\n      }\r\n      return select(selectors, context,\r\n        typeof callback == 'function' ?\r\n        function firstMatch(element) {\r\n          callback(element);\r\n          return false;\r\n        } :\r\n        function firstMatch() {\r\n          return false;\r\n        }\r\n      )[0] || null;\r\n    },\r\n\r\n  // equivalent of w3c 'querySelectorAll' method\r\n  select =\r\n    function _querySelectorAll(selectors, context, callback) {\r\n\r\n      var expressions, nodes = [ ], parsed, resolver;\r\n\r\n      context || (context = doc);\r\n\r\n      if (selectors) {\r\n        if ((resolver = selectResolvers[selectors])) {\r\n          if (resolver.context === context && resolver.callback === callback) {\r\n            var f = resolver.factory, h = resolver.htmlset, n = resolver.nodeset;\r\n            if (n.length > 1) {\r\n              for (var i = 0, l = n.length, list; l > i; ++i) {\r\n                list = compat[n[i][0]](context, n[i].slice(1))();\r\n                if (f[i] !== null) {\r\n                  f[i](list, callback, context, nodes);\r\n                } else {\r\n                  nodes = nodes.concat(list);\r\n                }\r\n              }\r\n              if (l > 1 && nodes.length > 1) {\r\n                nodes.sort(documentOrder);\r\n                hasDupes && (nodes = unique(nodes));\r\n              }\r\n            } else {\r\n              if (f[0]) {\r\n                nodes = f[0](h[0](), callback, context, nodes);\r\n              } else {\r\n                nodes = h[0]();\r\n              }\r\n            }\r\n            return typeof callback == 'function' ?\r\n              concatCall(nodes, callback) : nodes;\r\n          }\r\n        }\r\n      }\r\n\r\n      lastSelected = selectors;\r\n\r\n      // arguments validation\r\n      if (arguments.length === 0) {\r\n        emit(qsNotArgs, TypeError);\r\n        return Config.VERBOSITY ? undefined : none;\r\n      } else if (arguments[0] === '') {\r\n        emit('\\'\\'' + qsInvalid);\r\n        return Config.VERBOSITY ? undefined : none;\r\n      } else if (lastContext !== context) {\r\n        lastContext = switchContext(context);\r\n      }\r\n\r\n      // input NULL or UNDEFINED\r\n      if (typeof selectors != 'string') {\r\n        selectors = '' + selectors;\r\n      }\r\n\r\n      if ((/:scope/i).test(selectors)) {\r\n        selectors = makeref(selectors, context);\r\n      }\r\n\r\n      // normalize input string\r\n      parsed = selectors.\r\n        replace(/\\x00|\\\\$/g, '\\ufffd').\r\n        replace(REX.CombineWSP, '\\x20').\r\n        replace(REX.PseudosWSP, '$1').\r\n        replace(REX.TabCharWSP, '\\t').\r\n        replace(REX.CommaGroup, ',').\r\n        replace(REX.TrimSpaces, '');\r\n\r\n      // parse, validate and split possible compound selectors\r\n      if ((expressions = parsed.match(reValidator)) && expressions.join('') == parsed) {\r\n        expressions = parsed.match(REX.SplitGroup);\r\n        if (parsed[parsed.length - 1] == ',') {\r\n          emit(qsInvalid);\r\n          return Config.VERBOSITY ? undefined : false;\r\n        }\r\n      } else {\r\n        emit('\\'' + selectors + '\\'' + qsInvalid);\r\n        return Config.VERBOSITY ? undefined : false;\r\n      }\r\n\r\n      // save/reuse factory and closure collection\r\n      selectResolvers[selectors] = collect(expressions, context, callback);\r\n\r\n      nodes = selectResolvers[selectors].results;\r\n\r\n      return typeof callback == 'function' ?\r\n        concatCall(nodes, callback) : nodes;\r\n    },\r\n\r\n  // optimize selectors avoiding duplicated checks\r\n  optimize =\r\n    function(selector, token) {\r\n      var index = token.index,\r\n      length = token[1].length + token[2].length;\r\n      return selector.slice(0, index) +\r\n        (' >+~'.indexOf(selector.charAt(index - 1)) > -1 ?\r\n          (':['.indexOf(selector.charAt(index + length + 1)) > -1 ?\r\n          '*' : '') : '') + selector.slice(index + length - (token[1] == '*' ? 1 : 0));\r\n    },\r\n\r\n  // prepare factory resolvers and closure collections\r\n  collect =\r\n    function(selectors, context, callback) {\r\n\r\n      var i, l, seen = { }, token = ['', '*', '*'], optimized = selectors,\r\n      factory = [ ], htmlset = [ ], nodeset = [ ], results = [ ], type;\r\n\r\n      for (i = 0, l = selectors.length; l > i; ++i) {\r\n\r\n        if (!seen[selectors[i]] && (seen[selectors[i]] = true)) {\r\n          type = selectors[i].match(reOptimizer);\r\n          if (type && type[1] != ':' && (token = type)) {\r\n            token[1] || (token[1] = '*');\r\n            optimized[i] = optimize(optimized[i], token);\r\n          } else {\r\n            token = ['', '*', '*'];\r\n          }\r\n        }\r\n\r\n        nodeset[i] = token[1] + token[2];\r\n        htmlset[i] = compat[token[1]](context, token[2]);\r\n        factory[i] = compile(optimized[i], true, null);\r\n\r\n        factory[i] ?\r\n          factory[i](htmlset[i](), callback, context, results) :\r\n          result.concat(htmlset[i]());\r\n      }\r\n\r\n      if (l > 1) {\r\n        results.sort(documentOrder);\r\n        hasDupes && (results = unique(results));\r\n      }\r\n\r\n      return {\r\n        callback: callback,\r\n        context: context,\r\n        factory: factory,\r\n        htmlset: htmlset,\r\n        nodeset: nodeset,\r\n        results: results\r\n      };\r\n\r\n    },\r\n\r\n  // QSA placeholders to native references\r\n  _closest, _matches, _querySelector, _querySelectorAll,\r\n\r\n  // overrides QSA methods (only for browsers)\r\n  install =\r\n    function(all) {\r\n\r\n      // save native QSA references\r\n      _closest = Element.prototype.closest;\r\n      _matches = Element.prototype.matches;\r\n      _querySelector = Document.prototype.querySelector;\r\n      _querySelectorAll = Document.prototype.querySelectorAll;\r\n\r\n      Element.prototype.closest =\r\n        function closest() {\r\n          var ctor = Object.getPrototypeOf(this).__proto__.__proto__.constructor.name;\r\n          if (!('nodeType' in this)) { emit('\\'closest\\' called on an object that does not implement interface ' + ctor + '.', TypeError); }\r\n          return arguments.length < 1 ? ancestor.apply(this, [ ]) :\r\n                 arguments.length < 2 ? ancestor.apply(this, [ arguments[0], this ]) :\r\n                                        ancestor.apply(this, [ arguments[0], this, typeof arguments[1] == 'function' ? arguments[1] : undefined ]);\r\n        };\r\n\r\n      Element.prototype.matches =\r\n        function matches() {\r\n          var ctor = Object.getPrototypeOf(this).__proto__.__proto__.constructor.name;\r\n          if (!('nodeType' in this)) { emit('\\'matches\\' called on an object that does not implement interface ' + ctor + '.', TypeError); }\r\n          return arguments.length < 1 ? match.apply(this, [ ]) :\r\n                 arguments.length < 2 ? match.apply(this, [ arguments[0], this ]) :\r\n                                        match.apply(this, [ arguments[0], this, typeof arguments[1] == 'function' ? arguments[1] : undefined ]);\r\n        };\r\n\r\n      Element.prototype.querySelector =\r\n      Document.prototype.querySelector =\r\n      DocumentFragment.prototype.querySelector =\r\n        function querySelector() {\r\n          var ctor = Object.getPrototypeOf(this).__proto__.__proto__.constructor.name;\r\n          if (!('nodeType' in this)) { emit('\\'querySelector\\' called on an object that does not implement interface ' + ctor + '.', TypeError); }\r\n          return arguments.length < 1 ? first.apply(this, [ ]) :\r\n                 arguments.length < 2 ? first.apply(this, [ arguments[0], this ]) :\r\n                                        first.apply(this, [ arguments[0], this, typeof arguments[1] == 'function' ? arguments[1] : undefined ]);\r\n        };\r\n\r\n      Element.prototype.querySelectorAll =\r\n      Document.prototype.querySelectorAll =\r\n      DocumentFragment.prototype.querySelectorAll =\r\n        function querySelectorAll() {\r\n          var ctor = Object.getPrototypeOf(this).__proto__.__proto__.constructor.name;\r\n          if (!('nodeType' in this)) { emit('\\'querySelectorAll\\' called on an object that does not implement interface ' + ctor + '.', TypeError); }\r\n          return arguments.length < 1 ? select.apply(this, [ ]) :\r\n                 arguments.length < 2 ? select.apply(this, [ arguments[0], this ]) :\r\n                                        select.apply(this, [ arguments[0], this, typeof arguments[1] == 'function' ? arguments[1] : undefined ]);\r\n        };\r\n\r\n      if (all) {\r\n        document.addEventListener('load', function(e) {\r\n          var c, d, r, s, t = e.target;\r\n          if (/iframe/i.test(t.localName)) {\r\n            c = '(' + Export + ')(this, ' + Factory + ');'; d = t.contentDocument;\r\n            s = d.createElement('script'); s.textContent = c + 'NW.Dom.install()';\r\n            r = d.documentElement; r.removeChild(r.insertBefore(s, r.firstChild));\r\n          }\r\n        }, true);\r\n      }\r\n\r\n    },\r\n\r\n  // restore QSA methods (only for browsers)\r\n  uninstall =\r\n    function() {\r\n      // reinstates QSA native references\r\n      Element.prototype.closest = _closest;\r\n      Element.prototype.matches = _matches;\r\n      Element.prototype.querySelector =\r\n      Document.prototype.querySelector =\r\n      DocumentFragment.prototype.querySelector = _querySelector;\r\n      Element.prototype.querySelectorAll =\r\n      Document.prototype.querySelectorAll =\r\n      DocumentFragment.prototype.querySelectorAll = _querySelectorAll;\r\n    },\r\n\r\n  // empty set\r\n  none = Array(),\r\n\r\n  // context\r\n  lastContext,\r\n\r\n  // selector\r\n  lastMatched,\r\n  lastSelected,\r\n\r\n  // cached lambdas\r\n  matchLambdas = { },\r\n  selectLambdas = { },\r\n\r\n  // cached resolvers\r\n  matchResolvers = { },\r\n  selectResolvers = { },\r\n\r\n  // passed to resolvers\r\n  Snapshot = {\r\n\r\n    doc: doc,\r\n    from: doc,\r\n    root: root,\r\n\r\n    byTag: byTag,\r\n\r\n    first: first,\r\n    match: match,\r\n\r\n    ancestor: ancestor,\r\n\r\n    nthOfType: nthOfType,\r\n    nthElement: nthElement,\r\n\r\n    hasAttributeNS: hasAttributeNS\r\n  },\r\n\r\n  // public exported methods/objects\r\n  Dom = {\r\n\r\n    // exported cache objects\r\n\r\n    lastMatched: lastMatched,\r\n    lastSelected: lastSelected,\r\n\r\n    matchLambdas: matchLambdas,\r\n    selectLambdas: selectLambdas,\r\n\r\n    matchResolvers: matchResolvers,\r\n    selectResolvers: selectResolvers,\r\n\r\n    // exported compiler macros\r\n\r\n    CFG: CFG,\r\n\r\n    M_BODY: M_BODY,\r\n    S_BODY: S_BODY,\r\n    M_TEST: M_TEST,\r\n    S_TEST: S_TEST,\r\n\r\n    // exported engine methods\r\n\r\n    byId: byId,\r\n    byTag: byTag,\r\n    byClass: byClass,\r\n\r\n    match: match,\r\n    first: first,\r\n    select: select,\r\n    closest: ancestor,\r\n\r\n    compile: compile,\r\n    configure: configure,\r\n\r\n    emit: emit,\r\n    Config: Config,\r\n    Snapshot: Snapshot,\r\n\r\n    Version: version,\r\n\r\n    install: install,\r\n    uninstall: uninstall,\r\n\r\n    Operators: Operators,\r\n    Selectors: Selectors,\r\n\r\n    // register a new selector combinator symbol and its related function resolver\r\n    registerCombinator:\r\n      function(combinator, resolver) {\r\n        var i = 0, l = combinator.length, symbol;\r\n        for (; l > i; ++i) {\r\n          if (combinator[i] != '=') {\r\n            symbol = combinator[i];\r\n            break;\r\n          }\r\n        }\r\n        if (CFG.combinators.indexOf(symbol) < 0) {\r\n          CFG.combinators = CFG.combinators.replace('](', symbol + '](');\r\n          CFG.combinators = CFG.combinators.replace('])', symbol + '])');\r\n          Combinators[combinator] = resolver;\r\n          setIdentifierSyntax();\r\n        } else {\r\n          console.warn('Warning: the \\'' + combinator + '\\' combinator is already registered.');\r\n        }\r\n      },\r\n\r\n    // register a new attribute operator symbol and its related function resolver\r\n    registerOperator:\r\n      function(operator, resolver) {\r\n        var i = 0, l = operator.length, symbol;\r\n        for (; l > i; ++i) {\r\n          if (operator[i] != '=') {\r\n            symbol = operator[i];\r\n            break;\r\n          }\r\n        }\r\n        if (CFG.operators.indexOf(symbol) < 0 && !Operators[operator]) {\r\n          CFG.operators = CFG.operators.replace(']=', symbol + ']=');\r\n          Operators[operator] = resolver;\r\n          setIdentifierSyntax();\r\n        } else {\r\n          console.warn('Warning: the \\'' + operator + '\\' operator is already registered.');\r\n        }\r\n      },\r\n\r\n    // register a new selector symbol and its related function resolver\r\n    registerSelector:\r\n      function(name, rexp, func) {\r\n        Selectors[name] || (Selectors[name] = {\r\n          Expression: rexp,\r\n          Callback: func\r\n        });\r\n      }\r\n\r\n  };\r\n\r\n  initialize(doc);\r\n\r\n  return Dom;\r\n\r\n});\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,SAASA,MAAMA,CAACC,MAAM,EAAEC,OAAO,EAAE;EAEhC,YAAY;;EAEZ,IAAI,OAAOC,MAAM,IAAI,QAAQ,IAAI,OAAOC,OAAO,IAAI,QAAQ,EAAE;IAC3DD,MAAM,CAACC,OAAO,GAAGF,OAAO;EAC1B,CAAC,MAAM,IAAI,OAAOG,MAAM,IAAI,UAAU,IAAIA,MAAM,CAAC,KAAK,CAAC,EAAE;IACvDA,MAAM,CAACH,OAAO,CAAC;EACjB,CAAC,MAAM;IACLD,MAAM,CAACK,EAAE,KAAKL,MAAM,CAACK,EAAE,GAAG,CAAE,CAAC,CAAC;IAC9BL,MAAM,CAACK,EAAE,CAACC,GAAG,GAAGL,OAAO,CAACD,MAAM,EAAED,MAAM,CAAC;EACzC;AAEF,CAAC,EAAE,IAAI,EAAE,SAASQ,OAAOA,CAACP,MAAM,EAAED,MAAM,EAAE;EAExC,IAAIS,OAAO,GAAG,cAAc;IAE5BC,GAAG,GAAGT,MAAM,CAACU,QAAQ;IACrBC,IAAI,GAAGF,GAAG,CAACG,eAAe;IAC1BC,KAAK,GAAGC,KAAK,CAACC,SAAS,CAACF,KAAK;IAE7BG,GAAG,GAAG,qBAAqB;IAE3BC,GAAG,GAAG;MACJ;MACAC,SAAS,EAAE,YAAY;MACvBC,WAAW,EAAE;IACf,CAAC;IAEDC,GAAG,GAAG;MACJ;MACAC,UAAU,EAAE,iCAAiC;MAC7CC,UAAU,EAAE,iCAAiC;MAC7CC,UAAU,EAAE,oBAAoB;MAChCC,UAAU,EAAE;IACd,CAAC;IAEDC,GAAG,GAAG;MACJ;MACAC,UAAU,EAAEC,MAAM,CAAC,MAAM,CAAC;MAC1BC,UAAU,EAAED,MAAM,CAAC,cAAc,CAAC;MAClCE,UAAU,EAAEF,MAAM,CAAC,oBAAoB,CAAC;MACxCG,UAAU,EAAEH,MAAM,CAAC,sCAAsC,EAAE,GAAG,CAAC;MAC/DI,UAAU,EAAEJ,MAAM,CAAC,eAAe,GAAGX,GAAG,GAAG,IAAI,GAAGA,GAAG,GAAG,IAAI,EAAE,GAAG,CAAC;MAClEgB,UAAU,EAAEL,MAAM,CAAC,aAAa,GAAGP,GAAG,CAACI,UAAU,GAAGJ,GAAG,CAACG,UAAU,EAAE,GAAG,CAAC;MACxEU,UAAU,EAAEN,MAAM,CAAC,qDAAqD,EAAE,GAAG,CAAC;MAC9EO,UAAU,EAAEP,MAAM,CAAC,uBAAuB,GAAGX,GAAG,GAAG,qBAAqB,EAAE,GAAG,CAAC;MAC9EmB,UAAU,EAAER,MAAM,CAAC,mBAAmB,GAAGP,GAAG,CAACE,UAAU,GAAGF,GAAG,CAACC,UAAU,EAAE,GAAG,CAAC;MAC9Ee,UAAU,EAAET,MAAM,CAAC,oBAAoB,GAAGP,GAAG,CAACE,UAAU,GAAGF,GAAG,CAACC,UAAU,EAAE,GAAG,CAAC;MAC/EgB,UAAU,EAAEV,MAAM,CAAC,gBAAgB,GAAGP,GAAG,CAACI,UAAU,EAAE,GAAG;IAC3D,CAAC;IAEDc,GAAG,GAAG;MACJC,UAAU,EAAEZ,MAAM,CAAC,iBAAiB,EAAE,GAAG,CAAC;MAC1Ca,UAAU,EAAEb,MAAM,CAAC,oBAAoB,EAAE,GAAG,CAAC;MAC7Cc,UAAU,EAAEd,MAAM,CAAC,wBAAwB,EAAE,GAAG;IAClD,CAAC;IAEDe,MAAM,GAAG;MACP;MACAC,UAAU,EAAE,gDAAgD;MAC5DC,UAAU,EAAE,qFAAqF;MACjGC,UAAU,EAAE,+GAA+G;MAC3H;MACAC,UAAU,EAAE,mCAAmC;MAC/CC,UAAU,EAAE,sCAAsC;MAClDC,UAAU,EAAE,4DAA4D;MACxEC,UAAU,EAAE,sEAAsE;MAClFC,UAAU,EAAE,kFAAkF;MAC9F;MACAC,UAAU,EAAE,gCAAgC;MAC5C;MACAC,UAAU,EAAE,2CAA2C;MACvD;MACAC,UAAU,EAAE;IACd,CAAC;IAEDC,QAAQ,GAAG;MACT;MACAT,UAAU,EAAElB,MAAM,CAAC,OAAO,GAAGe,MAAM,CAACG,UAAU,GAAG,OAAO,EAAE,GAAG,CAAC;MAC9DG,UAAU,EAAErB,MAAM,CAAC,OAAO,GAAGe,MAAM,CAACM,UAAU,GAAG,OAAO,EAAE,GAAG,CAAC;MAC9DL,UAAU,EAAEhB,MAAM,CAAC,OAAO,GAAGe,MAAM,CAACC,UAAU,GAAG,OAAO,EAAE,GAAG,CAAC;MAC9DI,UAAU,EAAEpB,MAAM,CAAC,OAAO,GAAGe,MAAM,CAACK,UAAU,GAAG,OAAO,EAAE,GAAG,CAAC;MAC9DE,UAAU,EAAEtB,MAAM,CAAC,OAAO,GAAGe,MAAM,CAACO,UAAU,GAAG,OAAO,EAAE,GAAG,CAAC;MAC9DC,UAAU,EAAEvB,MAAM,CAAC,OAAO,GAAGe,MAAM,CAACQ,UAAU,GAAG,OAAO,EAAE,GAAG,CAAC;MAC9DJ,UAAU,EAAEnB,MAAM,CAAC,OAAO,GAAGe,MAAM,CAACI,UAAU,GAAG,OAAO,EAAE,GAAG,CAAC;MAC9DF,UAAU,EAAEjB,MAAM,CAAC,OAAO,GAAGe,MAAM,CAACE,UAAU,GAAG,OAAO,EAAE,GAAG,CAAC;MAC9DO,UAAU,EAAExB,MAAM,CAAC,OAAO,GAAGe,MAAM,CAACS,UAAU,GAAG,OAAO,EAAE,GAAG,CAAC;MAC9DC,UAAU,EAAEzB,MAAM,CAAC,OAAO,GAAGe,MAAM,CAACU,UAAU,GAAG,OAAO,EAAE,GAAG,CAAC;MAC9DC,UAAU,EAAE1B,MAAM,CAAC,OAAO,GAAGe,MAAM,CAACW,UAAU,GAAG,OAAO,EAAE,GAAG,CAAC;MAC9D;MACAE,QAAQ,EAAE5B,MAAM,CAAC,GAAG,GAAGX,GAAG,GAAG,MAAM,GAAGA,GAAG,GAAG,OAAO,CAAC;MACpDwC,QAAQ,EAAE7B,MAAM,CAAC,GAAG,GAAGX,GAAG,GAAG,MAAM,GAAGA,GAAG,GAAG,OAAO,CAAC;MACpDyC,QAAQ,EAAE9B,MAAM,CAAC,GAAG,GAAGX,GAAG,GAAG,MAAM,GAAGA,GAAG,GAAG,OAAO,CAAC;MACpD0C,QAAQ,EAAE/B,MAAM,CAAC,GAAG,GAAGX,GAAG,GAAG,OAAO,CAAC;MACtC;MACA2C,SAAS,EAAEhC,MAAM,CAAC,UAAU,CAAC;MAC7BiC,SAAS,EAAEjC,MAAM,CAAC,qBAAqB;IACxC,CAAC;IAED;IACAkC,GAAG,GAAGlC,MAAM,CAAC,qDAAqD,CAAC;IAEnE;IACAmC,SAAS,GAAG,sBAAsB;IAClCC,SAAS,GAAG,0BAA0B;IAEtC;IACAC,SAAS,GAAGrC,MAAM,CAAC,wBAAwB,EAAE,GAAG,CAAC;IACjDsC,SAAS,GAAGtC,MAAM,CAAC,0BAA0B,EAAE,GAAG,CAAC;IAEnD;IACAuC,WAAW;IACXC,WAAW;IAEX;IACAC,MAAM,GAAG;MACPC,SAAS,EAAE,IAAI;MACfC,SAAS,EAAE,IAAI;MACfC,SAAS,EAAE,IAAI;MACfC,SAAS,EAAE;IACb,CAAC;IAEDC,SAAS;IACTC,WAAW;IACXC,aAAa;IAEbC,YAAY,GAAG;MACb,GAAG,EAAE,CAAC;MAAE,IAAI,EAAE,CAAC;MAAE,IAAI,EAAE,CAAC;MAAE,IAAI,EAAE,CAAC;MAAE,IAAI,EAAE,CAAC;MAAE,IAAI,EAAE;IACpD,CAAC;IAEDC,UAAU,GAAG;MACX,QAAQ,EAAE,CAAC;MAAE,gBAAgB,EAAE,CAAC;MAAE,OAAO,EAAE,CAAC;MAAE,OAAO,EAAE,CAAC;MAAE,MAAM,EAAE,CAAC;MACnE,SAAS,EAAE,CAAC;MAAE,SAAS,EAAE,CAAC;MAAE,SAAS,EAAE,CAAC;MAAE,OAAO,EAAE,CAAC;MAAE,UAAU,EAAE,CAAC;MAAE,OAAO,EAAE,CAAC;MAC/E,SAAS,EAAE,CAAC;MAAE,SAAS,EAAE,CAAC;MAAE,OAAO,EAAE,CAAC;MAAE,KAAK,EAAE,CAAC;MAAE,WAAW,EAAE,CAAC;MAAE,UAAU,EAAE,CAAC;MAC/E,SAAS,EAAE,CAAC;MAAE,MAAM,EAAE,CAAC;MAAE,OAAO,EAAE,CAAC;MAAE,UAAU,EAAE,CAAC;MAAE,YAAY,EAAE,CAAC;MAAE,MAAM,EAAE,CAAC;MAC9E,UAAU,EAAE,CAAC;MAAE,MAAM,EAAE,CAAC;MAAE,OAAO,EAAE,CAAC;MAAE,QAAQ,EAAE,CAAC;MAAE,UAAU,EAAE,CAAC;MAAE,QAAQ,EAAE,CAAC;MAC7E,UAAU,EAAE,CAAC;MAAE,SAAS,EAAE,CAAC;MAAE,QAAQ,EAAE,CAAC;MAAE,UAAU,EAAE,CAAC;MAAE,KAAK,EAAE,CAAC;MAAE,KAAK,EAAE,CAAC;MAC3E,OAAO,EAAE,CAAC;MAAE,OAAO,EAAE,CAAC;MAAE,WAAW,EAAE,CAAC;MAAE,UAAU,EAAE,CAAC;MAAE,OAAO,EAAE,CAAC;MAAE,QAAQ,EAAE,CAAC;MAC9E,MAAM,EAAE,CAAC;MAAE,MAAM,EAAE,CAAC;MAAE,QAAQ,EAAE,CAAC;MAAE,WAAW,EAAE,CAAC;MAAE,OAAO,EAAE;IAC9D,CAAC;IAEDC,WAAW,GAAG,CAAE,CAAC;IAEjBC,SAAS,GAAG,CAAE,CAAC;IAEfC,SAAS,GAAG;MACT,GAAG,EAAE;QAAEC,EAAE,EAAE,GAAG;QACPC,EAAE,EAAE,GAAG;QACPC,EAAE,EAAE;MAAO,CAAC;MACpB,IAAI,EAAE;QAAEF,EAAE,EAAE,GAAG;QACPC,EAAE,EAAE,EAAE;QACNC,EAAE,EAAE;MAAO,CAAC;MACpB,IAAI,EAAE;QAAEF,EAAE,EAAE,EAAE;QACNC,EAAE,EAAE,GAAG;QACPC,EAAE,EAAE;MAAO,CAAC;MACpB,IAAI,EAAE;QAAEF,EAAE,EAAE,EAAE;QACNC,EAAE,EAAE,EAAE;QACNC,EAAE,EAAE;MAAO,CAAC;MACpB,IAAI,EAAE;QAAEF,EAAE,EAAE,GAAG;QACPC,EAAE,EAAE,OAAO;QACXC,EAAE,EAAE;MAAO,CAAC;MACpB,IAAI,EAAE;QAAEF,EAAE,EAAE,SAAS;QACbC,EAAE,EAAE,SAAS;QACbC,EAAE,EAAE;MAAO;IACrB,CAAC;IAEDC,UAAU,GACR,SAAAA,CAASC,KAAK,EAAEC,QAAQ,EAAE;MACxB,IAAIC,CAAC,GAAG,CAAC;QAAEC,CAAC,GAAGH,KAAK,CAACI,MAAM;QAAEC,IAAI,GAAG5E,KAAK,CAAC0E,CAAC,CAAC;MAC5C,OAAOA,CAAC,GAAGD,CAAC,EAAE;QACZ,IAAI,KAAK,KAAKD,QAAQ,CAACI,IAAI,CAACH,CAAC,CAAC,GAAGF,KAAK,CAACE,CAAC,CAAC,CAAC,EAAE;QAC5C,EAAEA,CAAC;MACL;MACA,OAAOG,IAAI;IACb,CAAC;IAEHC,UAAU,GACR,SAAAA,CAASD,IAAI,EAAEL,KAAK,EAAE;MACpB,IAAIE,CAAC,GAAG,CAAC,CAAC;QAAEC,CAAC,GAAGH,KAAK,CAACI,MAAM;MAC5B,OAAOD,CAAC,EAAE,EAAE;QAAEE,IAAI,CAACA,IAAI,CAACD,MAAM,CAAC,GAAGJ,KAAK,CAAC,EAAEE,CAAC,CAAC;MAAE;MAC9C,OAAOG,IAAI;IACb,CAAC;IAEHE,aAAa,GACX,SAAAA,CAASC,CAAC,EAAEC,CAAC,EAAE;MACb,IAAI,CAACC,QAAQ,IAAIF,CAAC,KAAKC,CAAC,EAAE;QACxBC,QAAQ,GAAG,IAAI;QACf,OAAO,CAAC;MACV;MACA,OAAOF,CAAC,CAACG,uBAAuB,CAACF,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;IAClD,CAAC;IAEHC,QAAQ,GAAG,KAAK;IAEhBE,MAAM,GACJ,SAAAA,CAASZ,KAAK,EAAE;MACd,IAAIE,CAAC,GAAG,CAAC;QAAEW,CAAC,GAAG,CAAC,CAAC;QAAEV,CAAC,GAAGH,KAAK,CAACI,MAAM,GAAG,CAAC;QAAEC,IAAI,GAAG,EAAG;MACnD,OAAO,EAAEF,CAAC,EAAE;QACV,IAAIH,KAAK,CAACE,CAAC,EAAE,CAAC,KAAKF,KAAK,CAACE,CAAC,CAAC,EAAE;QAC7BG,IAAI,CAAC,EAAEQ,CAAC,CAAC,GAAGb,KAAK,CAACE,CAAC,GAAG,CAAC,CAAC;MAC1B;MACAQ,QAAQ,GAAG,KAAK;MAChB,OAAOL,IAAI;IACb,CAAC;IAEH;IACAS,oBAAoB,GAClB,SAAAA,CAASC,OAAO,EAAE;MAChB,IAAIC,EAAE;QAAEC,GAAG,GAAG,wBAAwB;;MAEtC;MACAF,OAAO,GAAGA,OAAO,CAACG,aAAa,IAAIH,OAAO;;MAE1C;MACAC,EAAE,GAAGD,OAAO,CAACxF,eAAe,CAAC4F,YAAY,IAAI,8BAA8B;;MAE3E;MACA,OAAQJ,OAAO,CAACE,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,CAACb,MAAM,GAAGW,OAAO,CAACE,GAAG,CAAC,CAACD,EAAE,EAAE,GAAG,CAAC,CAACZ,MAAM,GAAI,CAAC;IAC3E,CAAC;IAEHgB,aAAa,GACX,SAAAA,CAASL,OAAO,EAAEM,KAAK,EAAE;MACvB,IAAIC,MAAM,GAAGlG,GAAG;MAChBA,GAAG,GAAG2F,OAAO,CAACG,aAAa,IAAIH,OAAO;MACtC,IAAIM,KAAK,IAAIC,MAAM,KAAKlG,GAAG,EAAE;QAC3B;QACA;QACAE,IAAI,GAAGF,GAAG,CAACG,eAAe;QAC1B+D,aAAa,GAAGiC,MAAM,CAACnG,GAAG,CAAC;QAC3BiE,WAAW,GAAGC,aAAa,IACzBlE,GAAG,CAACoG,UAAU,CAACC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC;QACnCrC,SAAS,GAAG9D,IAAI,IAAIA,IAAI,CAAC6F,YAAY;QACrCO,QAAQ,CAACtG,GAAG,GAAGA,GAAG;QAClBsG,QAAQ,CAACpG,IAAI,GAAGA,IAAI;MACtB;MACA,OAAQoG,QAAQ,CAACC,IAAI,GAAGZ,OAAO;IACjC,CAAC;IAEH;IACAa,gBAAgB,GACd,SAAAA,CAASC,SAAS,EAAE;MAClB;MACA,IAAIA,SAAS,GAAG,CAAC,IAAIA,SAAS,GAAG,QAAQ,IACtCA,SAAS,GAAG,MAAM,IAAIA,SAAS,GAAG,MAAO,EAAE;QAC5C,OAAO,SAAS;MAClB;MACA;MACA,IAAIA,SAAS,GAAG,OAAO,EAAE;QACvB,IAAIC,MAAM,GAAG,KAAK,GAAGD,SAAS,CAACE,QAAQ,CAAC,EAAE,CAAC;QAC3C,OAAO,KAAK,GAAGD,MAAM,CAACE,MAAM,CAACF,MAAM,CAAC1B,MAAM,GAAG,CAAC,CAAC;MACjD;MACA;MACA,OAAO,KAAK,GAAG,CAAC,CAAEyB,SAAS,GAAG,OAAO,IAAK,IAAI,IAAI,MAAM,EAAEE,QAAQ,CAAC,EAAE,CAAC,GAC/D,KAAK,GAAG,CAAE,CAACF,SAAS,GAAG,OAAO,IAAI,KAAK,GAAI,MAAM,EAAEE,QAAQ,CAAC,EAAE,CAAC;IACxE,CAAC;IAEH;IACAE,mBAAmB,GACjB,SAAAA,CAASJ,SAAS,EAAE;MAClB;MACA,IAAIA,SAAS,GAAG,CAAC,IAAIA,SAAS,GAAG,QAAQ,IACtCA,SAAS,GAAG,MAAM,IAAIA,SAAS,GAAG,MAAO,EAAE;QAC5C,OAAO,QAAQ;MACjB;MACA,IAAIA,SAAS,GAAG,OAAO,EAAE;QACvB,OAAOK,MAAM,CAACC,YAAY,CAACN,SAAS,CAAC;MACvC;MACA,OAAOK,MAAM,CAACE,aAAa,GACzBF,MAAM,CAACE,aAAa,CAACP,SAAS,CAAC,GAC/BK,MAAM,CAACC,YAAY,CACjB,CAAEN,SAAS,GAAG,OAAO,IAAK,IAAI,IAAI,MAAM,EACvC,CAACA,SAAS,GAAG,OAAO,IAAI,KAAK,GAAI,MAAM,CAAC;IAC/C,CAAC;IAEH;IACA;IACAQ,cAAc,GACZ,SAAAA,CAASC,GAAG,EAAE;MACZ,OAAOlG,GAAG,CAACC,UAAU,CAACkG,IAAI,CAACD,GAAG,CAAC,GAC7BA,GAAG,CAACE,OAAO,CAACpG,GAAG,CAACS,UAAU,EACxB,UAAS4F,SAAS,EAAE7C,EAAE,EAAEC,EAAE,EAAE;QAC1B;QACA,OAAOA,EAAE,GAAG,IAAI,GAAGA,EAAE;QACnB;QACAzD,GAAG,CAACG,UAAU,CAACgG,IAAI,CAAC3C,EAAE,CAAC,GAAGgC,gBAAgB,CAACc,QAAQ,CAAC9C,EAAE,EAAE,EAAE,CAAC,CAAC;QAC5D;QACAxD,GAAG,CAACI,UAAU,CAAC+F,IAAI,CAAC3C,EAAE,CAAC,GAAG6C,SAAS;QACnC;QACA7C,EAAE;MACN,CAAC,CACF,GAAG0C,GAAG;IACX,CAAC;IAEH;IACA;IACAK,kBAAkB,GAChB,SAAAA,CAASL,GAAG,EAAE;MACZ,OAAOlG,GAAG,CAACC,UAAU,CAACkG,IAAI,CAACD,GAAG,CAAC,GAC7BA,GAAG,CAACE,OAAO,CAACpG,GAAG,CAACS,UAAU,EACxB,UAAS4F,SAAS,EAAE7C,EAAE,EAAEC,EAAE,EAAE;QAC1B;QACA,OAAOA,EAAE,GAAGA,EAAE;QACZ;QACAzD,GAAG,CAACG,UAAU,CAACgG,IAAI,CAAC3C,EAAE,CAAC,GAAGqC,mBAAmB,CAACS,QAAQ,CAAC9C,EAAE,EAAE,EAAE,CAAC,CAAC;QAC/D;QACAxD,GAAG,CAACI,UAAU,CAAC+F,IAAI,CAAC3C,EAAE,CAAC,GAAG6C,SAAS;QACnC;QACA7C,EAAE;MACN,CAAC,CACF,GAAG0C,GAAG;IACX,CAAC;IAEHM,MAAM,GAAG;MACP,GAAG,EAAE,gBAAgB;MACrB,GAAG,EAAE,sBAAsB;MAC3B,GAAG,EAAE,wBAAwB;MAC7B,GAAG,EAAE;IACL,CAAC;IAEHC,MAAM,GAAG;MACP,GAAG,EAAE,SAAAC,CAASC,CAAC,EAAEC,CAAC,EAAE;QAAE5G,GAAG,CAACC,UAAU,CAACkG,IAAI,CAACS,CAAC,CAAC,KAAKA,CAAC,GAAGL,kBAAkB,CAACK,CAAC,CAAC,CAAC;QAAE,OAAO,UAASC,CAAC,EAAEC,CAAC,EAAE;UAAE,OAAOC,IAAI,CAACH,CAAC,EAAED,CAAC,CAAC;QAAE,CAAC;MAAE,CAAC;MAC5H,GAAG,EAAE,SAAAK,CAASL,CAAC,EAAEC,CAAC,EAAE;QAAE5G,GAAG,CAACC,UAAU,CAACkG,IAAI,CAACS,CAAC,CAAC,KAAKA,CAAC,GAAGL,kBAAkB,CAACK,CAAC,CAAC,CAAC;QAAE,OAAO,UAASC,CAAC,EAAEC,CAAC,EAAE;UAAE,OAAOG,KAAK,CAACL,CAAC,EAAED,CAAC,CAAC;QAAE,CAAC;MAAE,CAAC;MAC7H,GAAG,EAAE,SAAAO,CAASP,CAAC,EAAEC,CAAC,EAAE;QAAE5G,GAAG,CAACC,UAAU,CAACkG,IAAI,CAACS,CAAC,CAAC,KAAKA,CAAC,GAAGL,kBAAkB,CAACK,CAAC,CAAC,CAAC;QAAE,OAAO,UAASC,CAAC,EAAEC,CAAC,EAAE;UAAE,OAAOG,KAAK,CAACL,CAAC,EAAED,CAAC,CAAC;QAAE,CAAC;MAAE,CAAC;MAC7H,GAAG,EAAE,SAAAQ,CAASR,CAAC,EAAEC,CAAC,EAAE;QAAE5G,GAAG,CAACC,UAAU,CAACkG,IAAI,CAACS,CAAC,CAAC,KAAKA,CAAC,GAAGL,kBAAkB,CAACK,CAAC,CAAC,CAAC;QAAE,OAAO,UAASC,CAAC,EAAEC,CAAC,EAAE;UAAE,OAAOM,OAAO,CAACR,CAAC,EAAED,CAAC,CAAC;QAAE,CAAC;MAAE;IAC9H,CAAC;IAEH;IACAU,OAAO,GACL,SAAAA,CAASC,EAAE,EAAE3C,OAAO,EAAE;MACpB,IAAI4C,IAAI,GAAG5C,OAAO;QAAEf,KAAK,GAAG,EAAG;QAAE4D,IAAI,GAAGD,IAAI,CAACE,iBAAiB;MAC9D,OAAQF,IAAI,GAAGC,IAAI,EAAG;QACpBD,IAAI,CAACD,EAAE,IAAIA,EAAE,KAAK1D,KAAK,CAACA,KAAK,CAACI,MAAM,CAAC,GAAGuD,IAAI,CAAC;QAC7C,IAAKC,IAAI,GAAGD,IAAI,CAACE,iBAAiB,IAAIF,IAAI,CAACG,kBAAkB,EAAG;QAChE,OAAO,CAACF,IAAI,KAAKD,IAAI,GAAGA,IAAI,CAACI,aAAa,CAAC,IAAIJ,IAAI,KAAK5C,OAAO,EAAE;UAC/D6C,IAAI,GAAGD,IAAI,CAACG,kBAAkB;QAChC;MACF;MACA,OAAO9D,KAAK;IACd,CAAC;IAEH;IACAmD,IAAI,GACF,SAAAA,CAASO,EAAE,EAAE3C,OAAO,EAAE;MACpB,IAAIkC,CAAC;QAAEjD,KAAK;QAAEiB,GAAG,GAAG2B,MAAM,CAAC,GAAG,CAAC;;MAE/B;MACA,IAAI7D,MAAM,CAACC,SAAS,KAAK,KAAK,EAAE;QAC9B,IAAIiC,GAAG,IAAIF,OAAO,EAAE;UAClB,OAAO,CAACkC,CAAC,GAAGlC,OAAO,CAACE,GAAG,CAAC,CAACyC,EAAE,CAAC,IAAI,CAAET,CAAC,CAAE,GAAGe,IAAI;QAC9C;MACF,CAAC,MAAM;QACL,IAAI,KAAK,IAAIjD,OAAO,EAAE;UACpB,IAAKkC,CAAC,GAAGlC,OAAO,CAACkD,GAAG,CAACP,EAAE,CAAC,EAAG;YACzB,IAAIT,CAAC,CAACiB,QAAQ,IAAI,CAAC,EAAE,OAAOjB,CAAC,CAACkB,YAAY,CAAC,IAAI,CAAC,IAAIT,EAAE,GAAG,EAAG,GAAG,CAAET,CAAC,CAAE,CAAC,KAChE,IAAIS,EAAE,IAAI,QAAQ,EAAE,OAAO,CAACT,CAAC,GAAGlC,OAAO,CAACE,GAAG,CAAC,CAACyC,EAAE,CAAC,IAAI,CAAET,CAAC,CAAE,GAAGe,IAAI;YACrE,KAAK9D,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAG8C,CAAC,CAAC7C,MAAM,EAAEJ,KAAK,GAAG,EAAG,EAAEG,CAAC,GAAGD,CAAC,EAAE,EAAEA,CAAC,EAAE;cACjD,IAAI+C,CAAC,CAAC/C,CAAC,CAAC,CAACwD,EAAE,IAAIA,EAAE,EAAE1D,KAAK,CAACA,KAAK,CAACI,MAAM,CAAC,GAAG6C,CAAC,CAAC/C,CAAC,CAAC;YAC/C;YACA,OAAOF,KAAK,IAAIA,KAAK,CAACI,MAAM,GAAGJ,KAAK,GAAG,CAAEA,KAAK,CAAE;UAClD,CAAC,MAAM,OAAOgE,IAAI;QACpB;MACF;MAEA,OAAOP,OAAO,CAACC,EAAE,EAAE3C,OAAO,CAAC;IAC7B,CAAC;IAEH;IACAsC,KAAK,GACH,SAAAA,CAASe,GAAG,EAAErD,OAAO,EAAE;MACrB,IAAIkC,CAAC;QAAEjD,KAAK;QAAEiB,GAAG,GAAG2B,MAAM,CAAC,GAAG,CAAC;MAC/B;MACA,IAAI3B,GAAG,IAAIF,OAAO,EAAE;QAClB,OAAOvF,KAAK,CAAC6I,IAAI,CAACtD,OAAO,CAACE,GAAG,CAAC,CAACmD,GAAG,CAAC,CAAC;MACtC,CAAC,MAAM;QACLA,GAAG,GAAGA,GAAG,CAACE,WAAW,EAAE;QACvB;QACA,IAAKrB,CAAC,GAAGlC,OAAO,CAAC8C,iBAAiB,EAAG;UACnC,IAAI,EAAEZ,CAAC,CAACa,kBAAkB,IAAIM,GAAG,IAAI,GAAG,IAAInB,CAAC,CAACsB,SAAS,IAAIH,GAAG,CAAC,EAAE;YAC/D,OAAO5I,KAAK,CAAC6I,IAAI,CAACpB,CAAC,CAAChC,GAAG,CAAC,CAACmD,GAAG,CAAC,CAAC;UAChC,CAAC,MAAM;YACLpE,KAAK,GAAG,EAAG;YACX,GAAG;cACD,IAAIoE,GAAG,IAAI,GAAG,IAAInB,CAAC,CAACsB,SAAS,IAAIH,GAAG,EAAEpE,KAAK,CAACA,KAAK,CAACI,MAAM,CAAC,GAAG6C,CAAC;cAC7D3C,UAAU,CAACN,KAAK,EAAEiD,CAAC,CAAChC,GAAG,CAAC,CAACmD,GAAG,CAAC,CAAC;YAChC,CAAC,QAASnB,CAAC,GAAGA,CAAC,CAACa,kBAAkB;UACpC;QACF,CAAC,MAAM9D,KAAK,GAAGgE,IAAI;MACrB;MACA,OAAOhE,KAAK;IACd,CAAC;IAEH;IACAwD,OAAO,GACL,SAAAA,CAASgB,GAAG,EAAEzD,OAAO,EAAE;MACrB,IAAIkC,CAAC;QAAEjD,KAAK;QAAEiB,GAAG,GAAG2B,MAAM,CAAC,GAAG,CAAC;QAAE6B,KAAK;MACtC;MACA,IAAIxD,GAAG,IAAIF,OAAO,EAAE;QAClB,OAAOvF,KAAK,CAAC6I,IAAI,CAACtD,OAAO,CAACE,GAAG,CAAC,CAACuD,GAAG,CAAC,CAAC;MACtC,CAAC,MAAM;QACL;QACA,IAAKvB,CAAC,GAAGlC,OAAO,CAAC8C,iBAAiB,EAAG;UACnCY,KAAK,GAAGnI,MAAM,CAAC,SAAS,GAAGkI,GAAG,GAAG,SAAS,EAAEnF,WAAW,GAAG,GAAG,GAAG,EAAE,CAAC;UACnE,IAAI,EAAE4D,CAAC,CAACa,kBAAkB,IAAIW,KAAK,CAAClC,IAAI,CAACU,CAAC,CAACyB,SAAS,CAAC,CAAC,EAAE;YACtD,OAAOlJ,KAAK,CAAC6I,IAAI,CAACpB,CAAC,CAAChC,GAAG,CAAC,CAACuD,GAAG,CAAC,CAAC;UAChC,CAAC,MAAM;YACLxE,KAAK,GAAG,EAAG;YACX,GAAG;cACD,IAAIyE,KAAK,CAAClC,IAAI,CAACU,CAAC,CAACyB,SAAS,CAAC,EAAE1E,KAAK,CAACA,KAAK,CAACI,MAAM,CAAC,GAAG6C,CAAC;cACpD3C,UAAU,CAACN,KAAK,EAAEiD,CAAC,CAAChC,GAAG,CAAC,CAACuD,GAAG,CAAC,CAAC;YAChC,CAAC,QAASvB,CAAC,GAAGA,CAAC,CAACa,kBAAkB;UACpC;QACF,CAAC,MAAM9D,KAAK,GAAGgE,IAAI;MACrB;MACA,OAAOhE,KAAK;IACd,CAAC;IAEH;IACA;IACA2E,cAAc,GACZ,SAAAA,CAAS1B,CAAC,EAAE2B,IAAI,EAAE;MAChB,IAAI1E,CAAC;QAAEC,CAAC;QAAE0E,IAAI,GAAG5B,CAAC,CAAC6B,iBAAiB,EAAE;MACtCF,IAAI,GAAGtI,MAAM,CAAC,IAAI,GAAGsI,IAAI,GAAG,GAAG,EAAEtF,aAAa,GAAG,GAAG,GAAG,EAAE,CAAC;MAC1D,KAAKY,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAG0E,IAAI,CAACzE,MAAM,EAAED,CAAC,GAAGD,CAAC,EAAE,EAAEA,CAAC,EAAE;QACvC,IAAI0E,IAAI,CAACrC,IAAI,CAACsC,IAAI,CAAC3E,CAAC,CAAC,CAAC,EAAE,OAAO,IAAI;MACrC;MACA,OAAO,KAAK;IACd,CAAC;IAEH;IACA6E,UAAU,GAAI,YAAW;MACvB,IAAIC,GAAG,GAAG,CAAC;QAAEC,GAAG,GAAG,CAAC;QAAEC,GAAG,GAAG,CAAC;QAAEC,MAAM,GAAGC,SAAS;QAAEC,OAAO,GAAG5J,KAAK,EAAE;QAAEuE,KAAK,GAAGvE,KAAK,EAAE;MACrF,OAAO,UAAS6J,OAAO,EAAEC,GAAG,EAAE;QAC5B;QACA,IAAIA,GAAG,IAAI,CAAC,EAAE;UACZP,GAAG,GAAG,CAAC;UAAEC,GAAG,GAAG,CAAC;UAAEC,GAAG,GAAG,CAAC;UAAElF,KAAK,CAACI,MAAM,GAAG,CAAC;UAC3CiF,OAAO,CAACjF,MAAM,GAAG,CAAC;UAAE+E,MAAM,GAAGC,SAAS;UACtC,OAAO,CAAC,CAAC;QACX;QACA,IAAInC,CAAC,EAAE/C,CAAC,EAAEW,CAAC,EAAE2E,CAAC,EAAErF,CAAC;QACjB,IAAIgF,MAAM,KAAKG,OAAO,CAACvB,aAAa,EAAE;UACpC7D,CAAC,GAAGgF,GAAG;UAAErE,CAAC,GAAGmE,GAAG;UAAE7E,CAAC,GAAG8E,GAAG;QAC3B,CAAC,MAAM;UACL9E,CAAC,GAAGkF,OAAO,CAACjF,MAAM;UAClB+E,MAAM,GAAGG,OAAO,CAACvB,aAAa;UAC9B,KAAK7D,CAAC,GAAG,CAAC,CAAC,EAAEW,CAAC,GAAG,CAAC,EAAE2E,CAAC,GAAGrF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGU,CAAC,EAAE,EAAEA,CAAC,EAAE,EAAE2E,CAAC,EAAE;YAC9C,IAAIH,OAAO,CAACxE,CAAC,CAAC,KAAKsE,MAAM,EAAE;cAAEjF,CAAC,GAAGW,CAAC;cAAE;YAAO;YAC3C,IAAIwE,OAAO,CAACG,CAAC,CAAC,KAAKL,MAAM,EAAE;cAAEjF,CAAC,GAAGsF,CAAC;cAAE;YAAO;UAC7C;UACA,IAAItF,CAAC,GAAG,CAAC,EAAE;YACTmF,OAAO,CAACnF,CAAC,GAAGC,CAAC,CAAC,GAAGgF,MAAM;YACvBhF,CAAC,GAAG,CAAC;YAAEH,KAAK,CAACE,CAAC,CAAC,GAAGzE,KAAK,EAAE;YACzBwH,CAAC,GAAGkC,MAAM,IAAIA,MAAM,CAACtB,iBAAiB,IAAIyB,OAAO;YACjD,OAAOrC,CAAC,EAAE;cAAEjD,KAAK,CAACE,CAAC,CAAC,CAACC,CAAC,CAAC,GAAG8C,CAAC;cAAE,IAAIA,CAAC,KAAKqC,OAAO,EAAEzE,CAAC,GAAGV,CAAC;cAAE8C,CAAC,GAAGA,CAAC,CAACa,kBAAkB;cAAE,EAAE3D,CAAC;YAAE;YACtF+E,GAAG,GAAGhF,CAAC;YAAE8E,GAAG,GAAG,CAAC;YAAEC,GAAG,GAAG9E,CAAC;YACzB,IAAIA,CAAC,GAAG,CAAC,EAAE,OAAOA,CAAC;UACrB,CAAC,MAAM;YACLA,CAAC,GAAGH,KAAK,CAACE,CAAC,CAAC,CAACE,MAAM;YACnB8E,GAAG,GAAGhF,CAAC;UACT;QACF;QACA,IAAIoF,OAAO,KAAKtF,KAAK,CAACE,CAAC,CAAC,CAACW,CAAC,CAAC,IAAIyE,OAAO,KAAKtF,KAAK,CAACE,CAAC,CAAC,CAACW,CAAC,GAAG,CAAC,CAAC,EAAE;UAC1D,KAAKA,CAAC,GAAG,CAAC,EAAEoC,CAAC,GAAGjD,KAAK,CAACE,CAAC,CAAC,EAAEsF,CAAC,GAAGrF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGU,CAAC,EAAE,EAAEA,CAAC,EAAE,EAAE2E,CAAC,EAAE;YACpD,IAAIvC,CAAC,CAACpC,CAAC,CAAC,KAAKyE,OAAO,EAAE;cAAE;YAAO;YAC/B,IAAIrC,CAAC,CAACuC,CAAC,CAAC,KAAKF,OAAO,EAAE;cAAEzE,CAAC,GAAG2E,CAAC;cAAE;YAAO;UACxC;QACF;QACAR,GAAG,GAAGnE,CAAC,GAAG,CAAC;QAAEoE,GAAG,GAAG9E,CAAC;QACpB,OAAOoF,GAAG,GAAGpF,CAAC,GAAGU,CAAC,GAAGmE,GAAG;MAC1B,CAAC;IACH,CAAC,EAAG;IAEJ;IACAS,SAAS,GAAI,YAAW;MACtB,IAAIT,GAAG,GAAG,CAAC;QAAEC,GAAG,GAAG,CAAC;QAAEC,GAAG,GAAG,CAAC;QAAEC,MAAM,GAAGC,SAAS;QAAEC,OAAO,GAAG5J,KAAK,EAAE;QAAEuE,KAAK,GAAGvE,KAAK,EAAE;MACrF,OAAO,UAAS6J,OAAO,EAAEC,GAAG,EAAE;QAC5B;QACA,IAAIA,GAAG,IAAI,CAAC,EAAE;UACZP,GAAG,GAAG,CAAC;UAAEC,GAAG,GAAG,CAAC;UAAEC,GAAG,GAAG,CAAC;UAAElF,KAAK,CAACI,MAAM,GAAG,CAAC;UAC3CiF,OAAO,CAACjF,MAAM,GAAG,CAAC;UAAE+E,MAAM,GAAGC,SAAS;UACtC,OAAO,CAAC,CAAC;QACX;QACA,IAAInC,CAAC;UAAE/C,CAAC;UAAEW,CAAC;UAAE2E,CAAC;UAAErF,CAAC;UAAEyE,IAAI,GAAGU,OAAO,CAACf,SAAS;QAC3C,IAAIvE,KAAK,CAACkF,GAAG,CAAC,IAAIlF,KAAK,CAACkF,GAAG,CAAC,CAACN,IAAI,CAAC,IAAIO,MAAM,KAAKG,OAAO,CAACvB,aAAa,EAAE;UACtE7D,CAAC,GAAGgF,GAAG;UAAErE,CAAC,GAAGmE,GAAG;UAAE7E,CAAC,GAAG8E,GAAG;QAC3B,CAAC,MAAM;UACL9E,CAAC,GAAGkF,OAAO,CAACjF,MAAM;UAClB+E,MAAM,GAAGG,OAAO,CAACvB,aAAa;UAC9B,KAAK7D,CAAC,GAAG,CAAC,CAAC,EAAEW,CAAC,GAAG,CAAC,EAAE2E,CAAC,GAAGrF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGU,CAAC,EAAE,EAAEA,CAAC,EAAE,EAAE2E,CAAC,EAAE;YAC9C,IAAIH,OAAO,CAACxE,CAAC,CAAC,KAAKsE,MAAM,EAAE;cAAEjF,CAAC,GAAGW,CAAC;cAAE;YAAO;YAC3C,IAAIwE,OAAO,CAACG,CAAC,CAAC,KAAKL,MAAM,EAAE;cAAEjF,CAAC,GAAGsF,CAAC;cAAE;YAAO;UAC7C;UACA,IAAItF,CAAC,GAAG,CAAC,IAAI,CAACF,KAAK,CAACE,CAAC,CAAC,CAAC0E,IAAI,CAAC,EAAE;YAC5BS,OAAO,CAACnF,CAAC,GAAGC,CAAC,CAAC,GAAGgF,MAAM;YACvBnF,KAAK,CAACE,CAAC,CAAC,KAAKF,KAAK,CAACE,CAAC,CAAC,GAAGwF,MAAM,EAAE,CAAC;YACjCvF,CAAC,GAAG,CAAC;YAAEH,KAAK,CAACE,CAAC,CAAC,CAAC0E,IAAI,CAAC,GAAGnJ,KAAK,EAAE;YAC/BwH,CAAC,GAAGkC,MAAM,IAAIA,MAAM,CAACtB,iBAAiB,IAAIyB,OAAO;YACjD,OAAOrC,CAAC,EAAE;cAAE,IAAIA,CAAC,KAAKqC,OAAO,EAAEzE,CAAC,GAAGV,CAAC;cAAE,IAAI8C,CAAC,CAACsB,SAAS,IAAIK,IAAI,EAAE;gBAAE5E,KAAK,CAACE,CAAC,CAAC,CAAC0E,IAAI,CAAC,CAACzE,CAAC,CAAC,GAAG8C,CAAC;gBAAE,EAAE9C,CAAC;cAAE;cAAE8C,CAAC,GAAGA,CAAC,CAACa,kBAAkB;YAAE;YACzHoB,GAAG,GAAGhF,CAAC;YAAE8E,GAAG,GAAGnE,CAAC;YAAEoE,GAAG,GAAG9E,CAAC;YACzB,IAAIA,CAAC,GAAG,CAAC,EAAE,OAAOA,CAAC;UACrB,CAAC,MAAM;YACLA,CAAC,GAAGH,KAAK,CAACE,CAAC,CAAC,CAAC0E,IAAI,CAAC,CAACxE,MAAM;YACzB8E,GAAG,GAAGhF,CAAC;UACT;QACF;QACA,IAAIoF,OAAO,KAAKtF,KAAK,CAACE,CAAC,CAAC,CAAC0E,IAAI,CAAC,CAAC/D,CAAC,CAAC,IAAIyE,OAAO,KAAKtF,KAAK,CAACE,CAAC,CAAC,CAAC0E,IAAI,CAAC,CAAC/D,CAAC,GAAG,CAAC,CAAC,EAAE;UACtE,KAAKA,CAAC,GAAG,CAAC,EAAEoC,CAAC,GAAGjD,KAAK,CAACE,CAAC,CAAC,CAAC0E,IAAI,CAAC,EAAEY,CAAC,GAAGrF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGU,CAAC,EAAE,EAAEA,CAAC,EAAE,EAAE2E,CAAC,EAAE;YAC1D,IAAIvC,CAAC,CAACpC,CAAC,CAAC,KAAKyE,OAAO,EAAE;cAAE;YAAO;YAC/B,IAAIrC,CAAC,CAACuC,CAAC,CAAC,KAAKF,OAAO,EAAE;cAAEzE,CAAC,GAAG2E,CAAC;cAAE;YAAO;UACxC;QACF;QACAR,GAAG,GAAGnE,CAAC,GAAG,CAAC;QAAEoE,GAAG,GAAG9E,CAAC;QACpB,OAAOoF,GAAG,GAAGpF,CAAC,GAAGU,CAAC,GAAGmE,GAAG;MAC1B,CAAC;IACH,CAAC,EAAG;IAEJ;IACAzD,MAAM,GACJ,SAAAA,CAASoC,IAAI,EAAE;MACb,IAAIvI,GAAG,GAAGuI,IAAI,CAACzC,aAAa,IAAIyC,IAAI;MACpC,OAAOvI,GAAG,CAAC8I,QAAQ,IAAI,CAAC;MACtB;MACA,aAAa,IAAI9I,GAAG,GAClBA,GAAG,CAACuK,WAAW,CAAClE,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,GACpCrG,GAAG,CAACwK,aAAa,CAAC,KAAK,CAAC,CAACrB,SAAS,IAAI,KAAK;IACjD,CAAC;IAEH;IACAsB,SAAS,GACP,SAAAA,CAASC,MAAM,EAAEC,KAAK,EAAE;MACtB,IAAI,OAAOD,MAAM,IAAI,QAAQ,EAAE;QAAE,OAAO,CAAC,CAAC/G,MAAM,CAAC+G,MAAM,CAAC;MAAE;MAC1D,IAAI,OAAOA,MAAM,IAAI,QAAQ,EAAE;QAAE,OAAO/G,MAAM;MAAE;MAChD,KAAK,IAAImB,CAAC,IAAI4F,MAAM,EAAE;QACpB/G,MAAM,CAACmB,CAAC,CAAC,GAAG,CAAC,CAAC4F,MAAM,CAAC5F,CAAC,CAAC;MACzB;MACA;MACA,IAAI6F,KAAK,EAAE;QACTC,cAAc,GAAG,CAAE,CAAC;QACpBC,eAAe,GAAG,CAAE,CAAC;MACvB;MACAC,mBAAmB,EAAE;MACrB,OAAO,IAAI;IACb,CAAC;IAEH;IACAC,IAAI,GACF,SAAAA,CAASC,OAAO,EAAEC,KAAK,EAAE;MACvB,IAAIC,GAAG;MACP,IAAIvH,MAAM,CAACI,SAAS,EAAE;QACpB,IAAIkH,KAAK,EAAE;UACTC,GAAG,GAAG,IAAID,KAAK,CAACD,OAAO,CAAC;QAC1B,CAAC,MAAM;UACLE,GAAG,GAAG,IAAI3L,MAAM,CAAC4L,YAAY,CAACH,OAAO,EAAE,aAAa,CAAC;QACvD;QACA,MAAME,GAAG;MACX;MACA,IAAIvH,MAAM,CAACG,SAAS,IAAIsH,OAAO,IAAIA,OAAO,CAACC,GAAG,EAAE;QAC9CD,OAAO,CAACC,GAAG,CAACL,OAAO,CAAC;MACtB;IACF,CAAC;IAEH;IACAM,UAAU,GACR,SAAAA,CAAStL,GAAG,EAAE;MACZ8K,mBAAmB,EAAE;MACrBS,WAAW,GAAGvF,aAAa,CAAChG,GAAG,EAAE,IAAI,CAAC;IACxC,CAAC;IAEH;IACA8K,mBAAmB,GACjB,SAAAA,CAAA,EAAW;MAET;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEA,IAAIU,UAAU;QACZ;QACA,YAAY;QACZ;QACA,SAAS;QACP;QACA,gBAAgB;QAChB;QACA,iBAAiB;QACjB;QACA,4BAA4B;QAC5B;QACA,sCAAsC;QACtC;QACA,QAAQ,GACV,IAAI;QAENC,WAAW,GAAG,SAAS;QACvBC,WAAW,GAAG,qCAAqC;QACnDC,WAAW,GAAG,sCAAsC;QACpDC,WAAW,GAAG,sCAAsC;QAEpDC,UAAU,GAAGL,UAAU,GAAG,GAAG,GAAGG,WAAW,GAAG,GAAG,GAAGC,WAAW;QAE/DE,UAAU,GAAG,iDAAiD;QAE9DC,UAAU,GACR,KAAK;QACH;QACA,aAAa,GACbxL,GAAG,GAAG,GAAG,GACT,GAAG,GAAGiL,UAAU,GAAG,MAAM,GAAGA,UAAU,GAAG,KAAK,GAC9CjL,GAAG,GAAG,GAAG,GACT,KAAK,GACH,GAAG,GAAGC,GAAG,CAACC,SAAS,GAAG,GAAG,GAAGF,GAAG,GAAG,GAAG,GACrC,KAAK,GAAGsL,UAAU,GAAG,GAAG,GAC1B,IAAI;QACJ;QACA,KAAK,GAAGtL,GAAG,GAAG,WAAW,GAAGA,GAAG,GAAG,GAAG,GACvC,WAAW;QAEbyL,WAAW,GAAGD,UAAU,CAAC3E,OAAO,CAACyE,UAAU,EAAEC,UAAU,CAAC;QAExDG,WAAW,GACT,UAAU,GAAG1L,GAAG,GAAG,GAAG,GACpB,KAAK,GAAGmL,WAAW,GAAG,MAAM;QAC5B;QACA;QACA,cAAc,GACd,KAAK,GACH,MAAM,GAAGD,WAAW,GACpB,UAAU,GAAGC,WAAW,GAAG,iBAAiB,GAC9C,IAAI,GACJ,UAAU,GAAGF,UAAU,GAAG,IAAI,GAC9B,KAAK,GAAGO,UAAU,GAAG,GAAG,GACxB,KAAK,GACL,KAAK,GAAGxL,GAAG,GAAG,IAAI,GAAGA,GAAG,GAAG,KAAK,GAChC,KAAK,GAAGA,GAAG,GAAG,KAAK,GACnB,eAAe;QAEnB2L,iBAAiB,GACf,KAAK,GAAG3L,GAAG,GAAG,gBAAgB,GAC9B,KAAK;QACH;QACA;QACA,cAAc,GACd,UAAU,GAAGiL,UAAU,GAAG,KAAK,GAC/B,KAAK,GAAGO,UAAU,GAAG,KAAK,GAC1B,QAAQ,GAAGN,WAAW,GAAGQ,WAAW,GAAG,IAAI,GAC3C,KAAK,GAAG1L,GAAG,GAAG,GAAG,GAAGC,GAAG,CAACE,WAAW,GAAGH,GAAG,GAAG,KAAK,GACjD,KAAK,GAAGA,GAAG,GAAG,IAAI,GAAGA,GAAG,GAAG,KAAK,GAChC,KAAK,GAAGA,GAAG,GAAG,IAAI,GACpB,IAAI;;MAEN;MACA;MACA;MACA;MACAkD,WAAW,GAAGvC,MAAM,CAClB,cAAc,GACd,GAAG,GAAGsK,UAAU,GAAG,GAAG,GACtB,KAAK,GACH,WAAW,GACX,sBAAsB,GACtB,2BAA2B,GAC7B,MAAM,CAAC;;MAET;MACA9H,WAAW,GAAGxC,MAAM,CAACgL,iBAAiB,EAAE,GAAG,CAAC;MAE5CrJ,QAAQ,CAACyF,EAAE,GAAGpH,MAAM,CAAC,KAAK,GAAGsK,UAAU,GAAG,OAAO,CAAC;MAClD3I,QAAQ,CAACsJ,OAAO,GAAGjL,MAAM,CAAC,IAAI,GAAGsK,UAAU,GAAG,OAAO,CAAC;MACtD3I,QAAQ,CAACyG,SAAS,GAAGpI,MAAM,CAAC,OAAO,GAAGsK,UAAU,GAAG,OAAO,CAAC;MAC3D3I,QAAQ,CAACuJ,SAAS,GAAGlL,MAAM,CAAC,MAAM,GAAG8K,WAAW,GAAG,OAAO,CAAC;IAC7D,CAAC;IAEHK,MAAM,GAAG,gDAAgD;IAEzDC,MAAM,GAAG,6BAA6B;IACtCC,MAAM,GAAG,WAAW;IAEpBC,MAAM,GAAG,wBAAwB;IACjCC,MAAM,GAAG,6BAA6B;IACtCC,MAAM,GAAG,MAAM;IAEfC,MAAM,GAAG,cAAc;IACvBC,MAAM,GAAG,mBAAmB;IAC5BC,MAAM,GAAG,EAAE;IAEXC,MAAM,GAAG,gBAAgB;IACzBC,MAAM,GAAG,SAAS;IAElBC,MAAM,GAAG,0BAA0B;IACnCC,MAAM,GAAG,+BAA+B;IACxCC,MAAM,GAAG,OAAO;IAEhBC,MAAM,GAAG,EAAG;IACZC,MAAM,GAAG,EAAG;IAEZ;IACA;IACAC,OAAO,GACL,SAAAA,CAASC,QAAQ,EAAEC,IAAI,EAAE1I,QAAQ,EAAE;MACjC,IAAIrF,OAAO;QAAEgO,KAAK;QAAEC,IAAI,GAAG,EAAE;QAAEC,IAAI,GAAG,EAAE;QAAEC,KAAK,GAAG,EAAE;QAAEC,MAAM,GAAG,EAAE;QAAEC,IAAI,GAAG,EAAE;;MAE5E;MACA;MACA;MACA,QAAQN,IAAI;QACV,KAAK,IAAI;UACP,IAAIO,aAAa,CAACR,QAAQ,CAAC,EAAE;YAAE,OAAOQ,aAAa,CAACR,QAAQ,CAAC;UAAE;UAC/DK,KAAK,GAAGhB,MAAM,IAAI9H,QAAQ,GAAGmI,MAAM,GAAG,EAAE,CAAC,GAAGF,MAAM;UAClDW,IAAI,GAAGnB,MAAM;UACboB,IAAI,GAAGlB,MAAM;UACb;QACF,KAAK,KAAK;UACR,IAAIuB,YAAY,CAACT,QAAQ,CAAC,EAAE;YAAE,OAAOS,YAAY,CAACT,QAAQ,CAAC;UAAE;UAC7DK,KAAK,GAAGd,MAAM,IAAIhI,QAAQ,GAAGqI,MAAM,GAAG,EAAE,CAAC,GAAGH,MAAM;UAClDU,IAAI,GAAGlB,MAAM;UACbmB,IAAI,GAAGhB,MAAM;UACb;QACF,KAAK,IAAI;UACP,IAAIoB,aAAa,CAACR,QAAQ,CAAC,EAAE;YAAE,OAAOQ,aAAa,CAACR,QAAQ,CAAC;UAAE;UAC/DK,KAAK,GAAGf,MAAM,IAAI/H,QAAQ,GAAGoI,MAAM,GAAG,EAAE,CAAC,GAAGH,MAAM;UAClDW,IAAI,GAAGnB,MAAM;UACboB,IAAI,GAAGjB,MAAM;UACb;QACF;UACE;MAAM;MAGVmB,MAAM,GAAGI,eAAe,CAACV,QAAQ,EAAEK,KAAK,EAAEJ,IAAI,EAAE1I,QAAQ,CAAC;MAEzD6I,IAAI,IAAIH,IAAI,IAAIA,IAAI,KAAK,IAAI,GAAG,GAAG,GAAGK,MAAM,GAAG,GAAG,GAAGA,MAAM;MAE3D,IAAIL,IAAI,IAAIA,IAAI,KAAK,IAAI,IAAID,QAAQ,CAACW,QAAQ,CAAC,MAAM,CAAC,EAAE;QACtDP,IAAI,IAAInK,SAAS,CAAC4D,IAAI,CAACmG,QAAQ,CAAC,GAAG,wBAAwB,GAAG,EAAE;QAChEI,IAAI,IAAIlK,SAAS,CAAC2D,IAAI,CAACmG,QAAQ,CAAC,GAAG,uBAAuB,GAAG,EAAE;MACjE;MAEA,IAAIH,MAAM,CAAC,CAAC,CAAC,IAAIC,MAAM,CAAC,CAAC,CAAC,EAAE;QAC1BS,IAAI,GAAG,GAAG,IAAIV,MAAM,CAACe,IAAI,CAAC,GAAG,CAAC,IAAId,MAAM,CAACc,IAAI,CAAC,GAAG,CAAC,CAAC;QACnDf,MAAM,CAACnI,MAAM,GAAG,CAAC;QACjBoI,MAAM,CAACpI,MAAM,GAAG,CAAC;MACnB;MAEAxF,OAAO,GAAG2O,QAAQ,CAAC,GAAG,EAAE9B,MAAM,GAAG,GAAG,GAAGoB,IAAI,GAAGI,IAAI,GAAG,GAAG,GAAGH,IAAI,GAAG,YAAY,CAAC,CAACpH,QAAQ,CAAC;MAEzF,OAAOiH,IAAI,IAAIA,IAAI,KAAK,IAAI,GAAIO,aAAa,CAACR,QAAQ,CAAC,GAAG9N,OAAO,GAAKuO,YAAY,CAACT,QAAQ,CAAC,GAAG9N,OAAQ;IACzG,CAAC;IAEH;IACAwO,eAAe,GACb,SAAAA,CAASI,UAAU,EAAER,MAAM,EAAEL,IAAI,EAAE1I,QAAQ,EAAE;MAE3C;MACA;MACA,IAAIO,CAAC;QAAEC,CAAC;QAAEuC,CAAC;QAAEE,CAAC;QAAEhD,CAAC;QAAEC,CAAC;QAAEyE,IAAI;QAAE6E,EAAE;QAAEC,CAAC,GAAG,EAAE;QAAEC,CAAC,GAAG,GAAG;QAC/C9G,MAAM;QAAE+G,IAAI;QAAEC,KAAK;QAAEC,MAAM;QAAEC,MAAM;QAAEC,MAAM;QAAEzH,IAAI;QACjD0H,IAAI;QAAEvB,QAAQ,GAAGc,UAAU;QAAEU,eAAe;QAAEjB,IAAI;;MAElD;MACAiB,eAAe,GAAGvB,IAAI,GAAGwB,YAAY,GAAGC,WAAW;;MAEnD;MACA1B,QAAQ,GAAGA,QAAQ,CAAClG,OAAO,CAACvF,GAAG,CAACC,UAAU,EAAE,IAAI,CAAC,CAAC;;MAElD;MACA;MACAmN,wBAAwB,EAExB,OAAO3B,QAAQ,EAAE;QAEf;QACAsB,MAAM,GAAG/M,GAAG,CAACE,UAAU,CAACoF,IAAI,CAACmG,QAAQ,CAAC,GAAG,GAAG,GAAGA,QAAQ,CAAC,CAAC,CAAC;QAE1D,QAAQsB,MAAM;UAEZ;UACA,KAAK,GAAG;YACNH,KAAK,GAAGnB,QAAQ,CAACmB,KAAK,CAAC5L,QAAQ,CAACK,SAAS,CAAC;YAC1C,IAAIoL,CAAC,IAAI,GAAG,EAAE;cACZV,MAAM,GAAG,KAAK,GAAGU,CAAC,GAAG,MAAM,GACzB,IAAI,GAAGV,MAAM,GAAG,GAAG;YACvB;YACA;;UAEF;UACA,KAAK,GAAG;YACNa,KAAK,GAAGnB,QAAQ,CAACmB,KAAK,CAAC5L,QAAQ,CAACyF,EAAE,CAAC;YACnCsF,MAAM,GAAG,KAAK,GAAGU,CAAC,GAAG,KAAK,GAAGG,KAAK,CAAC,CAAC,CAAC,GAAG,+BAA+B,GACrE,KAAK,GAAGb,MAAM,GAAG,GAAG;YACtB;;UAEF;UACA,KAAK,GAAG;YACNa,KAAK,GAAGnB,QAAQ,CAACmB,KAAK,CAAC5L,QAAQ,CAACyG,SAAS,CAAC;YAC1C7B,MAAM,GAAG,CAACxD,WAAW,GAAG,GAAG,GAAG,EAAE,IAAI,gCAAgC;YACpE2J,MAAM,GAAG,KAAK,GAAGU,CAAC,GAAG,WAAW,GAAGG,KAAK,CAAC,CAAC,CAAC,GAAG,UAAU,GAAGhH,MAAM,GAC/D,KAAK,GAAGmG,MAAM,GAAG,GAAG;YACtB;;UAEF;UACA,KAAM,SAAS,CAACzG,IAAI,CAACyH,MAAM,CAAC,GAAGA,MAAM,GAAG5E,SAAS;YAC/CyE,KAAK,GAAGnB,QAAQ,CAACmB,KAAK,CAAC5L,QAAQ,CAACsJ,OAAO,CAAC;YACxCyB,MAAM,GAAG,KAAK,GAAGU,CAAC,GAAG,cAAc,IAChC3K,MAAM,CAACE,SAAS,IAAI6B,oBAAoB,CAAC1F,GAAG,CAAC,GAC5C,KAAK,GAAGyO,KAAK,CAAC,CAAC,CAAC,CAACvF,WAAW,EAAE,GAAG,GAAG,GACpC,KAAK,GAAGuF,KAAK,CAAC,CAAC,CAAC,CAACS,WAAW,EAAE,GAAG,GAAG,CAAC,GACvC,KAAK,GAAGtB,MAAM,GAAG,GAAG;YACtB;;UAEF;UACA,KAAK,GAAG;YACNa,KAAK,GAAGnB,QAAQ,CAACmB,KAAK,CAAC5L,QAAQ,CAACM,SAAS,CAAC;YAC1C,IAAIsL,KAAK,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE;cACnBb,MAAM,GAAG,KAAK,GAAGU,CAAC,GAAG,QAAQ,GAAGV,MAAM,GAAG,GAAG;YAC9C,CAAC,MAAM,IAAI,CAACa,KAAK,CAAC,CAAC,CAAC,EAAE;cACpBb,MAAM,GAAG,KAAK,GAAGU,CAAC,GAAG,qBAAqB,GAAGV,MAAM,GAAG,GAAG;YAC3D,CAAC,MAAM,IAAI,OAAOa,KAAK,CAAC,CAAC,CAAC,IAAI,QAAQ,IAAIvO,IAAI,CAACiP,MAAM,IAAIV,KAAK,CAAC,CAAC,CAAC,EAAE;cACjEb,MAAM,GAAG,KAAK,GAAGU,CAAC,GAAG,oBAAoB,GAAGtK,SAAS,GAAG,MAAM,GAAG4J,MAAM,GAAG,GAAG;YAC/E,CAAC,MAAM;cACL7C,IAAI,CAAC,IAAI,GAAG+D,eAAe,GAAG,IAAI,GAAGxL,SAAS,CAAC;YACjD;YACA;;UAEF;UACA,KAAK,GAAG;YACNmL,KAAK,GAAGnB,QAAQ,CAACmB,KAAK,CAAC5L,QAAQ,CAACuJ,SAAS,CAAC;YAC1CiC,EAAE,GAAGI,KAAK,CAAC,CAAC,CAAC,CAACA,KAAK,CAAC5M,GAAG,CAACG,UAAU,CAAC;YACnCwH,IAAI,GAAGiF,KAAK,CAAC,CAAC,CAAC;YACfD,IAAI,GAAGhF,IAAI,CAAC4F,KAAK,CAAC,GAAG,CAAC;YACtBZ,IAAI,GAAGA,IAAI,CAACxJ,MAAM,IAAI,CAAC,GAAGwJ,IAAI,CAAC,CAAC,CAAC,GAAGA,IAAI,CAAC,CAAC,CAAC;YAC3C,IAAIC,KAAK,CAAC,CAAC,CAAC,IAAI,EAAEtH,IAAI,GAAG5C,SAAS,CAACkK,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;cAC7C1D,IAAI,CAAC,IAAI,GAAG+D,eAAe,GAAG,IAAI,GAAGxL,SAAS,CAAC;cAC/C,OAAO,EAAE;YACX;YACA,IAAImL,KAAK,CAAC,CAAC,CAAC,KAAK,EAAE,EAAE;cACnBtH,IAAI,GAAGsH,KAAK,CAAC,CAAC,CAAC,IAAI,IAAI,GACrB;gBAAEjK,EAAE,EAAE,MAAM;gBAAEC,EAAE,EAAE,IAAI;gBAAEC,EAAE,EAAE;cAAO,CAAC,GAClC+J,KAAK,CAAC,CAAC,CAAC,IAAItK,YAAY,IAAIsK,KAAK,CAAC,CAAC,CAAC,IAAI,IAAI,GAC9C;gBAAEjK,EAAE,EAAE,GAAG;gBAAKC,EAAE,EAAE,GAAG;gBAAGC,EAAE,EAAE;cAAO,CAAC,GAAGyC,IAAI;YAC/C,CAAC,MAAM,IAAIsH,KAAK,CAAC,CAAC,CAAC,IAAI,IAAI,IAAIA,KAAK,CAAC,CAAC,CAAC,CAACR,QAAQ,CAAC,GAAG,CAAC,EAAE;cACrD;cACAL,MAAM,GAAG,KAAK,GAAGU,CAAC,GAAG,SAAS,GAAGV,MAAM,GAAG,GAAG;cAC7C;YACF,CAAC,MAAM,IAAIa,KAAK,CAAC,CAAC,CAAC,EAAE;cACnBA,KAAK,CAAC,CAAC,CAAC,GAAGxH,cAAc,CAACwH,KAAK,CAAC,CAAC,CAAC,CAAC,CAACrH,OAAO,CAACpG,GAAG,CAACK,UAAU,EAAE,MAAM,CAAC;YACrE;YACAwN,IAAI,GAAGJ,KAAK,CAAC,CAAC,CAAC,IAAI,GAAG,IAAKvK,aAAa,IAAIE,UAAU,CAACoK,IAAI,CAACtF,WAAW,EAAE,CAAE,GAAG,GAAG,GAAG,EAAE;YACtF0E,MAAM,GAAG,KAAK,GAAGU,CAAC,GAAG,GAAG,IACrB,CAACG,KAAK,CAAC,CAAC,CAAC,GAAIJ,EAAE,GAAG,sBAAsB,GAAG7E,IAAI,GAAG,IAAI,GAAG,kCAAkC,GAAGA,IAAI,GAAG,IAAI,GAC1G,CAACiF,KAAK,CAAC,CAAC,CAAC,IAAItK,YAAY,CAACsK,KAAK,CAAC,CAAC,CAAC,CAAC,IAAIA,KAAK,CAAC,CAAC,CAAC,IAAI,IAAI,GAAG,kCAAkC,GAAGjF,IAAI,GAAG,QAAQ,GAC9G,IAAI,GAAGrC,IAAI,CAAC3C,EAAE,GAAGiK,KAAK,CAAC,CAAC,CAAC,GAAGtH,IAAI,CAAC1C,EAAE,GAAG,GAAG,GAAGoK,IAAI,GAAG,yCAAyC,GAAGrF,IAAI,GAAG,OAAO,GAAGrC,IAAI,CAACzC,EAAE,CAAC,GACxH,KAAK,GAAGkJ,MAAM,GAAG,GAAG;YACtB;;UAEF;UACA;UACA,KAAK,GAAG;YACNa,KAAK,GAAGnB,QAAQ,CAACmB,KAAK,CAAC5L,QAAQ,CAACG,QAAQ,CAAC;YACzC4K,MAAM,GAAG,0CAA0C,GAAGA,MAAM,GAAG,OAAO;YACtE;UACF;UACA;UACA,KAAK,GAAG;YACNa,KAAK,GAAGnB,QAAQ,CAACmB,KAAK,CAAC5L,QAAQ,CAACE,QAAQ,CAAC;YACzC6K,MAAM,GAAG,uCAAuC,GAAGA,MAAM,GAAG,OAAO;YACnE;UACF;UACA;UACA,KAAK,MAAM;UACX,KAAK,MAAM;YACTa,KAAK,GAAGnB,QAAQ,CAACmB,KAAK,CAAC5L,QAAQ,CAACI,QAAQ,CAAC;YACzC2K,MAAM,GAAG,iCAAiC,GAAGA,MAAM,GAAG,OAAO;YAC7D;UACF;UACA;UACA,KAAK,GAAG;YACNa,KAAK,GAAGnB,QAAQ,CAACmB,KAAK,CAAC5L,QAAQ,CAACC,QAAQ,CAAC;YACzC8K,MAAM,GAAG,8BAA8B,GAAGA,MAAM,GAAG,OAAO;YAC1D;;UAEF;UACA,KAAMgB,MAAM,IAAIvK,WAAW,GAAGuK,MAAM,GAAG5E,SAAS;YAC9C;YACAyE,KAAK,CAACA,KAAK,CAACzJ,MAAM,GAAG,CAAC,CAAC,GAAG,GAAG;YAC7B4I,MAAM,GAAGvJ,WAAW,CAACuK,MAAM,CAAC,CAACH,KAAK,CAAC,GAAGb,MAAM;YAC5C;;UAEF;UACA;UACA,KAAK,GAAG;YACN,IAAKa,KAAK,GAAGnB,QAAQ,CAACmB,KAAK,CAAC5L,QAAQ,CAACN,UAAU,CAAC,EAAG;cACjDkM,KAAK,CAAC,CAAC,CAAC,GAAGA,KAAK,CAAC,CAAC,CAAC,CAACvF,WAAW,EAAE;cACjC,QAAQuF,KAAK,CAAC,CAAC,CAAC;gBACd,KAAK,MAAM;kBACT;kBACAb,MAAM,GAAG,KAAK,GAAGU,CAAC,GAAG,gBAAgB,GAAGV,MAAM,IAAIL,IAAI,GAAG,aAAa,GAAG,EAAE,CAAC,GAAG,GAAG;kBAClF;gBACF,KAAK,OAAO;kBACV;kBACAK,MAAM,GAAG,wEAAwE,GAAGW,CAAC,GAAG,KAAK,GAAGX,MAAM,GAAG,GAAG;kBAC5G;;gBAEF;gBACA;gBACA,KAAK,YAAY;kBACfA,MAAM,GAAG,KAAK,GAAGU,CAAC,GAAG,sDAAsD,GAAGV,MAAM,GAAG,GAAG;kBAC1F;gBACF,KAAK,YAAY;kBACfA,MAAM,GAAG,KAAK,GAAGU,CAAC,GAAG,2BAA2B,GAAGV,MAAM,GAAG,GAAG;kBAC/D;gBACF,KAAK,aAAa;kBAChBA,MAAM,GAAG,KAAK,GAAGU,CAAC,GAAG,+BAA+B,GAAGV,MAAM,GAAG,GAAG;kBACnE;;gBAEF;gBACA;gBACA,KAAK,cAAc;kBACjBA,MAAM,GAAG,gBAAgB,GACvB,6DAA6D,GAC7D,8DAA8D,GAAGW,CAAC,GAAG,KAAK,GAAGX,MAAM,GAAG,GAAG;kBAC3F;gBACF,KAAK,cAAc;kBACjBA,MAAM,GAAG,uEAAuE,GAAGW,CAAC,GAAG,KAAK,GAAGX,MAAM,GAAG,GAAG;kBAC3G;gBACF,KAAK,eAAe;kBAClBA,MAAM,GAAG,2EAA2E,GAAGW,CAAC,GAAG,KAAK,GAAGX,MAAM,GAAG,GAAG;kBAC/G;gBACF;kBACE7C,IAAI,CAAC,IAAI,GAAG+D,eAAe,GAAG,IAAI,GAAGxL,SAAS,CAAC;kBAC/C;cAAM;YAEZ;;YAEA;YACA;YAAA,KACK,IAAKmL,KAAK,GAAGnB,QAAQ,CAACmB,KAAK,CAAC5L,QAAQ,CAACT,UAAU,CAAC,EAAG;cACtDqM,KAAK,CAAC,CAAC,CAAC,GAAGA,KAAK,CAAC,CAAC,CAAC,CAACvF,WAAW,EAAE;cACjC,QAAQuF,KAAK,CAAC,CAAC,CAAC;gBACd,KAAK,WAAW;gBAChB,KAAK,aAAa;gBAClB,KAAK,gBAAgB;gBACrB,KAAK,kBAAkB;kBACrBD,IAAI,GAAG,WAAW,CAACrH,IAAI,CAACsH,KAAK,CAAC,CAAC,CAAC,CAAC;kBACjC,IAAIA,KAAK,CAAC,CAAC,CAAC,IAAIA,KAAK,CAAC,CAAC,CAAC,EAAE;oBACxBI,IAAI,GAAG,OAAO,CAAC1H,IAAI,CAACsH,KAAK,CAAC,CAAC,CAAC,CAAC;oBAC7B,IAAIA,KAAK,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE;sBACnBb,MAAM,GAAG,KAAK,GAAGU,CAAC,GAAG,QAAQ,GAAGV,MAAM,GAAG,GAAG;sBAC5C;oBACF,CAAC,MAAM,IAAIa,KAAK,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE;sBAC1BtH,IAAI,GAAG0H,IAAI,GAAG,MAAM,GAAG,UAAU;sBACjCjB,MAAM,GAAGY,IAAI,GAAG,oBAAoB,GAClC,aAAa,GAAGrH,IAAI,GAAG,sCAAsC,GAAGoH,CAAC,GAAG,KAAK,GAAGX,MAAM,GAAG,GAAG,GACxF,KAAK,GAAGU,CAAC,GAAG,KAAK,GAAGnH,IAAI,GAAG,kBAAkB,GAAGyG,MAAM,GAAG,GAAG;sBAC9D;oBACF,CAAC,MAAM,IAAIa,KAAK,CAAC,CAAC,CAAC,IAAI,MAAM,IAAIA,KAAK,CAAC,CAAC,CAAC,IAAI,KAAK,IAAIA,KAAK,CAAC,CAAC,CAAC,IAAI,MAAM,IAAIA,KAAK,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE;sBAC5FtH,IAAI,GAAG,QAAQ;oBACjB,CAAC,MAAM,IAAIsH,KAAK,CAAC,CAAC,CAAC,IAAI,KAAK,IAAKA,KAAK,CAAC,CAAC,CAAC,IAAI,KAAK,IAAIA,KAAK,CAAC,CAAC,CAAC,IAAI,MAAM,EAAE;sBACxEtH,IAAI,GAAG,QAAQ;oBACjB,CAAC,MAAM;sBACLW,CAAC,GAAG,IAAI,CAACX,IAAI,CAACsH,KAAK,CAAC,CAAC,CAAC,CAAC;sBACvB7G,CAAC,GAAG6G,KAAK,CAAC,CAAC,CAAC,CAACW,KAAK,CAAC,GAAG,CAAC;sBACvBhK,CAAC,GAAGkC,QAAQ,CAACM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC;sBAC3BvC,CAAC,GAAGiC,QAAQ,CAACM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC;sBAC3B,IAAIA,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE;wBAAExC,CAAC,GAAG,CAAC,CAAC;sBAAE;sBAC3B,IAAIwC,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE;wBAAExC,CAAC,GAAG,CAAC,CAAC;sBAAE;sBAC3B+B,IAAI,GAAG,CAAC9B,CAAC,GAAG,IAAI,IAAIA,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,GAAGgK,IAAI,CAACC,GAAG,CAACjK,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,GAAGD,CAAC,GAAG,KAAK;sBACnF+B,IAAI,GACF/B,CAAC,IAAI,CAAC,CAAC,GAAI0C,CAAC,GAAG,IAAI,IAAIzC,CAAC,GAAG,CAAC,CAAC,IAAIgK,IAAI,CAACC,GAAG,CAAClK,CAAC,CAAC,IAAI,CAAC,GAAG,IAAI,GAAG+B,IAAI,GAAG,EAAE,CAAC,GAAG,KAAK,GAAG/B,CAAC,GACjFA,CAAC,IAAI,CAAC,CAAC,GAAI0C,CAAC,GAAG,IAAI,IAAIzC,CAAC,GAAG,CAAC,CAAC,IAAIgK,IAAI,CAACC,GAAG,CAAClK,CAAC,CAAC,IAAI,CAAC,GAAG,IAAI,GAAG+B,IAAI,GAAG,EAAE,CAAC,GAAG,KAAK,GAAG/B,CAAC,GACjFA,CAAC,KAAK,CAAC,GAAIwC,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,GAAGvC,CAAC,GAAG,IAAI,IAAIA,CAAC,GAAG,CAAC,CAAC,GAAI,OAAO;oBAC3D;oBACAmJ,IAAI,GAAGA,IAAI,GAAG,QAAQ,GAAG,SAAS;oBAClCK,IAAI,GAAGA,IAAI,GAAG,MAAM,GAAG,OAAO;oBAC9BjB,MAAM,GAAG,SAAS,GAAGY,IAAI,GAAG,KAAK,GAAGK,IAAI,GAAG,OAAO,GAAGP,CAAC,GAAG,GAAG,GAAGnH,IAAI,GAAG,KAAK,GAAGyG,MAAM,GAAG,GAAG;kBAC5F,CAAC,MAAM;oBACL7C,IAAI,CAAC,IAAI,GAAG+D,eAAe,GAAG,IAAI,GAAGxL,SAAS,CAAC;kBACjD;kBACA;gBACF;kBACEyH,IAAI,CAAC,IAAI,GAAG+D,eAAe,GAAG,IAAI,GAAGxL,SAAS,CAAC;kBAC/C;cAAM;YAEZ;;YAEA;YACA;YAAA,KACK,IAAKmL,KAAK,GAAGnB,QAAQ,CAACmB,KAAK,CAAC5L,QAAQ,CAACV,UAAU,CAAC,EAAG;cACtDsM,KAAK,CAAC,CAAC,CAAC,GAAGA,KAAK,CAAC,CAAC,CAAC,CAACvF,WAAW,EAAE;cACjC,QAAQuF,KAAK,CAAC,CAAC,CAAC;gBACd,KAAK,IAAI;gBACT,KAAK,OAAO;gBACZ,KAAK,SAAS;kBACZD,IAAI,GAAGC,KAAK,CAAC,CAAC,CAAC,CAACrH,OAAO,CAACpG,GAAG,CAACO,UAAU,EAAE,GAAG,CAAC,CAAC6F,OAAO,CAACpG,GAAG,CAACM,UAAU,EAAE,EAAE,CAAC;kBACxEsM,MAAM,GAAG,cAAc,GAAGY,IAAI,CAACpH,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,GAAG,QAAQ,GAAGwG,MAAM,GAAG,GAAG;kBAChF;gBACF,KAAK,KAAK;kBACRY,IAAI,GAAGC,KAAK,CAAC,CAAC,CAAC,CAACrH,OAAO,CAACpG,GAAG,CAACO,UAAU,EAAE,GAAG,CAAC,CAAC6F,OAAO,CAACpG,GAAG,CAACM,UAAU,EAAE,EAAE,CAAC;kBACxEsM,MAAM,GAAG,eAAe,GAAGY,IAAI,CAACpH,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,GAAG,QAAQ,GAAGwG,MAAM,GAAG,GAAG;kBACjF;gBACF;kBACE7C,IAAI,CAAC,IAAI,GAAG+D,eAAe,GAAG,IAAI,GAAGxL,SAAS,CAAC;kBAC/C;cAAM;YAEZ;;YAEA;YACA;YAAA,KACK,IAAKmL,KAAK,GAAGnB,QAAQ,CAACmB,KAAK,CAAC5L,QAAQ,CAACX,UAAU,CAAC,EAAG;cACtDuM,KAAK,CAAC,CAAC,CAAC,GAAGA,KAAK,CAAC,CAAC,CAAC,CAACvF,WAAW,EAAE;cACjC,QAAQuF,KAAK,CAAC,CAAC,CAAC;gBACd,KAAK,KAAK;kBACRb,MAAM,GAAG,WAAW,GAAGU,CAAC,GAAG,GAAG,GAC5B,IAAI,GAAGG,KAAK,CAAC,CAAC,CAAC,GAAG,+CAA+C,GACjE,IAAI,GAAGA,KAAK,CAAC,CAAC,CAAC,GAAG,+CAA+C,GACjE,GAAG,IAAIA,KAAK,CAAC,CAAC,CAAC,IAAI,KAAK,GAAG,GAAG,GAAC,EAAE,CAAC,GAAErL,GAAG,GAAE,wBAAwB,GACjE,IAAI,GAAGwK,MAAM,GAAG,IAAI;kBACtB;gBACF,KAAK,MAAM;kBACTY,IAAI,GAAG,SAAS,GAAGC,KAAK,CAAC,CAAC,CAAC,GAAG,SAAS;kBACvCb,MAAM,GAAG,WAAW,GAAGU,CAAC,GAAG,GAAG,GAC5B,4DAA4D,GAC5D,YAAY,GAAGG,KAAK,CAAC,CAAC,CAAC,GAAG,OAAO,GAAED,IAAI,GAAE,mBAAmB,GAC5D,IAAI,GAAGZ,MAAM,GAAG,IAAI;kBACtB;gBACF;kBACE7C,IAAI,CAAC,IAAI,GAAG+D,eAAe,GAAG,IAAI,GAAGxL,SAAS,CAAC;kBAC/C;cAAM;YAEZ;;YAEA;YACA;YAAA,KACK,IAAKmL,KAAK,GAAGnB,QAAQ,CAACmB,KAAK,CAAC5L,QAAQ,CAACR,UAAU,CAAC,EAAG;cACtDoM,KAAK,CAAC,CAAC,CAAC,GAAGA,KAAK,CAAC,CAAC,CAAC,CAACvF,WAAW,EAAE;cACjC,QAAQuF,KAAK,CAAC,CAAC,CAAC;gBACd,KAAK,UAAU;kBACbb,MAAM,GAAG,KAAK,GAAGU,CAAC,GAAG,sEAAsE,GAAGV,MAAM,GAAG,GAAG;kBAC1G;gBACF,KAAK,MAAM;kBACTA,MAAM,GAAG,KAAK,GAAGU,CAAC,GAAG,2DAA2D,GAAGV,MAAM,GAAG,GAAG;kBAC/F;gBACF,KAAK,SAAS;kBACZA,MAAM,GAAG,KAAK,GAAGU,CAAC,GAAG,sEAAsE,GAAGV,MAAM,GAAG,GAAG;kBAC1G;gBACF,KAAK,QAAQ;kBACXA,MAAM,GAAG,KAAK,GAAGU,CAAC,GAAG,oGAAoG,GAAGV,MAAM,GAAG,GAAG;kBACxI;gBACF;kBACE7C,IAAI,CAAC,IAAI,GAAG+D,eAAe,GAAG,IAAI,GAAGxL,SAAS,CAAC;kBAC/C;cAAM;YAEZ;;YAEA;YACA;YAAA,KACK,IAAKmL,KAAK,GAAGnB,QAAQ,CAACmB,KAAK,CAAC5L,QAAQ,CAACP,UAAU,CAAC,EAAG;cACtDmM,KAAK,CAAC,CAAC,CAAC,GAAGA,KAAK,CAAC,CAAC,CAAC,CAACvF,WAAW,EAAE;cACjC,QAAQuF,KAAK,CAAC,CAAC,CAAC;gBACd,KAAK,OAAO;kBACVb,MAAM,GAAG,UAAU,IAAI5N,GAAG,IAAIA,GAAG,CAACuP,QAAQ,EAAE,GAC1C,KAAK,GAAGjB,CAAC,GAAG,4BAA4B,GAAGV,MAAM,GAAG,GAAG,GACvD,KAAK,GAAGW,CAAC,GAAG,QAAQ,GAAGX,MAAM,GAAG,GAAG;kBACrC;gBACF,KAAK,QAAQ;kBACXA,MAAM,GAAG,UAAU,IAAI5N,GAAG,IAAIA,GAAG,CAACuP,QAAQ,EAAE,GAC1C,KAAK,GAAGjB,CAAC,GAAG,6BAA6B,GAAGV,MAAM,GAAG,GAAG,GACxD,KAAK,GAAGW,CAAC,GAAG,QAAQ,GAAGX,MAAM,GAAG,GAAG;kBACrC;gBACF,KAAK,OAAO;kBACVA,MAAM,GAAG,UAAU,IAAI5N,GAAG,GACxB,KAAK,GAAGsO,CAAC,GAAG,8FAA8F,GAAGV,MAAM,GAAG,GAAG,GACzH,KAAK,GAAGU,CAAC,GAAG,+CAA+C,GAAGV,MAAM,GAAG,GAAG;kBAC5E;gBACF,KAAK,cAAc;kBACjBA,MAAM,GAAG,UAAU,IAAI5N,GAAG,GACxB,mEAAmE,GACnE,KAAK,GAAGsO,CAAC,GAAG,4EAA4E,GAAGV,MAAM,GAAG,GAAG,GAAGA,MAAM;kBAClH;gBACF;kBACE7C,IAAI,CAAC,IAAI,GAAG+D,eAAe,GAAG,IAAI,GAAGxL,SAAS,CAAC;kBAC/C;cAAM;YAEZ;;YAEA;YACA;YAAA,KACK,IAAKmL,KAAK,GAAGnB,QAAQ,CAACmB,KAAK,CAAC5L,QAAQ,CAACL,UAAU,CAAC,EAAG;cACtDiM,KAAK,CAAC,CAAC,CAAC,GAAGA,KAAK,CAAC,CAAC,CAAC,CAACvF,WAAW,EAAE;cACjC,QAAQuF,KAAK,CAAC,CAAC,CAAC;gBACd,KAAK,SAAS;kBACZb,MAAM,GAAG,KAAK,GAAGU,CAAC,GAAG,uFAAuF,GAC1G,KAAK,GAAGV,MAAM,GAAG,GAAG;kBACtB;gBACF,KAAK,UAAU;kBACb;kBACAA,MAAM,GAAG,KAAK,GAAGU,CAAC,GAAG,oEAAoE,GACvF,4FAA4F,GAC5F,KAAK,GAAGV,MAAM,GAAG,GAAG;kBACtB;gBACF,KAAK,WAAW;kBACdA,MAAM,GACJ,KAAK,GAAGU,CAAC,GAAG,GAAG,GACb,+DAA+D,GAC/D,0DAA0D,GAC5D,KAAK,GAAGV,MAAM,GAAG,GAAG;kBACtB;gBACF,KAAK,YAAY;kBACfA,MAAM,GACJ,KAAK,GAAGU,CAAC,GAAG,GAAG,GACb,gEAAgE,GAChE,2EAA2E,GAC3E,+DAA+D,GACjE,KAAK,GAAGV,MAAM,GAAG,GAAG;kBACtB;gBACF,KAAK,mBAAmB;kBACtBA,MAAM,GACJ,KAAK,GAAGU,CAAC,GAAG,GAAG,GACb,0EAA0E,GAC1E,qFAAqF,GACrF,wBAAwB,GAC1B,KAAK,GAAGV,MAAM,GAAG,GAAG;kBACtB;gBACF,KAAK,SAAS;kBACZA,MAAM,GACJ,KAAK,GAAGU,CAAC,GAAG,2BAA2B,GACrC,eAAe,GACf,4DAA4D,GAC5D,wCAAwC,GACxC,wBAAwB,GACtB,8BAA8B,GAC9B,+BAA+B,GAC/B,MAAM,GACR,GAAG,GACL,GAAG,GACH,KAAK,GAAGA,CAAC,GAAG,kEAAkE,GAC5E,wDAAwD,GACxD,mEAAmE,GACrE,KAAK,GAAGV,MAAM,GAAG,GAAG;kBACtB;gBACF;kBACE7C,IAAI,CAAC,IAAI,GAAG+D,eAAe,GAAG,IAAI,GAAGxL,SAAS,CAAC;kBAC/C;cAAM;YAEZ;;YAEA;YACA;YAAA,KACK,IAAKmL,KAAK,GAAGnB,QAAQ,CAACmB,KAAK,CAAC5L,QAAQ,CAACJ,UAAU,CAAC,EAAG;cACtDgM,KAAK,CAAC,CAAC,CAAC,GAAGA,KAAK,CAAC,CAAC,CAAC,CAACvF,WAAW,EAAE;cACjC,QAAQuF,KAAK,CAAC,CAAC,CAAC;gBACd,KAAK,SAAS;kBACZb,MAAM,GAAG,KAAK,GAAGU,CAAC,GAAG,iCAAiC,GACpD,4DAA4D,GAC5D,0DAA0D,GAC1D,KAAK,GAAGV,MAAM,GAAG,GAAG;kBACtB;gBACF,KAAK,eAAe;kBAClBA,MAAM,GACJ,KAAK,GAAGU,CAAC,GAAG,+DAA+D,GACzE,wEAAwE,GACxE,8EAA8E,GAChF,KAAK,GAAGV,MAAM,GAAG,GAAG;kBACtB;gBACF,KAAK,UAAU;kBACbA,MAAM,GACJ,KAAK,GAAGU,CAAC,GACP,4DAA4D,GAC9D,IAAI,GAAGV,MAAM,GAAG,GAAG;kBACrB;gBACF,KAAK,UAAU;kBACbA,MAAM,GACJ,KAAK,GAAGU,CAAC,GACP,6DAA6D,GAC/D,IAAI,GAAGV,MAAM,GAAG,GAAG;kBACrB;gBACF,KAAK,SAAS;kBACZA,MAAM,GACJ,KAAK,GAAGU,CAAC,GAAG,IAAI,GACd,gDAAgD,GAChD,6DAA6D,GAC7D,0DAA0D,GAC5D,IAAI,GAAGV,MAAM,GAAG,GAAG;kBACrB;gBACF,KAAK,OAAO;kBACVA,MAAM,GACJ,KAAK,GAAGU,CAAC,GAAG,IAAI,GACd,gDAAgD,GAChD,4DAA4D,GAC5D,wDAAwD,GAC1D,IAAI,GAAGV,MAAM,GAAG,GAAG;kBACrB;gBACF,KAAK,UAAU;kBACbA,MAAM,GACJ,KAAK,GAAGU,CAAC,GACP,kCAAkC,GAClC,uCAAuC,GACvC,2DAA2D,GAC3D,mFAAmF,GACnF,iEAAiE,GACnE,IAAI,GAAGV,MAAM,GAAG,GAAG;kBACrB;gBACF,KAAK,cAAc;kBACjBA,MAAM,GACJ,KAAK,GAAGU,CAAC,GACP,kCAAkC,GAClC,uCAAuC,GACvC,yDAAyD,GACzD,mFAAmF,GACnF,iEAAiE,GACnE,IAAI,GAAGV,MAAM,GAAG,GAAG;kBACrB;gBACF;kBACE7C,IAAI,CAAC,IAAI,GAAG+D,eAAe,GAAG,IAAI,GAAGxL,SAAS,CAAC;kBAC/C;cAAM;YAEZ;;YAEA;YACA;YACA;YAAA,KACK,IAAKmL,KAAK,GAAGnB,QAAQ,CAACmB,KAAK,CAAC5L,QAAQ,CAACF,UAAU,CAAC,EAAG;cACtDiL,MAAM,GAAG,uCAAuC,GAC9C,GAAG,GAAGa,KAAK,CAAC,CAAC,CAAC,CAACvF,WAAW,EAAE,GAAG,iBAAiB,GAAG0E,MAAM,GAAG,GAAG;YACnE;;YAEA;YACA;YACA;YAAA,KACK,IAAKa,KAAK,GAAGnB,QAAQ,CAACmB,KAAK,CAAC5L,QAAQ,CAACD,UAAU,CAAC,EAAG;cACtDgL,MAAM,GAAG,uCAAuC,GAC9Ca,KAAK,CAAC,CAAC,CAAC,CAACvF,WAAW,EAAE,GAAG,iBAAiB,GAAG0E,MAAM,GAAG,GAAG;YAC7D;;YAEA;YAAA,KACK,IAAKa,KAAK,GAAGnB,QAAQ,CAACmB,KAAK,CAAC5L,QAAQ,CAACH,UAAU,CAAC,EAAG;cACtDkL,MAAM,GAAG,KAAK,GAAGU,CAAC,GAAG,OAAO,GAAG,IAAI,GAAGV,MAAM,GAAG,GAAG;YACpD,CAAC,MAEI;cAEH;cACAY,IAAI,GAAG,KAAK;cACZG,MAAM,GAAG,KAAK;;cAEd;cACA,KAAKH,IAAI,IAAIlK,SAAS,EAAE;gBACtB,IAAKmK,KAAK,GAAGnB,QAAQ,CAACmB,KAAK,CAACnK,SAAS,CAACkK,IAAI,CAAC,CAACgB,UAAU,CAAC,EAAG;kBACxDd,MAAM,GAAGpK,SAAS,CAACkK,IAAI,CAAC,CAACiB,QAAQ,CAAChB,KAAK,EAAEb,MAAM,EAAEL,IAAI,EAAE1I,QAAQ,CAAC;kBAChE,IAAI,OAAO,IAAI6J,MAAM,EAAE;oBAAED,KAAK,GAAGC,MAAM,CAACD,KAAK;kBAAE;kBAC/CZ,IAAI,GAAGa,MAAM,CAACgB,MAAM;kBACpB,IAAInC,IAAI,EAAE;oBACP;oBACAM,IAAI,IAAIV,MAAM,CAAC9G,OAAO,CAACwH,IAAI,CAAC,GAAG,CAAC,KAAKV,MAAM,CAACA,MAAM,CAACnI,MAAM,CAAC,GAAG6I,IAAI,CAAC;kBACrE,CAAC,MAAM;oBACJ;oBACAA,IAAI,IAAIT,MAAM,CAAC/G,OAAO,CAACwH,IAAI,CAAC,GAAG,CAAC,KAAKT,MAAM,CAACA,MAAM,CAACpI,MAAM,CAAC,GAAG6I,IAAI,CAAC;kBACrE;kBACA;kBACAD,MAAM,GAAGc,MAAM,CAACd,MAAM;kBACtB;kBACAe,MAAM,GAAGD,MAAM,CAACC,MAAM;kBACtB;kBACA,IAAIA,MAAM,EAAE;oBAAE;kBAAO;gBACvB;cACF;cAEA,IAAI,CAACA,MAAM,EAAE;gBACX5D,IAAI,CAAC,kCAAkC,GAAGuC,QAAQ,GAAG,IAAI,CAAC;gBAC1D,OAAO,EAAE;cACX;cAEA,IAAI,CAACkB,IAAI,EAAE;gBACTzD,IAAI,CAAC,8BAA8B,GAAGuC,QAAQ,GAAG,IAAI,CAAC;gBACtD,OAAO,EAAE;cACX;YAEF;YACA;UAEJ;YACEvC,IAAI,CAAC,IAAI,GAAG+D,eAAe,GAAG,IAAI,GAAGxL,SAAS,CAAC;YAC/C,MAAM2L,wBAAwB;QAAC;QAGjC;;QAEA,IAAI,CAACR,KAAK,EAAE;UACV1D,IAAI,CAAC,IAAI,GAAG+D,eAAe,GAAG,IAAI,GAAGxL,SAAS,CAAC;UAC/C,OAAO,EAAE;QACX;;QAEA;QACAgK,QAAQ,GAAGmB,KAAK,CAACkB,GAAG,EAAE;MACxB;MACA;;MAEA,OAAO/B,MAAM;IACf,CAAC;IAEH;IACAgC,OAAO,GACL,SAAAA,CAASC,SAAS,EAAE3F,OAAO,EAAE;MAC3B,OAAO2F,SAAS,CAACzI,OAAO,CAAC,UAAU,EACjC8C,OAAO,CAACf,SAAS,IAChBe,OAAO,CAAC5B,EAAE,GAAG,GAAG,GAAG4B,OAAO,CAAC5B,EAAE,GAAG,EAAE,CAAC,IACnC4B,OAAO,CAACZ,SAAS,GAAG,GAAG,GAAGY,OAAO,CAAC4F,SAAS,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;IAC1D,CAAC;IAEH;IACA7M,QAAQ,GACN,SAAS8M,QAAQA,CAACF,SAAS,EAAE3F,OAAO,EAAErF,QAAQ,EAAE;MAE9C,IAAK,SAAS,CAAEsC,IAAI,CAAC0I,SAAS,CAAC,EAAE;QAC/BA,SAAS,GAAGD,OAAO,CAACC,SAAS,EAAE3F,OAAO,CAAC;MACzC;MAEA,OAAOA,OAAO,EAAE;QACd,IAAIuE,KAAK,CAACoB,SAAS,EAAE3F,OAAO,EAAErF,QAAQ,CAAC,EAAE;QACzCqF,OAAO,GAAGA,OAAO,CAACvB,aAAa;MACjC;MACA,OAAOuB,OAAO;IAChB,CAAC;IAEH8F,YAAY,GACV,SAAAA,CAASlI,CAAC,EAAEoC,OAAO,EAAErF,QAAQ,EAAE;MAC7B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAG+C,CAAC,CAAC9C,MAAM,EAAEiL,CAAC,GAAG,KAAK,EAAElL,CAAC,GAAGD,CAAC,EAAE,EAAEA,CAAC,EACjDgD,CAAC,CAAChD,CAAC,CAAC,CAACoF,OAAO,EAAErF,QAAQ,EAAE,IAAI,EAAE,KAAK,CAAC,KAAKoL,CAAC,GAAG,IAAI,CAAC;MACpD,OAAOA,CAAC;IACV,CAAC;IAEHC,aAAa,GACX,SAAAA,CAASL,SAAS,EAAEhL,QAAQ,EAAE;MAC5B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAG8K,SAAS,CAAC7K,MAAM,EAAE8C,CAAC,GAAG,EAAG,EAAE/C,CAAC,GAAGD,CAAC,EAAE,EAAEA,CAAC,EACvDgD,CAAC,CAAChD,CAAC,CAAC,GAAGuI,OAAO,CAACwC,SAAS,CAAC/K,CAAC,CAAC,EAAE,KAAK,EAAED,QAAQ,CAAC;MAC/C,OAAO;QAAErF,OAAO,EAAEsI;MAAE,CAAC;IACvB,CAAC;IAEH;IACA2G,KAAK,GACH,SAAS0B,QAAQA,CAACN,SAAS,EAAE3F,OAAO,EAAErF,QAAQ,EAAE;MAE9C,IAAIuL,WAAW,EAAEC,MAAM;MAEvB,IAAInG,OAAO,IAAIU,cAAc,CAACiF,SAAS,CAAC,EAAE;QACxC,OAAOG,YAAY,CAACpF,cAAc,CAACiF,SAAS,CAAC,CAACrQ,OAAO,EAAE0K,OAAO,EAAErF,QAAQ,CAAC;MAC3E;MAEAmK,WAAW,GAAGa,SAAS;;MAEvB;MACA,IAAIS,SAAS,CAACtL,MAAM,KAAK,CAAC,EAAE;QAC1B+F,IAAI,CAAC1H,SAAS,EAAEkN,SAAS,CAAC;QAC1B,OAAO5M,MAAM,CAACI,SAAS,GAAGiG,SAAS,GAAG,KAAK;MAC7C,CAAC,MAAM,IAAIsG,SAAS,CAAC,CAAC,CAAC,KAAK,EAAE,EAAE;QAC9BvF,IAAI,CAAC,MAAM,GAAGzH,SAAS,CAAC;QACxB,OAAOK,MAAM,CAACI,SAAS,GAAGiG,SAAS,GAAG,KAAK;MAC7C;;MAEA;MACA,IAAI,OAAO6F,SAAS,IAAI,QAAQ,EAAE;QAChCA,SAAS,GAAG,EAAE,GAAGA,SAAS;MAC5B;MAEA,IAAK,SAAS,CAAE1I,IAAI,CAAC0I,SAAS,CAAC,EAAE;QAC/BA,SAAS,GAAGD,OAAO,CAACC,SAAS,EAAE3F,OAAO,CAAC;MACzC;;MAEA;MACAmG,MAAM,GAAGR,SAAS,CAChBzI,OAAO,CAAC,WAAW,EAAE,QAAQ,CAAC,CAC9BA,OAAO,CAACpG,GAAG,CAACU,UAAU,EAAE,MAAM,CAAC,CAC/B0F,OAAO,CAACpG,GAAG,CAACY,UAAU,EAAE,IAAI,CAAC,CAC7BwF,OAAO,CAACpG,GAAG,CAACW,UAAU,EAAE,IAAI,CAAC,CAC7ByF,OAAO,CAACpG,GAAG,CAACO,UAAU,EAAE,GAAG,CAAC,CAC5B6F,OAAO,CAACpG,GAAG,CAACM,UAAU,EAAE,EAAE,CAAC;;MAE7B;MACA,IAAI,CAAC8O,WAAW,GAAGC,MAAM,CAAC5B,KAAK,CAAC/K,WAAW,CAAC,KAAK0M,WAAW,CAAClC,IAAI,CAAC,EAAE,CAAC,IAAImC,MAAM,EAAE;QAC/ED,WAAW,GAAGC,MAAM,CAAC5B,KAAK,CAACzN,GAAG,CAACQ,UAAU,CAAC;QAC1C,IAAI6O,MAAM,CAACA,MAAM,CAACrL,MAAM,GAAG,CAAC,CAAC,IAAI,GAAG,EAAE;UACpC+F,IAAI,CAACzH,SAAS,CAAC;UACf,OAAOK,MAAM,CAACI,SAAS,GAAGiG,SAAS,GAAG,KAAK;QAC7C;MACF,CAAC,MAAM;QACLe,IAAI,CAAC,IAAI,GAAG8E,SAAS,GAAG,IAAI,GAAGvM,SAAS,CAAC;QACzC,OAAOK,MAAM,CAACI,SAAS,GAAGiG,SAAS,GAAG,KAAK;MAC7C;MAEAY,cAAc,CAACiF,SAAS,CAAC,GAAGK,aAAa,CAACE,WAAW,EAAEvL,QAAQ,CAAC;MAEhE,OAAOmL,YAAY,CAACpF,cAAc,CAACiF,SAAS,CAAC,CAACrQ,OAAO,EAAE0K,OAAO,EAAErF,QAAQ,CAAC;IAC3E,CAAC;IAEH;IACA2L,KAAK,GACH,SAASC,cAAcA,CAACZ,SAAS,EAAElK,OAAO,EAAEd,QAAQ,EAAE;MACpD,IAAIyL,SAAS,CAACtL,MAAM,KAAK,CAAC,EAAE;QAC1B+F,IAAI,CAAC1H,SAAS,EAAEkN,SAAS,CAAC;MAC5B;MACA,OAAOG,MAAM,CAACb,SAAS,EAAElK,OAAO,EAC9B,OAAOd,QAAQ,IAAI,UAAU,GAC7B,SAAS8L,UAAUA,CAACzG,OAAO,EAAE;QAC3BrF,QAAQ,CAACqF,OAAO,CAAC;QACjB,OAAO,KAAK;MACd,CAAC,GACD,SAASyG,UAAUA,CAAA,EAAG;QACpB,OAAO,KAAK;MACd,CAAC,CACF,CAAC,CAAC,CAAC,IAAI,IAAI;IACd,CAAC;IAEH;IACAD,MAAM,GACJ,SAASE,iBAAiBA,CAACf,SAAS,EAAElK,OAAO,EAAEd,QAAQ,EAAE;MAEvD,IAAIuL,WAAW;QAAExL,KAAK,GAAG,EAAG;QAAEyL,MAAM;QAAEQ,QAAQ;MAE9ClL,OAAO,KAAKA,OAAO,GAAG3F,GAAG,CAAC;MAE1B,IAAI6P,SAAS,EAAE;QACb,IAAKgB,QAAQ,GAAGhG,eAAe,CAACgF,SAAS,CAAC,EAAG;UAC3C,IAAIgB,QAAQ,CAAClL,OAAO,KAAKA,OAAO,IAAIkL,QAAQ,CAAChM,QAAQ,KAAKA,QAAQ,EAAE;YAClE,IAAIiD,CAAC,GAAG+I,QAAQ,CAACrR,OAAO;cAAEsR,CAAC,GAAGD,QAAQ,CAACE,OAAO;cAAEnJ,CAAC,GAAGiJ,QAAQ,CAACG,OAAO;YACpE,IAAIpJ,CAAC,CAAC5C,MAAM,GAAG,CAAC,EAAE;cAChB,KAAK,IAAIF,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAG6C,CAAC,CAAC5C,MAAM,EAAEC,IAAI,EAAEF,CAAC,GAAGD,CAAC,EAAE,EAAEA,CAAC,EAAE;gBAC9CG,IAAI,GAAGwC,MAAM,CAACG,CAAC,CAAC9C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACa,OAAO,EAAEiC,CAAC,CAAC9C,CAAC,CAAC,CAAC1E,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;gBAChD,IAAI0H,CAAC,CAAChD,CAAC,CAAC,KAAK,IAAI,EAAE;kBACjBgD,CAAC,CAAChD,CAAC,CAAC,CAACG,IAAI,EAAEJ,QAAQ,EAAEc,OAAO,EAAEf,KAAK,CAAC;gBACtC,CAAC,MAAM;kBACLA,KAAK,GAAGA,KAAK,CAACqM,MAAM,CAAChM,IAAI,CAAC;gBAC5B;cACF;cACA,IAAIF,CAAC,GAAG,CAAC,IAAIH,KAAK,CAACI,MAAM,GAAG,CAAC,EAAE;gBAC7BJ,KAAK,CAACsM,IAAI,CAAC/L,aAAa,CAAC;gBACzBG,QAAQ,KAAKV,KAAK,GAAGY,MAAM,CAACZ,KAAK,CAAC,CAAC;cACrC;YACF,CAAC,MAAM;cACL,IAAIkD,CAAC,CAAC,CAAC,CAAC,EAAE;gBACRlD,KAAK,GAAGkD,CAAC,CAAC,CAAC,CAAC,CAACgJ,CAAC,CAAC,CAAC,CAAC,EAAE,EAAEjM,QAAQ,EAAEc,OAAO,EAAEf,KAAK,CAAC;cAChD,CAAC,MAAM;gBACLA,KAAK,GAAGkM,CAAC,CAAC,CAAC,CAAC,EAAE;cAChB;YACF;YACA,OAAO,OAAOjM,QAAQ,IAAI,UAAU,GAClCF,UAAU,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGD,KAAK;UACvC;QACF;MACF;MAEAmK,YAAY,GAAGc,SAAS;;MAExB;MACA,IAAIS,SAAS,CAACtL,MAAM,KAAK,CAAC,EAAE;QAC1B+F,IAAI,CAAC1H,SAAS,EAAEkN,SAAS,CAAC;QAC1B,OAAO5M,MAAM,CAACI,SAAS,GAAGiG,SAAS,GAAGpB,IAAI;MAC5C,CAAC,MAAM,IAAI0H,SAAS,CAAC,CAAC,CAAC,KAAK,EAAE,EAAE;QAC9BvF,IAAI,CAAC,MAAM,GAAGzH,SAAS,CAAC;QACxB,OAAOK,MAAM,CAACI,SAAS,GAAGiG,SAAS,GAAGpB,IAAI;MAC5C,CAAC,MAAM,IAAI2C,WAAW,KAAK5F,OAAO,EAAE;QAClC4F,WAAW,GAAGvF,aAAa,CAACL,OAAO,CAAC;MACtC;;MAEA;MACA,IAAI,OAAOkK,SAAS,IAAI,QAAQ,EAAE;QAChCA,SAAS,GAAG,EAAE,GAAGA,SAAS;MAC5B;MAEA,IAAK,SAAS,CAAE1I,IAAI,CAAC0I,SAAS,CAAC,EAAE;QAC/BA,SAAS,GAAGD,OAAO,CAACC,SAAS,EAAElK,OAAO,CAAC;MACzC;;MAEA;MACA0K,MAAM,GAAGR,SAAS,CAChBzI,OAAO,CAAC,WAAW,EAAE,QAAQ,CAAC,CAC9BA,OAAO,CAACpG,GAAG,CAACU,UAAU,EAAE,MAAM,CAAC,CAC/B0F,OAAO,CAACpG,GAAG,CAACY,UAAU,EAAE,IAAI,CAAC,CAC7BwF,OAAO,CAACpG,GAAG,CAACW,UAAU,EAAE,IAAI,CAAC,CAC7ByF,OAAO,CAACpG,GAAG,CAACO,UAAU,EAAE,GAAG,CAAC,CAC5B6F,OAAO,CAACpG,GAAG,CAACM,UAAU,EAAE,EAAE,CAAC;;MAE7B;MACA,IAAI,CAAC8O,WAAW,GAAGC,MAAM,CAAC5B,KAAK,CAAC/K,WAAW,CAAC,KAAK0M,WAAW,CAAClC,IAAI,CAAC,EAAE,CAAC,IAAImC,MAAM,EAAE;QAC/ED,WAAW,GAAGC,MAAM,CAAC5B,KAAK,CAACzN,GAAG,CAACQ,UAAU,CAAC;QAC1C,IAAI6O,MAAM,CAACA,MAAM,CAACrL,MAAM,GAAG,CAAC,CAAC,IAAI,GAAG,EAAE;UACpC+F,IAAI,CAACzH,SAAS,CAAC;UACf,OAAOK,MAAM,CAACI,SAAS,GAAGiG,SAAS,GAAG,KAAK;QAC7C;MACF,CAAC,MAAM;QACLe,IAAI,CAAC,IAAI,GAAG8E,SAAS,GAAG,IAAI,GAAGvM,SAAS,CAAC;QACzC,OAAOK,MAAM,CAACI,SAAS,GAAGiG,SAAS,GAAG,KAAK;MAC7C;;MAEA;MACAa,eAAe,CAACgF,SAAS,CAAC,GAAGsB,OAAO,CAACf,WAAW,EAAEzK,OAAO,EAAEd,QAAQ,CAAC;MAEpED,KAAK,GAAGiG,eAAe,CAACgF,SAAS,CAAC,CAACuB,OAAO;MAE1C,OAAO,OAAOvM,QAAQ,IAAI,UAAU,GAClCF,UAAU,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGD,KAAK;IACvC,CAAC;IAEH;IACAyM,QAAQ,GACN,SAAAA,CAAS/D,QAAQ,EAAEE,KAAK,EAAE;MACxB,IAAI8D,KAAK,GAAG9D,KAAK,CAAC8D,KAAK;QACvBtM,MAAM,GAAGwI,KAAK,CAAC,CAAC,CAAC,CAACxI,MAAM,GAAGwI,KAAK,CAAC,CAAC,CAAC,CAACxI,MAAM;MAC1C,OAAOsI,QAAQ,CAAClN,KAAK,CAAC,CAAC,EAAEkR,KAAK,CAAC,IAC5B,MAAM,CAACjL,OAAO,CAACiH,QAAQ,CAACiE,MAAM,CAACD,KAAK,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAC7C,IAAI,CAACjL,OAAO,CAACiH,QAAQ,CAACiE,MAAM,CAACD,KAAK,GAAGtM,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GACvD,GAAG,GAAG,EAAE,GAAI,EAAE,CAAC,GAAGsI,QAAQ,CAAClN,KAAK,CAACkR,KAAK,GAAGtM,MAAM,IAAIwI,KAAK,CAAC,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IAClF,CAAC;IAEH;IACA2D,OAAO,GACL,SAAAA,CAAStB,SAAS,EAAElK,OAAO,EAAEd,QAAQ,EAAE;MAErC,IAAIC,CAAC;QAAEC,CAAC;QAAEyM,IAAI,GAAG,CAAE,CAAC;QAAEhE,KAAK,GAAG,CAAC,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC;QAAEiE,SAAS,GAAG5B,SAAS;QACnErQ,OAAO,GAAG,EAAG;QAAEuR,OAAO,GAAG,EAAG;QAAEC,OAAO,GAAG,EAAG;QAAEI,OAAO,GAAG,EAAG;QAAEvC,IAAI;MAEhE,KAAK/J,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAG8K,SAAS,CAAC7K,MAAM,EAAED,CAAC,GAAGD,CAAC,EAAE,EAAEA,CAAC,EAAE;QAE5C,IAAI,CAAC0M,IAAI,CAAC3B,SAAS,CAAC/K,CAAC,CAAC,CAAC,KAAK0M,IAAI,CAAC3B,SAAS,CAAC/K,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE;UACtD+J,IAAI,GAAGgB,SAAS,CAAC/K,CAAC,CAAC,CAAC2J,KAAK,CAAChL,WAAW,CAAC;UACtC,IAAIoL,IAAI,IAAIA,IAAI,CAAC,CAAC,CAAC,IAAI,GAAG,KAAKrB,KAAK,GAAGqB,IAAI,CAAC,EAAE;YAC5CrB,KAAK,CAAC,CAAC,CAAC,KAAKA,KAAK,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;YAC5BiE,SAAS,CAAC3M,CAAC,CAAC,GAAGuM,QAAQ,CAACI,SAAS,CAAC3M,CAAC,CAAC,EAAE0I,KAAK,CAAC;UAC9C,CAAC,MAAM;YACLA,KAAK,GAAG,CAAC,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC;UACxB;QACF;QAEAwD,OAAO,CAAClM,CAAC,CAAC,GAAG0I,KAAK,CAAC,CAAC,CAAC,GAAGA,KAAK,CAAC,CAAC,CAAC;QAChCuD,OAAO,CAACjM,CAAC,CAAC,GAAG2C,MAAM,CAAC+F,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC7H,OAAO,EAAE6H,KAAK,CAAC,CAAC,CAAC,CAAC;QAChDhO,OAAO,CAACsF,CAAC,CAAC,GAAGuI,OAAO,CAACoE,SAAS,CAAC3M,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC;QAE9CtF,OAAO,CAACsF,CAAC,CAAC,GACRtF,OAAO,CAACsF,CAAC,CAAC,CAACiM,OAAO,CAACjM,CAAC,CAAC,EAAE,EAAED,QAAQ,EAAEc,OAAO,EAAEyL,OAAO,CAAC,GACpD1C,MAAM,CAACuC,MAAM,CAACF,OAAO,CAACjM,CAAC,CAAC,EAAE,CAAC;MAC/B;MAEA,IAAIC,CAAC,GAAG,CAAC,EAAE;QACTqM,OAAO,CAACF,IAAI,CAAC/L,aAAa,CAAC;QAC3BG,QAAQ,KAAK8L,OAAO,GAAG5L,MAAM,CAAC4L,OAAO,CAAC,CAAC;MACzC;MAEA,OAAO;QACLvM,QAAQ,EAAEA,QAAQ;QAClBc,OAAO,EAAEA,OAAO;QAChBnG,OAAO,EAAEA,OAAO;QAChBuR,OAAO,EAAEA,OAAO;QAChBC,OAAO,EAAEA,OAAO;QAChBI,OAAO,EAAEA;MACX,CAAC;IAEH,CAAC;IAEH;IACArB,QAAQ;IAAEI,QAAQ;IAAEM,cAAc;IAAEG,iBAAiB;IAErD;IACAc,OAAO,GACL,SAAAA,CAAS7I,GAAG,EAAE;MAEZ;MACAkH,QAAQ,GAAG4B,OAAO,CAACrR,SAAS,CAACsR,OAAO;MACpCzB,QAAQ,GAAGwB,OAAO,CAACrR,SAAS,CAACuR,OAAO;MACpCpB,cAAc,GAAGqB,QAAQ,CAACxR,SAAS,CAACyR,aAAa;MACjDnB,iBAAiB,GAAGkB,QAAQ,CAACxR,SAAS,CAAC0R,gBAAgB;MAEvDL,OAAO,CAACrR,SAAS,CAACsR,OAAO,GACvB,SAASA,OAAOA,CAAA,EAAG;QACjB,IAAIK,IAAI,GAAG3H,MAAM,CAAC4H,cAAc,CAAC,IAAI,CAAC,CAACC,SAAS,CAACA,SAAS,CAACC,WAAW,CAAC5I,IAAI;QAC3E,IAAI,EAAE,UAAU,IAAI,IAAI,CAAC,EAAE;UAAEuB,IAAI,CAAC,oEAAoE,GAAGkH,IAAI,GAAG,GAAG,EAAE1B,SAAS,CAAC;QAAE;QACjI,OAAOD,SAAS,CAACtL,MAAM,GAAG,CAAC,GAAG/B,QAAQ,CAACoP,KAAK,CAAC,IAAI,EAAE,EAAG,CAAC,GAChD/B,SAAS,CAACtL,MAAM,GAAG,CAAC,GAAG/B,QAAQ,CAACoP,KAAK,CAAC,IAAI,EAAE,CAAE/B,SAAS,CAAC,CAAC,CAAC,EAAE,IAAI,CAAE,CAAC,GAC5CrN,QAAQ,CAACoP,KAAK,CAAC,IAAI,EAAE,CAAE/B,SAAS,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,OAAOA,SAAS,CAAC,CAAC,CAAC,IAAI,UAAU,GAAGA,SAAS,CAAC,CAAC,CAAC,GAAGtG,SAAS,CAAE,CAAC;MAC1I,CAAC;MAEH2H,OAAO,CAACrR,SAAS,CAACuR,OAAO,GACvB,SAASA,OAAOA,CAAA,EAAG;QACjB,IAAII,IAAI,GAAG3H,MAAM,CAAC4H,cAAc,CAAC,IAAI,CAAC,CAACC,SAAS,CAACA,SAAS,CAACC,WAAW,CAAC5I,IAAI;QAC3E,IAAI,EAAE,UAAU,IAAI,IAAI,CAAC,EAAE;UAAEuB,IAAI,CAAC,oEAAoE,GAAGkH,IAAI,GAAG,GAAG,EAAE1B,SAAS,CAAC;QAAE;QACjI,OAAOD,SAAS,CAACtL,MAAM,GAAG,CAAC,GAAGyJ,KAAK,CAAC4D,KAAK,CAAC,IAAI,EAAE,EAAG,CAAC,GAC7C/B,SAAS,CAACtL,MAAM,GAAG,CAAC,GAAGyJ,KAAK,CAAC4D,KAAK,CAAC,IAAI,EAAE,CAAE/B,SAAS,CAAC,CAAC,CAAC,EAAE,IAAI,CAAE,CAAC,GACzC7B,KAAK,CAAC4D,KAAK,CAAC,IAAI,EAAE,CAAE/B,SAAS,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,OAAOA,SAAS,CAAC,CAAC,CAAC,IAAI,UAAU,GAAGA,SAAS,CAAC,CAAC,CAAC,GAAGtG,SAAS,CAAE,CAAC;MACvI,CAAC;MAEH2H,OAAO,CAACrR,SAAS,CAACyR,aAAa,GAC/BD,QAAQ,CAACxR,SAAS,CAACyR,aAAa,GAChCO,gBAAgB,CAAChS,SAAS,CAACyR,aAAa,GACtC,SAASA,aAAaA,CAAA,EAAG;QACvB,IAAIE,IAAI,GAAG3H,MAAM,CAAC4H,cAAc,CAAC,IAAI,CAAC,CAACC,SAAS,CAACA,SAAS,CAACC,WAAW,CAAC5I,IAAI;QAC3E,IAAI,EAAE,UAAU,IAAI,IAAI,CAAC,EAAE;UAAEuB,IAAI,CAAC,0EAA0E,GAAGkH,IAAI,GAAG,GAAG,EAAE1B,SAAS,CAAC;QAAE;QACvI,OAAOD,SAAS,CAACtL,MAAM,GAAG,CAAC,GAAGwL,KAAK,CAAC6B,KAAK,CAAC,IAAI,EAAE,EAAG,CAAC,GAC7C/B,SAAS,CAACtL,MAAM,GAAG,CAAC,GAAGwL,KAAK,CAAC6B,KAAK,CAAC,IAAI,EAAE,CAAE/B,SAAS,CAAC,CAAC,CAAC,EAAE,IAAI,CAAE,CAAC,GACzCE,KAAK,CAAC6B,KAAK,CAAC,IAAI,EAAE,CAAE/B,SAAS,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,OAAOA,SAAS,CAAC,CAAC,CAAC,IAAI,UAAU,GAAGA,SAAS,CAAC,CAAC,CAAC,GAAGtG,SAAS,CAAE,CAAC;MACvI,CAAC;MAEH2H,OAAO,CAACrR,SAAS,CAAC0R,gBAAgB,GAClCF,QAAQ,CAACxR,SAAS,CAAC0R,gBAAgB,GACnCM,gBAAgB,CAAChS,SAAS,CAAC0R,gBAAgB,GACzC,SAASA,gBAAgBA,CAAA,EAAG;QAC1B,IAAIC,IAAI,GAAG3H,MAAM,CAAC4H,cAAc,CAAC,IAAI,CAAC,CAACC,SAAS,CAACA,SAAS,CAACC,WAAW,CAAC5I,IAAI;QAC3E,IAAI,EAAE,UAAU,IAAI,IAAI,CAAC,EAAE;UAAEuB,IAAI,CAAC,6EAA6E,GAAGkH,IAAI,GAAG,GAAG,EAAE1B,SAAS,CAAC;QAAE;QAC1I,OAAOD,SAAS,CAACtL,MAAM,GAAG,CAAC,GAAG0L,MAAM,CAAC2B,KAAK,CAAC,IAAI,EAAE,EAAG,CAAC,GAC9C/B,SAAS,CAACtL,MAAM,GAAG,CAAC,GAAG0L,MAAM,CAAC2B,KAAK,CAAC,IAAI,EAAE,CAAE/B,SAAS,CAAC,CAAC,CAAC,EAAE,IAAI,CAAE,CAAC,GAC1CI,MAAM,CAAC2B,KAAK,CAAC,IAAI,EAAE,CAAE/B,SAAS,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,OAAOA,SAAS,CAAC,CAAC,CAAC,IAAI,UAAU,GAAGA,SAAS,CAAC,CAAC,CAAC,GAAGtG,SAAS,CAAE,CAAC;MACxI,CAAC;MAEH,IAAInB,GAAG,EAAE;QACP5I,QAAQ,CAACsS,gBAAgB,CAAC,MAAM,EAAE,UAAS1K,CAAC,EAAE;UAC5C,IAAIF,CAAC;YAAE6K,CAAC;YAAEvC,CAAC;YAAEwC,CAAC;YAAEC,CAAC,GAAG7K,CAAC,CAAC8K,MAAM;UAC5B,IAAI,SAAS,CAACxL,IAAI,CAACuL,CAAC,CAACvJ,SAAS,CAAC,EAAE;YAC/BxB,CAAC,GAAG,GAAG,GAAGrI,MAAM,GAAG,UAAU,GAAGQ,OAAO,GAAG,IAAI;YAAE0S,CAAC,GAAGE,CAAC,CAACE,eAAe;YACrEH,CAAC,GAAGD,CAAC,CAAChI,aAAa,CAAC,QAAQ,CAAC;YAAEiI,CAAC,CAACI,WAAW,GAAGlL,CAAC,GAAG,kBAAkB;YACrEsI,CAAC,GAAGuC,CAAC,CAACrS,eAAe;YAAE8P,CAAC,CAAC6C,WAAW,CAAC7C,CAAC,CAAC8C,YAAY,CAACN,CAAC,EAAExC,CAAC,CAAC+C,UAAU,CAAC,CAAC;UACvE;QACF,CAAC,EAAE,IAAI,CAAC;MACV;IAEF,CAAC;IAEH;IACAC,SAAS,GACP,SAAAA,CAAA,EAAW;MACT;MACAtB,OAAO,CAACrR,SAAS,CAACsR,OAAO,GAAG7B,QAAQ;MACpC4B,OAAO,CAACrR,SAAS,CAACuR,OAAO,GAAG1B,QAAQ;MACpCwB,OAAO,CAACrR,SAAS,CAACyR,aAAa,GAC/BD,QAAQ,CAACxR,SAAS,CAACyR,aAAa,GAChCO,gBAAgB,CAAChS,SAAS,CAACyR,aAAa,GAAGtB,cAAc;MACzDkB,OAAO,CAACrR,SAAS,CAAC0R,gBAAgB,GAClCF,QAAQ,CAACxR,SAAS,CAAC0R,gBAAgB,GACnCM,gBAAgB,CAAChS,SAAS,CAAC0R,gBAAgB,GAAGpB,iBAAiB;IACjE,CAAC;IAEH;IACAhI,IAAI,GAAGvI,KAAK,EAAE;IAEd;IACAkL,WAAW;IAEX;IACAyD,WAAW;IACXD,YAAY;IAEZ;IACAhB,YAAY,GAAG,CAAE,CAAC;IAClBD,aAAa,GAAG,CAAE,CAAC;IAEnB;IACAlD,cAAc,GAAG,CAAE,CAAC;IACpBC,eAAe,GAAG,CAAE,CAAC;IAErB;IACAvE,QAAQ,GAAG;MAETtG,GAAG,EAAEA,GAAG;MACRuG,IAAI,EAAEvG,GAAG;MACTE,IAAI,EAAEA,IAAI;MAEV+H,KAAK,EAAEA,KAAK;MAEZuI,KAAK,EAAEA,KAAK;MACZ/B,KAAK,EAAEA,KAAK;MAEZxL,QAAQ,EAAEA,QAAQ;MAElBoH,SAAS,EAAEA,SAAS;MACpBV,UAAU,EAAEA,UAAU;MAEtBJ,cAAc,EAAEA;IAClB,CAAC;IAED;IACA1J,GAAG,GAAG;MAEJ;;MAEAmP,WAAW,EAAEA,WAAW;MACxBD,YAAY,EAAEA,YAAY;MAE1BhB,YAAY,EAAEA,YAAY;MAC1BD,aAAa,EAAEA,aAAa;MAE5BlD,cAAc,EAAEA,cAAc;MAC9BC,eAAe,EAAEA,eAAe;MAEhC;;MAEArK,GAAG,EAAEA,GAAG;MAERqM,MAAM,EAAEA,MAAM;MACdF,MAAM,EAAEA,MAAM;MACdO,MAAM,EAAEA,MAAM;MACdF,MAAM,EAAEA,MAAM;MAEd;;MAEAjF,IAAI,EAAEA,IAAI;MACVE,KAAK,EAAEA,KAAK;MACZG,OAAO,EAAEA,OAAO;MAEhBqG,KAAK,EAAEA,KAAK;MACZ+B,KAAK,EAAEA,KAAK;MACZE,MAAM,EAAEA,MAAM;MACdkB,OAAO,EAAE3O,QAAQ;MAEjBoK,OAAO,EAAEA,OAAO;MAChB5C,SAAS,EAAEA,SAAS;MAEpBM,IAAI,EAAEA,IAAI;MACVpH,MAAM,EAAEA,MAAM;MACd2C,QAAQ,EAAEA,QAAQ;MAElB4M,OAAO,EAAEnT,OAAO;MAEhB2R,OAAO,EAAEA,OAAO;MAChBuB,SAAS,EAAEA,SAAS;MAEpB1O,SAAS,EAAEA,SAAS;MACpBD,SAAS,EAAEA,SAAS;MAEpB;MACA6O,kBAAkB,EAChB,SAAAA,CAASrR,UAAU,EAAE+O,QAAQ,EAAE;QAC7B,IAAI/L,CAAC,GAAG,CAAC;UAAEC,CAAC,GAAGjD,UAAU,CAACkD,MAAM;UAAE4J,MAAM;QACxC,OAAO7J,CAAC,GAAGD,CAAC,EAAE,EAAEA,CAAC,EAAE;UACjB,IAAIhD,UAAU,CAACgD,CAAC,CAAC,IAAI,GAAG,EAAE;YACxB8J,MAAM,GAAG9M,UAAU,CAACgD,CAAC,CAAC;YACtB;UACF;QACF;QACA,IAAItE,GAAG,CAACE,WAAW,CAAC2F,OAAO,CAACuI,MAAM,CAAC,GAAG,CAAC,EAAE;UACvCpO,GAAG,CAACE,WAAW,GAAGF,GAAG,CAACE,WAAW,CAAC0G,OAAO,CAAC,IAAI,EAAEwH,MAAM,GAAG,IAAI,CAAC;UAC9DpO,GAAG,CAACE,WAAW,GAAGF,GAAG,CAACE,WAAW,CAAC0G,OAAO,CAAC,IAAI,EAAEwH,MAAM,GAAG,IAAI,CAAC;UAC9DvK,WAAW,CAACvC,UAAU,CAAC,GAAG+O,QAAQ;UAClC/F,mBAAmB,EAAE;QACvB,CAAC,MAAM;UACLM,OAAO,CAACgI,IAAI,CAAC,iBAAiB,GAAGtR,UAAU,GAAG,sCAAsC,CAAC;QACvF;MACF,CAAC;MAEH;MACAuR,gBAAgB,EACd,SAAAA,CAASC,QAAQ,EAAEzC,QAAQ,EAAE;QAC3B,IAAI/L,CAAC,GAAG,CAAC;UAAEC,CAAC,GAAGuO,QAAQ,CAACtO,MAAM;UAAE4J,MAAM;QACtC,OAAO7J,CAAC,GAAGD,CAAC,EAAE,EAAEA,CAAC,EAAE;UACjB,IAAIwO,QAAQ,CAACxO,CAAC,CAAC,IAAI,GAAG,EAAE;YACtB8J,MAAM,GAAG0E,QAAQ,CAACxO,CAAC,CAAC;YACpB;UACF;QACF;QACA,IAAItE,GAAG,CAACC,SAAS,CAAC4F,OAAO,CAACuI,MAAM,CAAC,GAAG,CAAC,IAAI,CAACrK,SAAS,CAAC+O,QAAQ,CAAC,EAAE;UAC7D9S,GAAG,CAACC,SAAS,GAAGD,GAAG,CAACC,SAAS,CAAC2G,OAAO,CAAC,IAAI,EAAEwH,MAAM,GAAG,IAAI,CAAC;UAC1DrK,SAAS,CAAC+O,QAAQ,CAAC,GAAGzC,QAAQ;UAC9B/F,mBAAmB,EAAE;QACvB,CAAC,MAAM;UACLM,OAAO,CAACgI,IAAI,CAAC,iBAAiB,GAAGE,QAAQ,GAAG,oCAAoC,CAAC;QACnF;MACF,CAAC;MAEH;MACAC,gBAAgB,EACd,SAAAA,CAAS/J,IAAI,EAAEgK,IAAI,EAAEC,IAAI,EAAE;QACzBnP,SAAS,CAACkF,IAAI,CAAC,KAAKlF,SAAS,CAACkF,IAAI,CAAC,GAAG;UACpCgG,UAAU,EAAEgE,IAAI;UAChB/D,QAAQ,EAAEgE;QACZ,CAAC,CAAC;MACJ;IAEJ,CAAC;EAEDnI,UAAU,CAACtL,GAAG,CAAC;EAEf,OAAOH,GAAG;AAEZ,CAAC,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}