{"ast":null,"code":"\"use strict\";\n\nconst FocusEvent = require(\"../generated/FocusEvent.js\");\nconst idlUtils = require(\"../generated/utils.js\");\nconst {\n  isDisabled\n} = require(\"./form-controls.js\");\nconst {\n  firstChildWithLocalName\n} = require(\"./traversal\");\nconst {\n  createAnEvent\n} = require(\"./events\");\nconst {\n  HTML_NS,\n  SVG_NS\n} = require(\"./namespaces\");\nconst {\n  isRenderedElement\n} = require(\"./svg/render\");\nconst focusableFormElements = new Set([\"input\", \"select\", \"textarea\", \"button\"]);\n\n// https://html.spec.whatwg.org/multipage/interaction.html#focusable-area, but also some of\n// https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps and some of\n// https://svgwg.org/svg2-draft/interact.html#TermFocusable\nexports.isFocusableAreaElement = elImpl => {\n  // We implemented most of the suggested focusable elements found here:\n  // https://html.spec.whatwg.org/multipage/interaction.html#tabindex-value\n  // However, some suggested elements are not focusable in web browsers, as detailed here:\n  // https://github.com/whatwg/html/issues/5490\n  if (elImpl._namespaceURI === HTML_NS) {\n    if (!elImpl._ownerDocument._defaultView) {\n      return false;\n    }\n    if (!elImpl.isConnected) {\n      return false;\n    }\n    if (!Number.isNaN(parseInt(elImpl.getAttributeNS(null, \"tabindex\")))) {\n      return true;\n    }\n    if (elImpl._localName === \"iframe\") {\n      return true;\n    }\n    if (elImpl._localName === \"a\" && elImpl.hasAttributeNS(null, \"href\")) {\n      return true;\n    }\n    if (elImpl._localName === \"summary\" && elImpl.parentNode && elImpl.parentNode._localName === \"details\" && elImpl === firstChildWithLocalName(elImpl.parentNode, \"summary\")) {\n      return true;\n    }\n    if (focusableFormElements.has(elImpl._localName) && !isDisabled(elImpl)) {\n      if (elImpl._localName === \"input\" && elImpl.type === \"hidden\") {\n        return false;\n      }\n      return true;\n    }\n    if (elImpl.hasAttributeNS(null, \"contenteditable\")) {\n      return true;\n    }\n    return false;\n\n    // This does not check for a designMode Document as specified in\n    // https://html.spec.whatwg.org/multipage/interaction.html#editing-host because the designMode\n    // attribute is not implemented.\n  }\n\n  if (elImpl._namespaceURI === SVG_NS) {\n    if (!Number.isNaN(parseInt(elImpl.getAttributeNS(null, \"tabindex\"))) && isRenderedElement(elImpl)) {\n      return true;\n    }\n    if (elImpl._localName === \"a\" && elImpl.hasAttributeNS(null, \"href\")) {\n      return true;\n    }\n    return false;\n  }\n  return false;\n};\n\n// https://html.spec.whatwg.org/multipage/interaction.html#fire-a-focus-event plus the steps of\n// https://html.spec.whatwg.org/multipage/interaction.html#focus-update-steps that adjust Documents to Windows\n// It's extended with the bubbles option to also handle focusin/focusout, which are \"defined\" in\n// https://w3c.github.io/uievents/#event-type-focusin. See https://github.com/whatwg/html/issues/3514.\nexports.fireFocusEventWithTargetAdjustment = function (name, target, relatedTarget) {\n  let {\n    bubbles = false\n  } = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  if (target === null) {\n    // E.g. firing blur with nothing previously focused.\n    return;\n  }\n  const event = createAnEvent(name, target._globalObject, FocusEvent, {\n    bubbles,\n    composed: true,\n    relatedTarget,\n    view: target._ownerDocument._defaultView,\n    detail: 0\n  });\n  if (target._defaultView) {\n    target = idlUtils.implForWrapper(target._defaultView);\n  }\n  target._dispatch(event);\n};","map":{"version":3,"names":["FocusEvent","require","idlUtils","isDisabled","firstChildWithLocalName","createAnEvent","HTML_NS","SVG_NS","isRenderedElement","focusableFormElements","Set","exports","isFocusableAreaElement","elImpl","_namespaceURI","_ownerDocument","_defaultView","isConnected","Number","isNaN","parseInt","getAttributeNS","_localName","hasAttributeNS","parentNode","has","type","fireFocusEventWithTargetAdjustment","name","target","relatedTarget","bubbles","arguments","length","undefined","event","_globalObject","composed","view","detail","implForWrapper","_dispatch"],"sources":["C:/Users/noodp/Documents/GitHub/Pensionsrechner/client/node_modules/jsdom/lib/jsdom/living/helpers/focusing.js"],"sourcesContent":["\"use strict\";\r\nconst FocusEvent = require(\"../generated/FocusEvent.js\");\r\nconst idlUtils = require(\"../generated/utils.js\");\r\nconst { isDisabled } = require(\"./form-controls.js\");\r\nconst { firstChildWithLocalName } = require(\"./traversal\");\r\nconst { createAnEvent } = require(\"./events\");\r\nconst { HTML_NS, SVG_NS } = require(\"./namespaces\");\r\nconst { isRenderedElement } = require(\"./svg/render\");\r\n\r\nconst focusableFormElements = new Set([\"input\", \"select\", \"textarea\", \"button\"]);\r\n\r\n// https://html.spec.whatwg.org/multipage/interaction.html#focusable-area, but also some of\r\n// https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps and some of\r\n// https://svgwg.org/svg2-draft/interact.html#TermFocusable\r\nexports.isFocusableAreaElement = elImpl => {\r\n  // We implemented most of the suggested focusable elements found here:\r\n  // https://html.spec.whatwg.org/multipage/interaction.html#tabindex-value\r\n  // However, some suggested elements are not focusable in web browsers, as detailed here:\r\n  // https://github.com/whatwg/html/issues/5490\r\n  if (elImpl._namespaceURI === HTML_NS) {\r\n    if (!elImpl._ownerDocument._defaultView) {\r\n      return false;\r\n    }\r\n\r\n    if (!elImpl.isConnected) {\r\n      return false;\r\n    }\r\n\r\n    if (!Number.isNaN(parseInt(elImpl.getAttributeNS(null, \"tabindex\")))) {\r\n      return true;\r\n    }\r\n\r\n    if (elImpl._localName === \"iframe\") {\r\n      return true;\r\n    }\r\n\r\n    if (elImpl._localName === \"a\" && elImpl.hasAttributeNS(null, \"href\")) {\r\n      return true;\r\n    }\r\n\r\n    if (elImpl._localName === \"summary\" && elImpl.parentNode &&\r\n        elImpl.parentNode._localName === \"details\" &&\r\n        elImpl === firstChildWithLocalName(elImpl.parentNode, \"summary\")) {\r\n      return true;\r\n    }\r\n\r\n    if (focusableFormElements.has(elImpl._localName) && !isDisabled(elImpl)) {\r\n      if (elImpl._localName === \"input\" && elImpl.type === \"hidden\") {\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    }\r\n\r\n    if (elImpl.hasAttributeNS(null, \"contenteditable\")) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n\r\n    // This does not check for a designMode Document as specified in\r\n    // https://html.spec.whatwg.org/multipage/interaction.html#editing-host because the designMode\r\n    // attribute is not implemented.\r\n  }\r\n\r\n  if (elImpl._namespaceURI === SVG_NS) {\r\n    if (!Number.isNaN(parseInt(elImpl.getAttributeNS(null, \"tabindex\"))) && isRenderedElement(elImpl)) {\r\n      return true;\r\n    }\r\n\r\n    if (elImpl._localName === \"a\" && elImpl.hasAttributeNS(null, \"href\")) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  return false;\r\n};\r\n\r\n// https://html.spec.whatwg.org/multipage/interaction.html#fire-a-focus-event plus the steps of\r\n// https://html.spec.whatwg.org/multipage/interaction.html#focus-update-steps that adjust Documents to Windows\r\n// It's extended with the bubbles option to also handle focusin/focusout, which are \"defined\" in\r\n// https://w3c.github.io/uievents/#event-type-focusin. See https://github.com/whatwg/html/issues/3514.\r\nexports.fireFocusEventWithTargetAdjustment = (name, target, relatedTarget, { bubbles = false } = {}) => {\r\n  if (target === null) {\r\n    // E.g. firing blur with nothing previously focused.\r\n    return;\r\n  }\r\n\r\n  const event = createAnEvent(name, target._globalObject, FocusEvent, {\r\n    bubbles,\r\n    composed: true,\r\n    relatedTarget,\r\n    view: target._ownerDocument._defaultView,\r\n    detail: 0\r\n  });\r\n\r\n  if (target._defaultView) {\r\n    target = idlUtils.implForWrapper(target._defaultView);\r\n  }\r\n\r\n  target._dispatch(event);\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}